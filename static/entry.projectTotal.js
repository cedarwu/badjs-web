webpackJsonp([5],{0:function(e,t,i){var n=i(119);n.init()},97:function(module,exports,__webpack_require__){(function($,jQuery){var w2ui=w2ui||{},w2obj=w2obj||{},w2utils=function(){function e(e){var t=/^[-+]?[0-9]+$/;return t.test(e)}function t(e){return("number"==typeof e||"string"==typeof e&&""!==e)&&!isNaN(Number(e))}function i(e){var t=w2utils.settings,i=new RegExp("^"+(t.currencyPrefix?"\\"+t.currencyPrefix+"?":"")+"[-+]?[0-9]*[.]?[0-9]+"+(t.currencySuffix?"\\"+t.currencySuffix+"?":"")+"$","i");return"string"==typeof e&&(e=e.replace(new RegExp(t.groupSymbol,"g"),"")),"object"==typeof e||""===e?!1:i.test(e)}function n(e){var t=/^[a-fA-F0-9]+$/;return t.test(e)}function r(e){var t=/^[a-zA-Z0-9_-]+$/;return t.test(e)}function s(e){var t=/^[a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;return t.test(e)}function o(t,i,n){if(!t)return!1;var r,s,o,a="Invalid Date";if(null==i&&(i=w2utils.settings.date_format),"function"==typeof t.getUTCFullYear&&"function"==typeof t.getUTCMonth&&"function"==typeof t.getUTCDate)o=t.getUTCFullYear(),r=t.getUTCMonth(),s=t.getUTCDate();else if("function"==typeof t.getFullYear&&"function"==typeof t.getMonth&&"function"==typeof t.getDate)o=t.getFullYear(),r=t.getMonth(),s=t.getDate();else{if(t=String(t),RegExp("mon","ig").test(i)){i=i.replace(/month/gi,"m").replace(/mon/gi,"m").replace(/dd/gi,"d").replace(/[, ]/gi,"/").replace(/\/\//g,"/").toLowerCase(),t=t.replace(/[, ]/gi,"/").replace(/\/\//g,"/").toLowerCase();for(var l=0,d=w2utils.settings.fullmonths.length;d>l;l++){var u=w2utils.settings.fullmonths[l];t=t.replace(RegExp(u,"ig"),parseInt(l)+1).replace(RegExp(u.substr(0,3),"ig"),parseInt(l)+1)}}var c=t.replace(/-/g,"/").replace(/\./g,"/").toLowerCase().split("/"),h=i.replace(/-/g,"/").replace(/\./g,"/").toLowerCase();"mm/dd/yyyy"===h&&(r=c[0],s=c[1],o=c[2]),"m/d/yyyy"===h&&(r=c[0],s=c[1],o=c[2]),"dd/mm/yyyy"===h&&(r=c[1],s=c[0],o=c[2]),"d/m/yyyy"===h&&(r=c[1],s=c[0],o=c[2]),"yyyy/dd/mm"===h&&(r=c[2],s=c[1],o=c[0]),"yyyy/d/m"===h&&(r=c[2],s=c[1],o=c[0]),"yyyy/mm/dd"===h&&(r=c[1],s=c[2],o=c[0]),"yyyy/m/d"===h&&(r=c[1],s=c[2],o=c[0]),"mm/dd/yy"===h&&(r=c[0],s=c[1],o=c[2]),"m/d/yy"===h&&(r=c[0],s=c[1],o=parseInt(c[2])+1900),"dd/mm/yy"===h&&(r=c[1],s=c[0],o=parseInt(c[2])+1900),"d/m/yy"===h&&(r=c[1],s=c[0],o=parseInt(c[2])+1900),"yy/dd/mm"===h&&(r=c[2],s=c[1],o=parseInt(c[0])+1900),"yy/d/m"===h&&(r=c[2],s=c[1],o=parseInt(c[0])+1900),"yy/mm/dd"===h&&(r=c[1],s=c[2],o=parseInt(c[0])+1900),"yy/m/d"===h&&(r=c[1],s=c[2],o=parseInt(c[0])+1900)}return e(o)&&e(r)&&e(s)?(o=+o,r=+r,s=+s,a=new Date(o,r-1,s),null==r?!1:"Invalid Date"===a?!1:a.getMonth()+1!==r||a.getDate()!==s||a.getFullYear()!==o?!1:n===!0?a:!0):!1}function a(e,t){if(null==e)return!1;var i,n;e=String(e),e=e.toUpperCase(),n=e.indexOf("PM")>=0;var r=n||e.indexOf("AM")>=0;i=r?12:24,e=e.replace("AM","").replace("PM",""),e=$.trim(e);var s=e.split(":"),o=parseInt(s[0]||0),a=parseInt(s[1]||0);return r&&1===s.length||2===s.length?""===s[0]||0>o||o>i||!this.isInt(s[0])||s[0].length>2?!1:2===s.length&&(""===s[1]||0>a||a>59||!this.isInt(s[1])||2!==s[1].length)?!1:r||i!==o||0===a?r&&1===s.length&&0===o?!1:t===!0?(n&&(o+=12),{hours:o,minutes:a}):!0:!1:!1}function l(e){if(""===e||null==e)return"";var t=new Date(e);if(w2utils.isInt(e)&&(t=new Date(Number(e))),"Invalid Date"===t)return"";var i=new Date,n=(i.getTime()-t.getTime())/1e3,r="",s="";return 0>n?(r='<span style="color: #aaa">future</span>',s=""):60>n?(r=Math.floor(n),s="sec",0>n&&(r=0,s="sec")):3600>n?(r=Math.floor(n/60),s="min"):86400>n?(r=Math.floor(n/60/60),s="hour"):2592e3>n?(r=Math.floor(n/24/60/60),s="day"):31557600>n?(r=Math.floor(n/365.25/24/60/60*10)/10,s="month"):n>=31557600&&(r=Math.floor(n/365.25/24/60/60*10)/10,s="year"),r+" "+s+(r>1?"s":"")}function d(e){if(""===e||null==e)return"";var t=new Date(e);if(w2utils.isInt(e)&&(t=new Date(Number(e))),"Invalid Date"===t)return"";var i=w2utils.settings.shortmonths,n=new Date,r=new Date;r.setTime(r.getTime()-864e5);var s=i[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear(),o=i[n.getMonth()]+" "+n.getDate()+", "+n.getFullYear(),a=i[r.getMonth()]+" "+r.getDate()+", "+r.getFullYear(),l=t.getHours()-(t.getHours()>12?12:0)+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+" "+(t.getHours()>=12?"pm":"am"),d=t.getHours()-(t.getHours()>12?12:0)+":"+(t.getMinutes()<10?"0":"")+t.getMinutes()+":"+(t.getSeconds()<10?"0":"")+t.getSeconds()+" "+(t.getHours()>=12?"pm":"am"),u=s;return s===o&&(u=l),s===a&&(u=w2utils.lang("Yesterday")),'<span title="'+s+" "+d+'">'+u+"</span>"}function u(e){if(!w2utils.isFloat(e)||""===e)return"";if(e=parseFloat(e),0===e)return 0;var t=["Bt","KB","MB","GB","TB"],i=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return(Math.floor(e/Math.pow(1024,i)*10)/10).toFixed(0===i?0:1)+" "+t[i]}function c(e,t){var i="";return null==t&&(t=w2utils.settings.groupSymbol||","),(w2utils.isFloat(e)||w2utils.isInt(e)||w2utils.isMoney(e))&&(Y=String(e).split("."),i=String(Y[0]).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t),null!=Y[1]&&(i+="."+Y[1])),i}function h(e,t){if(w2utils.settings.shortmonths,w2utils.settings.fullmonths,t||(t=this.settings.date_format),""===e||null==e)return"";var i=new Date(e);if(w2utils.isInt(e)&&(i=new Date(Number(e))),"Invalid Date"===i)return"";var n=i.getFullYear(),r=i.getMonth(),s=i.getDate();return t.toLowerCase().replace("month",w2utils.settings.fullmonths[r]).replace("mon",w2utils.settings.shortmonths[r]).replace(/yyyy/g,n).replace(/yyy/g,n).replace(/yy/g,n>2e3?100+parseInt(String(n).substr(2)):String(n).substr(2)).replace(/(^|[^a-z$])y/g,"$1"+n).replace(/mm/g,(10>r+1?"0":"")+(r+1)).replace(/dd/g,(10>s?"0":"")+s).replace(/(^|[^a-z$])m/g,"$1"+(r+1)).replace(/(^|[^a-z$])d/g,"$1"+s)}function p(e,t){if(w2utils.settings.shortmonths,w2utils.settings.fullmonths,t||(t="h12"===this.settings.time_format?"hh:mi pm":"h24:mi"),""===e||null==e)return"";var i=new Date(e);if(w2utils.isInt(e)&&(i=new Date(Number(e))),w2utils.isTime(e)){var n=w2utils.isTime(e,!0);i=new Date,i.setHours(n.hours),i.setMinutes(n.minutes)}if("Invalid Date"===i)return"";var r="am",s=i.getHours(),o=i.getHours(),a=i.getMinutes(),l=i.getSeconds();return 10>a&&(a="0"+a),10>l&&(l="0"+l),(-1!==t.indexOf("am")||-1!==t.indexOf("pm"))&&(s>=12&&(r="pm"),s>12&&(s-=12)),t.toLowerCase().replace("am",r).replace("pm",r).replace("hh",s).replace("h24",o).replace("mm",a).replace("mi",a).replace("ss",l).replace(/(^|[^a-z$])h/g,"$1"+s).replace(/(^|[^a-z$])m/g,"$1"+a).replace(/(^|[^a-z$])s/g,"$1"+l)}function f(e,t){var i;return i="string"!=typeof t?[this.settings.date_format,this.settings.time_format]:t.split("|"),this.formatDate(e,i[0])+" "+this.formatTime(e,i[1])}function m(e){if(null===e)return e;switch(typeof e){case"number":break;case"string":e=$.trim(String(e).replace(/(<([^>]+)>)/gi,""));break;case"object":for(var t in e)e[t]=this.stripTags(e[t])}return e}function g(e){if(null===e)return e;switch(typeof e){case"number":break;case"string":e=String(e).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;");break;case"object":for(var t in e)e[t]=this.encodeTags(e[t])}return e}function v(e){return""===e||null==e?"":String(e).replace(/([;&,\.\+\*\~'`:"\!\^#$%@\[\]\(\)=<>\|\/? {}\\])/g,"\\$1")}function y(e){function t(e){for(var e=String(e).replace(/\r\n/g,"\n"),t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);128>n?t+=String.fromCharCode(n):n>127&&2048>n?(t+=String.fromCharCode(n>>6|192),t+=String.fromCharCode(63&n|128)):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128),t+=String.fromCharCode(63&n|128))}return t}var i,n,r,s,o,a,l,d="",u=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=t(e);u<e.length;)i=e.charCodeAt(u++),n=e.charCodeAt(u++),r=e.charCodeAt(u++),s=i>>2,o=(3&i)<<4|n>>4,a=(15&n)<<2|r>>6,l=63&r,isNaN(n)?a=l=64:isNaN(r)&&(l=64),d=d+c.charAt(s)+c.charAt(o)+c.charAt(a)+c.charAt(l);return d}function b(e){function t(e){for(var t,i,n="",r=0,s=0;r<e.length;)s=e.charCodeAt(r),128>s?(n+=String.fromCharCode(s),r++):s>191&&224>s?(t=e.charCodeAt(r+1),n+=String.fromCharCode((31&s)<<6|63&t),r+=2):(t=e.charCodeAt(r+1),i=e.charCodeAt(r+2),n+=String.fromCharCode((15&s)<<12|(63&t)<<6|63&i),r+=3);return n}var i,n,r,s,o,a,l,d="",u=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)s=c.indexOf(e.charAt(u++)),o=c.indexOf(e.charAt(u++)),a=c.indexOf(e.charAt(u++)),l=c.indexOf(e.charAt(u++)),i=s<<2|o>>4,n=(15&o)<<4|a>>2,r=(3&a)<<6|l,d+=String.fromCharCode(i),64!==a&&(d+=String.fromCharCode(n)),64!==l&&(d+=String.fromCharCode(r));return d=t(d)}function w(e,t,i,n){function r(e,t,i){var n=!!window.webkitURL;return n||"undefined"==typeof i||(t=i),";"+e+": "+t+"; -webkit-"+e+": "+t+"; -moz-"+e+": "+t+"; -ms-"+e+": "+t+"; -o-"+e+": "+t+";"}var s=$(e).width(),o=$(e).height(),a=.5;if(!e||!t)return void console.log("ERROR: Cannot do transition when one of the divs is null");switch(e.parentNode.style.cssText+=r("perspective","700px")+"; overflow: hidden;",e.style.cssText+="; position: absolute; z-index: 1019; "+r("backface-visibility","hidden"),t.style.cssText+="; position: absolute; z-index: 1020; "+r("backface-visibility","hidden"),i){case"slide-left":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d("+s+"px, 0, 0)","translate("+s+"px, 0)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+";"+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),e.style.cssText+=r("transition",a+"s")+";"+r("transform","translate3d(-"+s+"px, 0, 0)","translate(-"+s+"px, 0)")},1);break;case"slide-right":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(-"+s+"px, 0, 0)","translate(-"+s+"px, 0)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0px, 0, 0)","translate(0px, 0)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d("+s+"px, 0, 0)","translate("+s+"px, 0)")},1);break;case"slide-down":e.style.cssText+="overflow: hidden; z-index: 1; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; z-index: 0; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, "+o+"px, 0)","translate(0, "+o+"px)")},1);break;case"slide-up":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, "+o+"px, 0)","translate(0, "+o+"px)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")},1);break;case"flip-left":e.style.cssText+="overflow: hidden; "+r("transform","rotateY(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateY(-180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(180deg)")},1);break;case"flip-right":e.style.cssText+="overflow: hidden; "+r("transform","rotateY(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateY(180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateY(-180deg)")},1);break;case"flip-down":e.style.cssText+="overflow: hidden; "+r("transform","rotateX(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateX(180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(-180deg)")},1);break;case"flip-up":e.style.cssText+="overflow: hidden; "+r("transform","rotateX(0deg)"),t.style.cssText+="overflow: hidden; "+r("transform","rotateX(-180deg)"),$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(0deg)"),e.style.cssText+=r("transition",a+"s")+"; "+r("transform","rotateX(180deg)")},1);break;case"pop-in":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; "+r("transform","scale(.8)")+"; opacity: 0;",$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; "+r("transform","scale(1)")+"; opacity: 1;",e.style.cssText+=r("transition",a+"s")+";"},1);break;case"pop-out":e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; "+r("transform","scale(1)")+"; opacity: 1;",t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; opacity: 0;",$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; opacity: 1;",e.style.cssText+=r("transition",a+"s")+"; "+r("transform","scale(1.7)")+"; opacity: 0;"},1);break;default:e.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)"),t.style.cssText+="overflow: hidden; "+r("transform","translate3d(0, 0, 0)","translate(0, 0)")+"; opacity: 0;",$(t).show(),window.setTimeout(function(){t.style.cssText+=r("transition",a+"s")+"; opacity: 1;",e.style.cssText+=r("transition",a+"s")},1)}setTimeout(function(){"slide-down"===i&&($(e).css("z-index","1019"),$(t).css("z-index","1020")),t&&$(t).css({opacity:"1","-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"","-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"","-webkit-backface-visibility":"","-moz-backface-visibility":"","-ms-backface-visibility":"","-o-backface-visibility":""}),e&&($(e).css({opacity:"1","-webkit-transition":"","-moz-transition":"","-ms-transition":"","-o-transition":"","-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":"","-webkit-backface-visibility":"","-moz-backface-visibility":"","-ms-backface-visibility":"","-o-backface-visibility":""}),e.parentNode&&$(e.parentNode).css({"-webkit-perspective":"","-moz-perspective":"","-ms-perspective":"","-o-perspective":""})),"function"==typeof n&&n()},1e3*a)}function x(e,t,i){var n={};"object"==typeof t?n=t:(n.msg=t,n.spinner=i),n.msg||0===n.msg||(n.msg=""),w2utils.unlock(e),$(e).prepend('<div class="w2ui-lock"></div><div class="w2ui-lock-msg"></div>');var r=$(e).find(".w2ui-lock"),s=$(e).find(".w2ui-lock-msg");n.msg||s.css({"background-color":"transparent",border:"0px"}),n.spinner===!0&&(n.msg='<div class="w2ui-spinner" '+(n.msg?"":'style="width: 35px; height: 35px"')+"></div>"+n.msg),null!=n.opacity&&r.css("opacity",n.opacity),"function"==typeof r.fadeIn?(r.fadeIn(200),s.html(n.msg).fadeIn(200)):(r.show(),s.html(n.msg).show(0)),$().w2tag()}function _(e){$(e).find(".w2ui-lock").remove(),$(e).find(".w2ui-lock-msg").remove()}function k(e,t){var i=$(e),n={left:parseInt(i.css("border-left-width"))||0,right:parseInt(i.css("border-right-width"))||0,top:parseInt(i.css("border-top-width"))||0,bottom:parseInt(i.css("border-bottom-width"))||0},r={left:parseInt(i.css("margin-left"))||0,right:parseInt(i.css("margin-right"))||0,top:parseInt(i.css("margin-top"))||0,bottom:parseInt(i.css("margin-bottom"))||0},s={left:parseInt(i.css("padding-left"))||0,right:parseInt(i.css("padding-right"))||0,top:parseInt(i.css("padding-top"))||0,bottom:parseInt(i.css("padding-bottom"))||0};switch(t){case"top":return n.top+r.top+s.top;case"bottom":return n.bottom+r.bottom+s.bottom;case"left":return n.left+r.left+s.left;case"right":return n.right+r.right+s.right;case"width":return n.left+n.right+r.left+r.right+s.left+s.right+parseInt(i.width());case"height":return n.top+n.bottom+r.top+r.bottom+s.top+s.bottom+parseInt(i.height());case"+width":return n.left+n.right+r.left+r.right+s.left+s.right;case"+height":return n.top+n.bottom+r.top+r.bottom+s.top+s.bottom}return 0}function M(e){var t=this.settings.phrases[e];return null==t?e:t}function T(e){e||(e="en-us"),5===e.length&&(e="locale/"+e+".json"),$.ajax({url:e,type:"GET",dataType:"JSON",async:!1,cache:!1,success:function(e){w2utils.settings=$.extend(!0,w2utils.settings,e);var t=w2obj.grid.prototype;for(var i in t.buttons)t.buttons[i].caption=w2utils.lang(t.buttons[i].caption),t.buttons[i].hint=w2utils.lang(t.buttons[i].hint);t.msgDelete=w2utils.lang(t.msgDelete),t.msgNotJSON=w2utils.lang(t.msgNotJSON),t.msgRefresh=w2utils.lang(t.msgRefresh)},error:function(){console.log("ERROR: Cannot load locale "+e)}})}function D(){if(Y.scrollBarSize)return Y.scrollBarSize;var e='<div id="_scrollbar_width" style="position: absolute; top: -300px; width: 100px; height: 100px; overflow-y: scroll;">    <div style="height: 120px">1</div></div>';return $("body").append(e),Y.scrollBarSize=100-$("#_scrollbar_width > div").width(),$("#_scrollbar_width").remove(),String(navigator.userAgent).indexOf("MSIE")>=0&&(Y.scrollBarSize=Y.scrollBarSize/2),Y.scrollBarSize}function L(e,t){return e&&"undefined"!=typeof e.name?"undefined"!=typeof w2ui[e.name]?(console.log('ERROR: The parameter "name" is not unique. There are other objects already created with the same name (obj: '+e.name+")."),!1):w2utils.isAlphaNumeric(e.name)?!0:(console.log('ERROR: The parameter "name" has to be alpha-numeric (a-z, 0-9, dash and underscore). '),!1):(console.log('ERROR: The parameter "name" is required but not supplied in $().'+t+"()."),!1)}function S(e,t,i,n){$.isArray(t)||(t=[t]);for(var r=0;r<t.length;r++)if(t[r].id===e)return console.log('ERROR: The parameter "id='+e+'" is not unique within the current '+i+". (obj: "+n+")"),!1;return!0}function A(e){var t=[],i=e.replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,i,n,r,s,o){return t.push({name:r,optional:!!o}),i=i||"",""+(o?"":i)+"(?:"+(o?i:"")+(n||"")+(s||n&&"([^/.]+?)"||"([^/]+?)")+")"+(o||"")}).replace(/([\/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)");return{path:new RegExp("^"+i+"$","i"),keys:t}}var Y={},C={version:"1.4.0",settings:{locale:"en-us",date_format:"m/d/yyyy",date_display:"Mon d, yyyy",time_format:"h12",currencyPrefix:"$",currencySuffix:"",currencyPrecision:2,groupSymbol:",",shortmonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullmonths:["January","February","March","April","May","June","July","August","September","October","November","December"],shortdays:["M","T","W","T","F","S","S"],fulldays:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dataType:"HTTP",phrases:{}},isInt:e,isFloat:t,isMoney:i,isHex:n,isAlphaNumeric:r,isEmail:s,isDate:o,isTime:a,age:l,date:d,size:u,formatNumber:c,formatDate:h,formatTime:p,formatDateTime:f,stripTags:m,encodeTags:g,escapeId:v,base64encode:y,base64decode:b,transition:w,lock:x,unlock:_,lang:M,locale:T,getSize:k,scrollBarSize:D,checkName:L,checkUniqueId:S,parseRoute:A,isIOS:-1!=navigator.userAgent.toLowerCase().indexOf("iphone")||-1!=navigator.userAgent.toLowerCase().indexOf("ipod")||-1!=navigator.userAgent.toLowerCase().indexOf("ipad")?!0:!1,isIE:-1!=navigator.userAgent.toLowerCase().indexOf("msie")||-1!=navigator.userAgent.toLowerCase().indexOf("trident")?!0:!1};return C}();w2utils.event={on:function(e,t){return $.isPlainObject(e)||(e={type:e}),e=$.extend({type:null,execute:"before",target:null,onComplete:null},e),e.type?t?($.isArray(this.handlers)||(this.handlers=[]),void this.handlers.push({event:e,handler:t})):void console.log("ERROR: You must specify event handler function when calling .on() method of "+this.name):void console.log("ERROR: You must specify event type when calling .on() method of "+this.name)},off:function(e,t){if($.isPlainObject(e)||(e={type:e}),e=$.extend({},{type:null,execute:"before",target:null,onComplete:null},e),!e.type)return void console.log("ERROR: You must specify event type when calling .off() method of "+this.name);t||(t=null);for(var i=[],n=0,r=this.handlers.length;r>n;n++){var s=this.handlers[n];(s.event.type!==e.type&&"*"!==e.type||s.event.target!==e.target&&null!==e.target||s.handler!==t&&null!==t)&&i.push(s)}this.handlers=i},trigger:function(e){var e=$.extend({type:null,phase:"before",target:null},e,{isStopped:!1,isCancelled:!1,preventDefault:function(){this.isCancelled=!0},stopPropagation:function(){this.isStopped=!0}});"before"===e.phase&&(e.onComplete=null);var t,i,n;null==e.target&&(e.target=null),$.isArray(this.handlers)||(this.handlers=[]);for(var r=this.handlers.length-1;r>=0;r--){var s=this.handlers[r];if(!(s.event.type!==e.type&&"*"!==s.event.type||s.event.target!==e.target&&null!==s.event.target||s.event.execute!==e.phase&&"*"!==s.event.execute&&"*"!==s.event.phase)&&(e=$.extend({},s.event,e),t=[],n=RegExp(/\((.*?)\)/).exec(s.handler),n&&(t=n[1].split(/\s*,\s*/)),2===t.length?s.handler.call(this,e.target,e):s.handler.call(this,e),e.isStopped===!0||e.stop===!0))return e}var o="on"+e.type.substr(0,1).toUpperCase()+e.type.substr(1);return"before"===e.phase&&"function"==typeof this[o]&&(i=this[o],t=[],n=RegExp(/\((.*?)\)/).exec(i),n&&(t=n[1].split(/\s*,\s*/)),2===t.length?i.call(this,e.target,e):i.call(this,e),e.isStopped===!0||e.stop===!0)?e:null!=e.object&&"before"===e.phase&&"function"==typeof e.object[o]&&(i=e.object[o],t=[],n=RegExp(/\((.*?)\)/).exec(i),n&&(t=n[1].split(/\s*,\s*/)),2===t.length?i.call(this,e.target,e):i.call(this,e),e.isStopped===!0||e.stop===!0)?e:("after"===e.phase&&"function"==typeof e.onComplete&&e.onComplete.call(this,e),e)}},w2utils.keyboard=function(e){function t(){$(document).on("keydown",i),$(document).on("mousedown",n)}function i(e){var t=e.target.tagName;-1===$.inArray(t,["INPUT","SELECT","TEXTAREA"])&&"true"!==$(e.target).prop("contenteditable")&&o&&w2ui[o]&&"function"==typeof w2ui[o].keydown&&w2ui[o].keydown.call(w2ui[o],e)}function n(e){var t=(e.target.tagName,$(e.target).parents(".w2ui-reset"));if(t.length>0){var i=t.attr("name");w2ui[i]&&w2ui[i].keyboard&&(o=i)}}function r(e){return"undefined"!=typeof e&&(o=e),o}function s(){o=null}var o=null;return e.active=r,e.clear=s,t(),e}({}),function(){$.fn.w2render=function(e){$(this).length>0&&("string"==typeof e&&w2ui[e]&&w2ui[e].render($(this)[0]),"object"==typeof e&&e.render($(this)[0]))},$.fn.w2destroy=function(e){!e&&this.length>0&&(e=this.attr("name")),"string"==typeof e&&w2ui[e]&&w2ui[e].destroy(),"object"==typeof e&&e.destroy()},$.fn.w2marker=function(e){return $(this).each(""===e||null==e?function(e,t){t.innerHTML=t.innerHTML.replace(/\<span class=\"w2ui\-marker\"\>(.*)\<\/span\>/gi,"$1")}:function(t,i){function n(e){return'<span class="w2ui-marker">'+e+"</span>"}"string"==typeof e&&(e=[e]),i.innerHTML=i.innerHTML.replace(/\<span class=\"w2ui\-marker\"\>(.*)\<\/span\>/gi,"$1");for(var r in e){var s=e[r];"string"!=typeof s&&(s=String(s)),s=s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&").replace(/&/g,"&amp;").replace(/</g,"&gt;").replace(/>/g,"&lt;");var o=new RegExp(s+"(?!([^<]+)?>)","gi");i.innerHTML=i.innerHTML.replace(o,n)}})},$.fn.w2tag=function(e,t){return $.isPlainObject(t)||(t={}),$.isPlainObject(t.css)||(t.css={}),"undefined"==typeof t["class"]&&(t["class"]=""),0===$(this).length?void $(".w2ui-tag").each(function(e,t){var i=$(t).data("options");null==i&&(i={}),$($(t).data("taged-el")).removeClass(i["class"]),clearInterval($(t).data("timer")),$(t).remove()}):$(this).each(function(i,n){function r(){$tag=$("#w2ui-tag-"+o),$tag.length<=0||(clearInterval($tag.data("timer")),$tag.remove(),$(n).off("keypress",r).removeClass(t["class"]),$(n).length>0&&($(n)[0].style.cssText=l),"function"==typeof t.onHide&&t.onHide())}var s=n.id,o=w2utils.escapeId(n.id);if(""===e||null==e)$("#w2ui-tag-"+o).css("opacity",0),setTimeout(function(){clearInterval($("#w2ui-tag-"+o).data("timer")),$("#w2ui-tag-"+o).remove()},300);else{clearInterval($("#w2ui-tag-"+o).data("timer")),$("#w2ui-tag-"+o).remove(),$("body").append('<div id="w2ui-tag-'+s+'" class="w2ui-tag '+($(n).parents(".w2ui-popup").length>0?"w2ui-tag-popup":"")+'" style=""></div>');var a=setInterval(function(){return 0===$(n).length||0===$(n).offset().left&&0===$(n).offset().top?(clearInterval($("#w2ui-tag-"+o).data("timer")),void r()):void($("#w2ui-tag-"+o).data("position")!==$(n).offset().left+n.offsetWidth+"x"+$(n).offset().top&&$("#w2ui-tag-"+o).css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s",left:$(n).offset().left+n.offsetWidth+"px",top:$(n).offset().top+"px"}).data("position",$(n).offset().left+n.offsetWidth+"x"+$(n).offset().top))},100);setTimeout(function(){$(n).offset()&&($("#w2ui-tag-"+o).css({opacity:"1",left:$(n).offset().left+n.offsetWidth+"px",top:$(n).offset().top+"px"}).html('<div style="margin-top: -2px 0px 0px -2px; white-space: nowrap;"> <div class="w2ui-tag-body">'+e+"</div> </div>").data("text",e).data("taged-el",n).data("options",t).data("position",$(n).offset().left+n.offsetWidth+"x"+$(n).offset().top).data("timer",a),$(n).off("keypress",r).on("keypress",r).off("change",r).on("change",r).css(t.css).addClass(t["class"]),"function"==typeof t.onShow&&t.onShow())},1);var l="";$(n).length>0&&(l=$(n)[0].style.cssText)}})},$.fn.w2overlay=function(e,t){function i(){var e=$("#w2ui-overlay"+o);if(e.data("element")===s[0]&&0!==e.length){var t=$(s).offset().left+"x"+$(s).offset().top;e.data("position")!==t?n():setTimeout(i,250)}}function n(){var e=$("#w2ui-overlay"+o);if(e.data("keepOpen")===!0)return void e.removeData("keepOpen");var i;"function"==typeof t.onHide&&(i=t.onHide()),i!==!1&&(e.remove(),$(document).off("click",n),clearInterval(e.data("timer")))}function r(){var e=$("#w2ui-overlay"+o),i=e.find(" > div");if(e.length>0){i.height("auto").width("auto");var n=!1,a=!1,l=i.height(),d=i.width();switch(t.width&&t.width<d&&(d=t.width),30>d&&(d=30),t.tmp.contentHeight&&(l=t.tmp.contentHeight,i.height(l),setTimeout(function(){i.height()>i.find("div.menu > table").height()&&i.find("div.menu").css("overflow-y","hidden")},1),setTimeout(function(){i.find("div.menu").css("overflow-y","auto")},10)),t.tmp.contentWidth&&(d=t.tmp.contentWidth,i.width(d),setTimeout(function(){i.width()>i.find("div.menu > table").width()&&i.find("div.menu").css("overflow-x","hidden")},1),setTimeout(function(){i.find("div.menu").css("overflow-y","auto")},10)),t.align){case"both":t.left=17,0===t.width&&(t.width=w2utils.getSize($(s),"width"));break;case"left":t.left=17;break;case"right":t.tipLeft=d-45,t.left=w2utils.getSize($(s),"width")-d+10}var u=(d-17)/2,c=t.left,h=t.width,p=t.tipLeft;h=30!==d||h?t.width?t.width:"auto":30,25>u&&(c=25-u,p=Math.floor(u)),e.css({top:s.offset().top+w2utils.getSize(s,"height")+t.top+7+"px",left:(s.offset().left>25?s.offset().left:25)+c+"px","min-width":h,"min-height":t.height?t.height:"auto"});var f=window.innerHeight+$(document).scrollTop()-i.offset().top-7,m=window.innerWidth+$(document).scrollLeft()-i.offset().left-7;f>-50&&210>f||t.openAbove===!0?(f=i.offset().top-$(document).scrollTop()-7,t.maxHeight&&f>t.maxHeight&&(f=t.maxHeight),l>f&&(a=!0,i.height(f).width(d).css({"overflow-y":"auto"}),l=f),e.css("top",$(s).offset().top-l-24+t.top+"px"),e.find(">style").html("#w2ui-overlay"+o+":before { display: none; margin-left: "+parseInt(p)+"px; }#w2ui-overlay"+o+":after { display: block; margin-left: "+parseInt(p)+"px; }")):(t.maxHeight&&f>t.maxHeight&&(f=t.maxHeight),l>f&&(a=!0,i.height(f).width(d).css({"overflow-y":"auto"})),e.find(">style").html("#w2ui-overlay"+o+":before { display: block; margin-left: "+parseInt(p)+"px; }#w2ui-overlay"+o+":after { display: none; margin-left: "+parseInt(p)+"px; }")),d=i.width(),m=window.innerWidth+$(document).scrollLeft()-i.offset().left-7,t.maxWidth&&m>t.maxWidth&&(m=t.maxWidth),d>m&&"both"!==t.align&&(t.align="right",setTimeout(function(){r()},1)),a&&n&&i.width(d+w2utils.scrollBarSize()+2)}}var s=this,o="",a={name:null,html:"",align:"none",left:0,top:0,tipLeft:30,width:0,height:0,maxWidth:null,maxHeight:null,style:"","class":"",onShow:null,onHide:null,openAbove:!1,tmp:{}};1==arguments.length&&(t="object"==typeof e?e:{html:e}),2==arguments.length&&(t.html=e),$.isPlainObject(t)||(t={}),t=$.extend({},a,t),t.name&&(o="-"+t.name);var l;if(0===this.length||""===t.html||null==t.html)return $("#w2ui-overlay"+o).length>0?(l=$("#w2ui-overlay"+o)[0].hide,"function"==typeof l&&l()):$("#w2ui-overlay"+o).remove(),$(this);$("#w2ui-overlay"+o).length>0&&(l=$("#w2ui-overlay"+o)[0].hide,$(document).off("click",l),"function"==typeof l&&l()),$("body").append('<div id="w2ui-overlay'+o+'" style="display: none"        class="w2ui-reset w2ui-overlay '+($(this).parents(".w2ui-popup, .w2ui-overlay-popup").length>0?"w2ui-overlay-popup":"")+'">    <style></style>    <div style="'+t.style+'" class="'+t["class"]+'"></div></div>');var d=$("#w2ui-overlay"+o),u=d.find(" > div");u.html(t.html);var c=u.css("background-color");return null!=c&&"rgba(0, 0, 0, 0)"!==c&&"transparent"!==c&&d.css("background-color",c),d.data("element",s.length>0?s[0]:null).data("options",t).data("position",$(s).offset().left+"x"+$(s).offset().top).fadeIn("fast").on("mousedown",function(e){$("#w2ui-overlay"+o).data("keepOpen",!0),-1===["INPUT","TEXTAREA","SELECT"].indexOf(e.target.tagName)&&e.preventDefault()}),d[0].hide=n,d[0].resize=r,r(),setTimeout(function(){r(),$(document).off("click",n).on("click",n),"function"==typeof t.onShow&&t.onShow()},10),i(),$(this)},$.fn.w2menu=function(e,t){function i(){setTimeout(function(){$("#w2ui-overlay"+a+" tr.w2ui-selected").removeClass("w2ui-selected");var e=$("#w2ui-overlay"+a+" tr[index="+t.index+"]"),i=$("#w2ui-overlay"+a+" div.menu").scrollTop();if(e.addClass("w2ui-selected"),t.tmp&&(t.tmp.contentHeight=$("#w2ui-overlay"+a+" table").height()+(t.search?50:10)),t.tmp&&(t.tmp.contentWidth=$("#w2ui-overlay"+a+" table").width()),$("#w2ui-overlay"+a).length>0&&$("#w2ui-overlay"+a)[0].resize(),e.length>0){var n=e[0].offsetTop-5,r=$("#w2ui-overlay"+a+" div.menu"),s=r.height();$("#w2ui-overlay"+a+" div.menu").scrollTop(i),(i>n||n+e.height()>i+s)&&$("#w2ui-overlay"+a+" div.menu").animate({scrollTop:n-(s-2*e.height())/2},200,"linear")}},1)}function n(e){var n=this.value,r=e.keyCode,s=!1;switch(r){case 13:$("#w2ui-overlay"+a).remove(),$.fn.w2menuHandler(e,t.index);break;case 9:case 27:$("#w2ui-overlay"+a).remove(),$.fn.w2menuHandler(e,-1);break;case 38:for(t.index=w2utils.isInt(t.index)?parseInt(t.index):0,t.index--;t.index>0&&t.items[t.index].hidden;)t.index--;if(0===t.index&&t.items[t.index].hidden)for(;t.items[t.index]&&t.items[t.index].hidden;)t.index++;t.index<0&&(t.index=0),s=!0;break;case 40:for(t.index=w2utils.isInt(t.index)?parseInt(t.index):0,t.index++;t.index<t.items.length-1&&t.items[t.index].hidden;)t.index++;if(t.index===t.items.length-1&&t.items[t.index].hidden)for(;t.items[t.index]&&t.items[t.index].hidden;)t.index--;t.index>=t.items.length&&(t.index=t.items.length-1),s=!0}if(!s){var l=0;for(var d in t.items){var u=t.items[d],c="",h="";-1!==["is","begins with"].indexOf(t.match)&&(c="^"),-1!==["is","ends with"].indexOf(t.match)&&(h="$");try{var p=new RegExp(c+n+h,"i");u.hidden=p.test(u.text)||"..."===u.text?!1:!0}catch(f){}"enum"===o.type&&-1!==$.inArray(u.id,ids)&&(u.hidden=!0),u.hidden!==!0&&l++}for(t.index=0;t.index<t.items.length-1&&t.items[t.index].hidden;)t.index++;0>=l&&(t.index=-1)}$(o).w2menu("refresh",t),i()}function r(){if(t.spinner)return'<table class="w2ui-drop-menu"><tr><td style="padding: 5px 10px 10px 10px; text-align: center">    <div class="w2ui-spinner" style="width: 18px; height: 18px; position: relative; top: 5px;"></div>     <div style="display: inline-block; padding: 3px; color: #999;"> Loading...</div></td></tr></table>';
for(var e=0,i='<table cellspacing="0" cellpadding="0" class="w2ui-drop-menu">',n=null,r=null,s=0;s<t.items.length;s++){var o=t.items[s];if("string"==typeof o?o={id:o,text:o}:(null!=o.text&&null==o.id&&(o.id=o.text),null==o.text&&null!=o.id&&(o.text=o.id),null!=o.caption&&(o.text=o.caption),n=o.img,r=o.icon,null==n&&(n=null),null==r&&(r=null)),o.hidden!==!0){var l="",d=o.text;if("function"==typeof t.render&&(d=t.render(o,t)),n&&(l='<td class="menu-icon"><div class="w2ui-tb-image w2ui-icon '+n+'"></div></td>'),r&&(l='<td class="menu-icon" align="center"><span class="w2ui-icon '+r+'"></span></td>'),"undefined"==typeof d||""===d||/^-+$/.test(d))i+='<tr><td colspan="2" style="padding: 6px; pointer-events: none"><div style="border-top: 1px solid silver;"></div></td></tr>';else{var u=e%2===0?"w2ui-item-even":"w2ui-item-odd";t.altRows!==!0&&(u="");var c=1;""==l&&c++,null==o.count&&c++,i+='<tr index="'+s+'" style="'+(o.style?o.style:"")+'"         class="'+u+" "+(t.index===s?"w2ui-selected":"")+" "+(o.disabled===!0?"w2ui-disabled":"")+"\"        onmousedown=\"$(this).parent().find('tr').removeClass('w2ui-selected'); $(this).addClass('w2ui-selected');\"        onclick=\"event.stopPropagation();                if ("+(o.disabled===!0?"true":"false")+") return;               $('#w2ui-overlay"+a+"').remove();                $.fn.w2menuHandler(event, '"+s+"');\">"+l+'   <td class="menu-text" colspan="'+c+'">'+d+'</td>   <td class="menu-count">'+(null!=o.count?"<span>"+o.count+"</span>":"")+"</td></tr>",e++}}t.items[s]=o}return 0===e&&(i+='<tr><td style="padding: 13px; color: #999; text-align: center">'+t.msgNoItems+"</div></td></tr>"),i+="</table>"}var s={index:null,items:[],render:null,msgNoItems:"No items",onSelect:null,tmp:{}},o=this,a="";if("refresh"!==e){1===arguments.length?t=e:t.items=e,"object"!=typeof t&&(t={}),t=$.extend({},s,t),$.fn.w2menuOptions=t,t.name&&(a="-"+t.name),"function"==typeof t.select&&"function"!=typeof t.onSelect&&(t.onSelect=t.select),"function"==typeof t.onRender&&"function"!=typeof t.render&&(t.render=t.onRender),$.fn.w2menuHandler=function(e,i){"function"==typeof t.onSelect&&setTimeout(function(){t.onSelect({index:i,item:t.items[i],originalEvent:e})},10),setTimeout(function(){$(document).click()},50)};var l="";if(t.search){l+='<div style="position: absolute; top: 0px; height: 40px; left: 0px; right: 0px; border-bottom: 1px solid silver; background-color: #ECECEC; padding: 8px 5px;">    <div class="w2ui-icon icon-search" style="position: absolute; margin-top: 4px; margin-left: 6px; width: 11px; background-position: left !important;"></div>    <input id="menu-search" type="text" style="width: 100%; outline: none; padding-left: 20px;" onclick="event.stopPropagation();"></div>',t.style+=";background-color: #ECECEC",t.index=0;for(var d in t.items)t.items[d].hidden=!1}l+='<div class="menu" style="position: absolute; top: '+(t.search?40:0)+'px; bottom: 0px; width: 100%; overflow: auto;">'+r()+"</div>";var u=$(this).w2overlay(l,t);return setTimeout(function(){if($("#w2ui-overlay"+a+" #menu-search").on("keyup",n).on("keydown",function(e){9===e.keyCode&&(e.stopPropagation(),e.preventDefault())}),t.search){if(-1!=["text","password"].indexOf($(o)[0].type)||"texarea"==$(o)[0].tagName)return;$("#w2ui-overlay"+a+" #menu-search").focus()}},200),i(),u}if($("#w2ui-overlay"+a).length>0){t=$.extend($.fn.w2menuOptions,t);var c=$("#w2ui-overlay"+a+" div.menu").scrollTop();$("#w2ui-overlay"+a+" div.menu").html(r()),$("#w2ui-overlay"+a+" div.menu").scrollTop(c),i()}else $(this).w2menu(t)}}(),function(){var w2grid=function(e){this.name=null,this.box=null,this.header="",this.url="",this.routeData={},this.columns=[],this.columnGroups=[],this.records=[],this.summary=[],this.searches=[],this.searchData=[],this.sortData=[],this.postData={},this.toolbar={},this.show={header:!1,toolbar:!1,footer:!1,columnHeaders:!0,lineNumbers:!1,expandColumn:!1,selectColumn:!1,emptyRecords:!0,toolbarReload:!0,toolbarColumns:!0,toolbarSearch:!0,toolbarAdd:!1,toolbarEdit:!1,toolbarDelete:!1,toolbarSave:!1,selectionBorder:!0,recordTitles:!0,skipRecords:!0},this.autoLoad=!0,this.fixedBody=!0,this.recordHeight=24,this.keyboard=!0,this.selectType="row",this.multiSearch=!0,this.multiSelect=!0,this.multiSort=!0,this.reorderColumns=!1,this.reorderRows=!1,this.markSearch=!0,this.total=0,this.limit=100,this.offset=0,this.style="",this.ranges=[],this.menu=[],this.method=null,this.recid=null,this.parser=null,this.onAdd=null,this.onEdit=null,this.onRequest=null,this.onLoad=null,this.onDelete=null,this.onDeleted=null,this.onSubmit=null,this.onSave=null,this.onSelect=null,this.onUnselect=null,this.onClick=null,this.onDblClick=null,this.onContextMenu=null,this.onMenuClick=null,this.onColumnClick=null,this.onColumnResize=null,this.onSort=null,this.onSearch=null,this.onChange=null,this.onRestore=null,this.onExpand=null,this.onCollapse=null,this.onError=null,this.onKeydown=null,this.onToolbar=null,this.onColumnOnOff=null,this.onCopy=null,this.onPaste=null,this.onSelectionExtend=null,this.onEditField=null,this.onRender=null,this.onRefresh=null,this.onReload=null,this.onResize=null,this.onDestroy=null,this.onStateSave=null,this.onStateRestore=null,this.last={field:"all",caption:w2utils.lang("All Fields"),logic:"OR",search:"",searchIds:[],selection:{indexes:[],columns:{}},multi:!1,scrollTop:0,scrollLeft:0,sortData:null,sortCount:0,xhr:null,range_start:null,range_end:null,sel_ind:null,sel_col:null,sel_type:null,edit_col:null},$.extend(!0,this,w2obj.grid,e)};$.fn.w2grid=function(e){if("object"==typeof e||!e){if(!w2utils.checkName(e,"w2grid"))return;var t=e.columns,i=e.columnGroups,n=e.records,r=e.searches,s=e.searchData,o=e.sortData,a=e.postData,l=e.toolbar,d=new w2grid(e);$.extend(d,{postData:{},records:[],columns:[],searches:[],toolbar:{},sortData:[],searchData:[],handlers:[]}),null!=d.onExpand&&(d.show.expandColumn=!0),$.extend(!0,d.toolbar,l);for(var u in t)d.columns[u]=$.extend(!0,{},t[u]);for(var u in i)d.columnGroups[u]=$.extend(!0,{},i[u]);for(var u in r)d.searches[u]=$.extend(!0,{},r[u]);for(var u in s)d.searchData[u]=$.extend(!0,{},s[u]);for(var u in o)d.sortData[u]=$.extend(!0,{},o[u]);d.postData=$.extend(!0,{},a);for(var c in n){if(null==n[c].recid||"undefined"==typeof n[c].recid)return void console.log("ERROR: Cannot add records without recid. (obj: "+d.name+")");d.records[c]=$.extend(!0,{},n[c])}for(var h in d.columns){var p=d.columns[h];if("undefined"!=typeof p.searchable&&null==d.getSearch(p.field)){var f=p.searchable,m="";p.searchable===!0&&(f="text",m='size="20"'),d.addSearch({field:p.field,caption:p.caption,type:f,attr:m})}}return d.initToolbar(),0!==$(this).length&&d.render($(this)[0]),w2ui[d.name]=d,d}if(w2ui[$(this).attr("name")]){var g=w2ui[$(this).attr("name")];return g[e].apply(g,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+e+" does not exist on jQuery.w2grid")},w2grid.prototype={msgDelete:"Are you sure you want to delete selected records?",msgNotJSON:"Returned data is not in valid JSON format.",msgAJAXerror:"AJAX error. See console for more details.",msgRefresh:"Refreshing...",buttons:{reload:{type:"button",id:"w2ui-reload",icon:"w2ui-icon-reload",hint:"Reload data in the list"},columns:{type:"drop",id:"w2ui-column-on-off",icon:"w2ui-icon-columns",hint:"Show/hide columns",arrow:!1,html:""},search:{type:"html",id:"w2ui-search",html:'<div class="w2ui-icon icon-search-down w2ui-search-down" title="Select Search Field" onclick="var obj = w2ui[$(this).parents(\'div.w2ui-grid\').attr(\'name\')]; obj.searchShowFields();"></div>'},"search-go":{type:"check",id:"w2ui-search-advanced",caption:"Search...",hint:"Open Search Fields"},add:{type:"button",id:"w2ui-add",caption:"Add New",hint:"Add new record",icon:"w2ui-icon-plus"},edit:{type:"button",id:"w2ui-edit",caption:"Edit",hint:"Edit selected record",icon:"w2ui-icon-pencil",disabled:!0},"delete":{type:"button",id:"w2ui-delete",caption:"Delete",hint:"Delete selected records",icon:"w2ui-icon-cross",disabled:!0},save:{type:"button",id:"w2ui-save",caption:"Save",hint:"Save changed records",icon:"w2ui-icon-check"}},add:function(e){$.isArray(e)||(e=[e]);var t=0;for(var i in e)this.recid||"undefined"!=typeof e[i].recid||(e[i].recid=e[i][this.recid]),null!=e[i].recid&&"undefined"!=typeof e[i].recid?(this.records.push(e[i]),t++):console.log("ERROR: Cannot add record without recid. (obj: "+this.name+")");var n="object"!=typeof this.url?this.url:this.url.get;return n||(this.total=this.records.length,this.localSort(),this.localSearch()),this.refresh(),t},find:function(e,t){("undefined"==typeof e||null==e)&&(e={});var i=[],n=!1;for(var r in e)-1!=String(r).indexOf(".")&&(n=!0);for(var s=0;s<this.records.length;s++){var o=!0;for(var r in e){var a=this.records[s][r];n&&-1!=String(r).indexOf(".")&&(a=this.parseField(this.records[s],r)),e[r]!=a&&(o=!1)}o&&t!==!0&&i.push(this.records[s].recid),o&&t===!0&&i.push(s)}return i},set:function(e,t,i){if("object"==typeof e&&(i=t,t=e,e=null),null==e){for(var n in this.records)$.extend(!0,this.records[n],t);i!==!0&&this.refresh()}else{var r=this.get(e,!0);if(null==r)return!1;$.extend(!0,this.records[r],t),i!==!0&&this.refreshRow(e)}return!0},get:function(e,t){for(var i=0;i<this.records.length;i++)if(this.records[i].recid==e)return t===!0?i:this.records[i];return null},remove:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.records.length-1;i>=0;i--)this.records[i].recid==arguments[t]&&(this.records.splice(i,1),e++);var n="object"!=typeof this.url?this.url:this.url.get;return n||(this.localSort(),this.localSearch()),this.refresh(),e},addColumn:function(e,t){var i=0;1==arguments.length?(t=e,e=this.columns.length):("string"==typeof e&&(e=this.getColumn(e,!0)),null===e&&(e=this.columns.length)),$.isArray(t)||(t=[t]);for(var n in t)this.columns.splice(e,0,t[n]),e++,i++;return this.refresh(),i},removeColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.columns.length-1;i>=0;i--)this.columns[i].field==arguments[t]&&(this.columns.splice(i,1),e++);return this.refresh(),e},getColumn:function(e,t){for(var i=0;i<this.columns.length;i++)if(this.columns[i].field==e)return t===!0?i:this.columns[i];return null},toggleColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.columns.length-1;i>=0;i--){var n=this.columns[i];n.field==arguments[t]&&(n.hidden=!n.hidden,e++)}return this.refresh(),e},showColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.columns.length-1;i>=0;i--){var n=this.columns[i];n.gridMinWidth&&delete n.gridMinWidth,n.field==arguments[t]&&n.hidden!==!1&&(n.hidden=!1,e++)}return this.refresh(),e},hideColumn:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.columns.length-1;i>=0;i--){var n=this.columns[i];n.field==arguments[t]&&n.hidden!==!0&&(n.hidden=!0,e++)}return this.refresh(),e},addSearch:function(e,t){var i=0;1==arguments.length?(t=e,e=this.searches.length):("string"==typeof e&&(e=this.getSearch(e,!0)),null===e&&(e=this.searches.length)),$.isArray(t)||(t=[t]);for(var n in t)this.searches.splice(e,0,t[n]),e++,i++;return this.searchClose(),i},removeSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.searches.length-1;i>=0;i--)this.searches[i].field==arguments[t]&&(this.searches.splice(i,1),e++);return this.searchClose(),e},getSearch:function(e,t){for(var i=0;i<this.searches.length;i++)if(this.searches[i].field==e)return t===!0?i:this.searches[i];return null},toggleSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.searches.length-1;i>=0;i--)this.searches[i].field==arguments[t]&&(this.searches[i].hidden=!this.searches[i].hidden,e++);return this.searchClose(),e},showSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.searches.length-1;i>=0;i--)this.searches[i].field==arguments[t]&&this.searches[i].hidden!==!1&&(this.searches[i].hidden=!1,e++);return this.searchClose(),e},hideSearch:function(){for(var e=0,t=0;t<arguments.length;t++)for(var i=this.searches.length-1;i>=0;i--)this.searches[i].field==arguments[t]&&this.searches[i].hidden!==!0&&(this.searches[i].hidden=!0,e++);return this.searchClose(),e},getSearchData:function(e){for(var t in this.searchData)if(this.searchData[t].field==e)return this.searchData[t];return null},localSort:function(e){var t="object"!=typeof this.url?this.url:this.url.get;if(t)return void console.log("ERROR: grid.localSort can only be used on local data source, grid.url should be empty.");if(!$.isEmptyObject(this.sortData)){var i=(new Date).getTime(),n=this;n.prepareData();for(var r in this.sortData){var s=this.getColumn(this.sortData[r].field);if(!s)return;s.render&&-1!=["date","age"].indexOf(s.render.split(":")[0])&&(this.sortData[r].field_=s.field+"_"),s.render&&-1!=["time"].indexOf(s.render.split(":")[0])&&(this.sortData[r].field_=s.field+"_")}return this.records.sort(function(e,t){var i=0;for(var r in n.sortData){var s=n.sortData[r].field;n.sortData[r].field_&&(s=n.sortData[r].field_);var o=e[s],a=t[s];if(-1!=String(s).indexOf(".")&&(o=n.parseField(e,s),a=n.parseField(t,s)),"string"==typeof o&&(o=$.trim(o.toLowerCase())),"string"==typeof a&&(a=$.trim(a.toLowerCase())),o>a&&(i="asc"==n.sortData[r].direction?1:-1),a>o&&(i="asc"==n.sortData[r].direction?-1:1),"object"!=typeof o&&"object"==typeof a&&(i=-1),"object"!=typeof a&&"object"==typeof o&&(i=1),null==o&&null!=a&&(i=1),null!=o&&null==a&&(i=-1),0!=i)break}return i}),i=(new Date).getTime()-i,e!==!0&&setTimeout(function(){n.status("Sorting took "+i/1e3+" sec")},10),i}},localSearch:function(e){var t="object"!=typeof this.url?this.url:this.url.get;if(t)return void console.log("ERROR: grid.localSearch can only be used on local data source, grid.url should be empty.");var i=(new Date).getTime(),n=this;if(this.total=this.records.length,this.last.searchIds=[],this.prepareData(),this.searchData.length>0&&!t){this.total=0;for(var r in this.records){var s=this.records[r],o=0;for(var a in this.searchData){var l=this.searchData[a],d=this.getSearch(l.field);if(null!=l){null==d&&(d={field:l.field,type:l.type});var u=String(n.parseField(s,d.field)).toLowerCase();if("undefined"!=typeof l.value)if($.isArray(l.value))var c=l.value[0],h=l.value[1];else var c=String(l.value).toLowerCase();switch(l.operator){case"is":if(s[d.field]==l.value&&o++,"date"==d.type){var u=w2utils.formatDate(s[d.field+"_"],"yyyy-mm-dd"),c=w2utils.formatDate(c,"yyyy-mm-dd");u==c&&o++}if("time"==d.type){var u=w2utils.formatTime(s[d.field+"_"],"h24:mi"),c=w2utils.formatTime(c,"h24:mi");u==c&&o++}break;case"between":if(-1!=["int","float","money","currency","percent"].indexOf(d.type)&&parseFloat(s[d.field])>=parseFloat(c)&&parseFloat(s[d.field])<=parseFloat(h)&&o++,"date"==d.type){var u=s[d.field+"_"],c=w2utils.isDate(c,w2utils.settings.date_format,!0),h=w2utils.isDate(h,w2utils.settings.date_format,!0);null!=h&&(h=new Date(h.getTime()+864e5)),u>=c&&h>u&&o++}if("time"==d.type){var u=s[d.field+"_"],c=w2utils.isTime(c,!0),h=w2utils.isTime(h,!0);c=(new Date).setHours(c.hours,c.minutes,c.seconds?c.seconds:0,0),h=(new Date).setHours(h.hours,h.minutes,h.seconds?h.seconds:0,0),u>=c&&h>u&&o++}break;case"in":var p=l.value;l.svalue&&(p=l.svalue),-1!==p.indexOf(u)&&o++;break;case"not in":var p=l.value;l.svalue&&(p=l.svalue),-1==p.indexOf(u)&&o++;break;case"begins":case"begins with":0==u.indexOf(c)&&o++;break;case"contains":u.indexOf(c)>=0&&o++;break;case"ends":case"ends with":u.indexOf(c)==u.length-c.length&&o++}}}("OR"==this.last.logic&&0!=o||"AND"==this.last.logic&&o==this.searchData.length)&&this.last.searchIds.push(parseInt(r))}this.total=this.last.searchIds.length}return i=(new Date).getTime()-i,e!==!0&&setTimeout(function(){n.status("Search took "+i/1e3+" sec")},10),i},getRangeData:function(e,t){var i=this.get(e[0].recid,!0),n=this.get(e[1].recid,!0),r=e[0].column,s=e[1].column,o=[];if(r==s)for(var a=i;n>=a;a++){var l=this.records[a],d=l[this.columns[r].field]||null;o.push(t!==!0?d:{data:d,column:r,index:a,record:l})}else if(i==n)for(var l=this.records[i],u=r;s>=u;u++){var d=l[this.columns[u].field]||null;o.push(t!==!0?d:{data:d,column:u,index:i,record:l})}else for(var a=i;n>=a;a++){var l=this.records[a];o.push([]);for(var u=r;s>=u;u++){var d=l[this.columns[u].field];o[o.length-1].push(t!==!0?d:{data:d,column:u,index:a,record:l})}}return o},addRange:function(e){var t=0;if("row"==this.selectType)return t;$.isArray(e)||(e=[e]);for(var i in e){if("object"!=typeof e[i]&&(e[i]={name:"selection"}),"selection"==e[i].name){if(this.show.selectionBorder===!1)continue;var n=this.getSelection();if(0==n.length){this.removeRange(e[i].name);continue}var r=n[0],s=n[n.length-1];$("#grid_"+this.name+"_rec_"+r.recid+" td[col="+r.column+"]"),$("#grid_"+this.name+"_rec_"+s.recid+" td[col="+s.column+"]")}else{var r=e[i].range[0],s=e[i].range[1];$("#grid_"+this.name+"_rec_"+r.recid+" td[col="+r.column+"]"),$("#grid_"+this.name+"_rec_"+s.recid+" td[col="+s.column+"]")}if(r){var o={name:e[i].name,range:[{recid:r.recid,column:r.column},{recid:s.recid,column:s.column}],style:e[i].style||""},a=!1;for(var l in this.ranges)if(this.ranges[l].name==e[i].name){a=i;break}a!==!1?this.ranges[a]=o:this.ranges.push(o),t++}}return this.refreshRanges(),t},removeRange:function(){for(var e=0,t=0;t<arguments.length;t++){var i=arguments[t];$("#grid_"+this.name+"_"+i).remove();for(var n=this.ranges.length-1;n>=0;n--)this.ranges[n].name==i&&(this.ranges.splice(n,1),e++)}return e},refreshRanges:function(){function e(e){var r=n.getSelection();n.last.move={type:"expand",x:e.screenX,y:e.screenY,divX:0,divY:0,recid:r[0].recid,column:r[0].column,originalRange:[{recid:r[0].recid,column:r[0].column},{recid:r[r.length-1].recid,column:r[r.length-1].column}],newRange:[{recid:r[0].recid,column:r[0].column},{recid:r[r.length-1].recid,column:r[r.length-1].column}]},$(document).off("mousemove",t).on("mousemove",t),$(document).off("mouseup",i).on("mouseup",i)}function t(e){var t=n.last.move;if(t&&"expand"==t.type){t.divX=e.screenX-t.x,t.divY=e.screenY-t.y;var i,r,s=e.originalEvent.target;if("TD"!=s.tagName&&(s=$(s).parents("td")[0]),"undefined"!=typeof $(s).attr("col")&&(r=parseInt($(s).attr("col"))),s=$(s).parents("tr")[0],i=$(s).attr("recid"),t.newRange[1].recid!=i||t.newRange[1].column!=r){var o=$.extend({},t.newRange);return t.newRange=[{recid:t.recid,column:t.column},{recid:i,column:r}],h=n.trigger($.extend(h,{originalRange:t.originalRange,newRange:t.newRange})),h.isCancelled===!0?(t.newRange=o,void(h.newRange=o)):(n.removeRange("grid-selection-expand"),void n.addRange({name:"grid-selection-expand",range:h.newRange,style:"background-color: rgba(100,100,100,0.1); border: 2px dotted rgba(100,100,100,0.5);"}))}}}function i(){n.removeRange("grid-selection-expand"),delete n.last.move,$(document).off("mousemove",t),$(document).off("mouseup",i),n.trigger($.extend(h,{phase:"after"}))}var n=this,r=(new Date).getTime(),s=$("#grid_"+this.name+"_records");for(var o in this.ranges){var a=this.ranges[o],l=a.range[0],d=a.range[1],u=$("#grid_"+this.name+"_rec_"+l.recid+" td[col="+l.column+"]"),c=$("#grid_"+this.name+"_rec_"+d.recid+" td[col="+d.column+"]");0==$("#grid_"+this.name+"_"+a.name).length?s.append('<div id="grid_'+this.name+"_"+a.name+'" class="w2ui-selection" style="'+a.style+'">'+("selection"==a.name?'<div id="grid_'+this.name+'_resizer" class="w2ui-selection-resizer"></div>':"")+"</div>"):$("#grid_"+this.name+"_"+a.name).attr("style",a.style),u.length>0&&c.length>0&&$("#grid_"+this.name+"_"+a.name).css({left:u.position().left-1+s.scrollLeft()+"px",top:u.position().top-1+s.scrollTop()+"px",width:c.position().left-u.position().left+c.width()+3+"px",height:c.position().top-u.position().top+c.height()+3+"px"})}$(this.box).find("#grid_"+this.name+"_resizer").off("mousedown").on("mousedown",e);var h={phase:"before",type:"selectionExtend",target:n.name,originalRange:null,newRange:null};return(new Date).getTime()-r},select:function(){var e=0,t=this.last.selection;this.multiSelect||this.selectNone();for(var i=0;i<arguments.length;i++){var n="object"==typeof arguments[i]?arguments[i].recid:arguments[i],r=this.get(n);if(null!=r){var s=this.get(n,!0),o=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(n));if("row"==this.selectType){if(t.indexes.indexOf(s)>=0)continue;var a=this.trigger({phase:"before",type:"select",target:this.name,recid:n,index:s});if(a.isCancelled===!0)continue;t.indexes.push(s),t.indexes.sort(function(e,t){return e-t}),o.addClass("w2ui-selected").data("selected","yes"),o.find(".w2ui-grid-select-check").prop("checked",!0),e++}else{var l=arguments[i].column;if(!w2utils.isInt(l)){var d=[];for(var u in this.columns)this.columns[u].hidden||d.push({recid:n,column:parseInt(u)});return this.multiSelect||(d=d.splice(0,1)),this.select.apply(this,d)}var c=t.columns[s]||[];if($.isArray(c)&&-1!=c.indexOf(l))continue;var a=this.trigger({phase:"before",type:"select",target:this.name,recid:n,index:s,column:l});if(a.isCancelled===!0)continue;-1==t.indexes.indexOf(s)&&(t.indexes.push(s),t.indexes.sort(function(e,t){return e-t})),c.push(l),c.sort(function(e,t){return e-t}),o.find(" > td[col="+l+"]").addClass("w2ui-selected"),e++,o.data("selected","yes"),o.find(".w2ui-grid-select-check").prop("checked",!0),t.columns[s]=c}this.trigger($.extend(a,{phase:"after"}))}}return t.indexes.length==this.records.length||0!==this.searchData.length&&t.indexes.length==this.last.searchIds.length?$("#grid_"+this.name+"_check_all").prop("checked",!0):$("#grid_"+this.name+"_check_all").prop("checked",!1),this.status(),this.addRange("selection"),e},unselect:function(){for(var e=0,t=this.last.selection,i=0;i<arguments.length;i++){var n="object"==typeof arguments[i]?arguments[i].recid:arguments[i],r=this.get(n);if(null!=r){var s=this.get(r.recid,!0),o=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(n));if("row"==this.selectType){if(-1==t.indexes.indexOf(s))continue;var a=this.trigger({phase:"before",type:"unselect",target:this.name,recid:n,index:s});if(a.isCancelled===!0)continue;t.indexes.splice(t.indexes.indexOf(s),1),o.removeClass("w2ui-selected").removeData("selected"),0!=o.length&&(o[0].style.cssText="height: "+this.recordHeight+"px; "+o.attr("custom_style")),o.find(".w2ui-grid-select-check").prop("checked",!1),e++}else{var l=arguments[i].column;if(!w2utils.isInt(l)){var d=[];for(var u in this.columns)this.columns[u].hidden||d.push({recid:n,column:parseInt(u)});return this.unselect.apply(this,d)}var c=t.columns[s];if(!$.isArray(c)||-1==c.indexOf(l))continue;var a=this.trigger({phase:"before",type:"unselect",target:this.name,recid:n,column:l});if(a.isCancelled===!0)continue;c.splice(c.indexOf(l),1),$("#grid_"+this.name+"_rec_"+w2utils.escapeId(n)+" > td[col="+l+"]").removeClass("w2ui-selected"),e++,0==c.length&&(delete t.columns[s],t.indexes.splice(t.indexes.indexOf(s),1),o.removeData("selected"),o.find(".w2ui-grid-select-check").prop("checked",!1))}this.trigger($.extend(a,{phase:"after"}))}}return t.indexes.length==this.records.length||0!==this.searchData.length&&t.indexes.length==this.last.searchIds.length?$("#grid_"+this.name+"_check_all").prop("checked",!0):$("#grid_"+this.name+"_check_all").prop("checked",!1),this.status(),this.addRange("selection"),e},selectAll:function(){if(this.multiSelect!==!1){var e=this.trigger({phase:"before",type:"select",target:this.name,all:!0});if(e.isCancelled!==!0){var t="object"!=typeof this.url?this.url:this.url.get,i=this.last.selection,n=[];for(var r in this.columns)n.push(parseInt(r));if(i.indexes=[],t||0===this.searchData.length){var s=this.records.length;0==this.searchData.length||this.url||(s=this.last.searchIds.length);for(var o=0;s>o;o++)i.indexes.push(o),"row"!=this.selectType&&(i.columns[o]=n.slice())}else for(var o=0;o<this.last.searchIds.length;o++)i.indexes.push(this.last.searchIds[o]),"row"!=this.selectType&&(i.columns[this.last.searchIds[o]]=n.slice());this.refresh();var i=this.getSelection();1==i.length?this.toolbar.enable("w2ui-edit"):this.toolbar.disable("w2ui-edit"),i.length>=1?this.toolbar.enable("w2ui-delete"):this.toolbar.disable("w2ui-delete"),this.addRange("selection"),this.trigger($.extend(e,{phase:"after"}))}}},selectNone:function(){var e=this.trigger({phase:"before",type:"unselect",target:this.name,all:!0});if(e.isCancelled!==!0){var t=this.last.selection;for(var i in t.indexes){var n=t.indexes[i],r=this.records[n],s=r?r.recid:null,o=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(s));if(o.removeClass("w2ui-selected").removeData("selected"),o.find(".w2ui-grid-select-check").prop("checked",!1),"row"!=this.selectType){var a=t.columns[n];for(var l in a)o.find(" > td[col="+a[l]+"]").removeClass("w2ui-selected")}}t.indexes=[],t.columns={},this.toolbar.disable("w2ui-edit","w2ui-delete"),this.removeRange("selection"),$("#grid_"+this.name+"_check_all").prop("checked",!1),this.trigger($.extend(e,{phase:"after"}))}},getSelection:function(e){var t=[],i=this.last.selection;if("row"==this.selectType){for(var n in i.indexes)this.records[i.indexes[n]]&&t.push(e===!0?i.indexes[n]:this.records[i.indexes[n]].recid);return t}for(var n in i.indexes){var r=i.columns[i.indexes[n]];if(this.records[i.indexes[n]])for(var s in r)t.push({recid:this.records[i.indexes[n]].recid,index:parseInt(i.indexes[n]),column:r[s]})}return t},search:function(e,t){var i="object"!=typeof this.url?this.url:this.url.get,n=[],r=this.last.multi,s=this.last.logic,o=this.last.field,a=this.last.search;if(0==arguments.length){a="";for(var l in this.searches){var d=this.searches[l],u=$("#grid_"+this.name+"_operator_"+l).val(),c=$("#grid_"+this.name+"_field_"+l),h=$("#grid_"+this.name+"_field2_"+l),p=c.val(),f=h.val(),m=null;if(-1!=["int","float","money","currency","percent"].indexOf(d.type)){var g=c.data("w2field"),v=h.data("w2field");g&&(p=g.clean(p)),v&&(f=v.clean(f))}if(-1!=["list","enum"].indexOf(d.type))if(p=c.data("selected")||{},$.isArray(p)){m=[];for(var y in p)m.push(w2utils.isFloat(p[y].id)?parseFloat(p[y].id):String(p[y].id).toLowerCase()),delete p[y].hidden}else p=p.id||"";if(""!=p&&null!=p||"undefined"!=typeof f&&""!=f){var b={field:d.field,type:d.type,operator:u};"between"==u?$.extend(b,{value:[p,f]}):"in"==u&&"string"==typeof p?$.extend(b,{value:p.split(",")}):"not in"==u&&"string"==typeof p?$.extend(b,{value:p.split(",")}):$.extend(b,{value:p}),m&&$.extend(b,{svalue:m});try{"date"==d.type&&"between"==u&&(b.value[0]=p,b.value[1]=f),"date"==d.type&&"is"==u&&(b.value=p)}catch(w){}n.push(b)}}n.length>0&&!i?(r=!0,s="AND"):(r=!0,s="AND")}if("string"==typeof e&&(o=e,a=t,r=!1,s="OR","undefined"!=typeof t))if("all"==e.toLowerCase())if(this.searches.length>0)for(var l in this.searches){var d=this.searches[l];if("text"==d.type||"alphanumeric"==d.type&&w2utils.isAlphaNumeric(t)||"int"==d.type&&w2utils.isInt(t)||"float"==d.type&&w2utils.isFloat(t)||"percent"==d.type&&w2utils.isFloat(t)||"hex"==d.type&&w2utils.isHex(t)||"currency"==d.type&&w2utils.isMoney(t)||"money"==d.type&&w2utils.isMoney(t)||"date"==d.type&&w2utils.isDate(t)){var b={field:d.field,type:d.type,operator:"text"==d.type?"contains":"is",value:t};n.push(b)}if(-1!=["int","float","money","currency","percent"].indexOf(d.type)&&-1!=String(t).indexOf("-")){var x=String(t).split("-"),b={field:d.field,type:d.type,operator:"between",value:[x[0],x[1]]};n.push(b)}}else for(var _ in this.columns){var b={field:this.columns[_].field,type:"text",operator:"contains",value:t};n.push(b)}else{var k=$("#grid_"+this.name+"_search_all"),d=this.getSearch(e);if(null==d&&(d={field:e,type:"text"}),d.field==e&&(this.last.caption=d.caption),"list"==d.type){var b=k.data("selected");b&&!$.isEmptyObject(b)&&(t=b.id)}if(""!=t){var M="contains",T=t;if(-1!=["date","time","list"].indexOf(d.type)&&(M="is"),"int"==d.type&&""!=t){if(M="is",-1!=String(t).indexOf("-")){var b=t.split("-");2==b.length&&(M="between",T=[parseInt(b[0]),parseInt(b[1])])}if(-1!=String(t).indexOf(",")){var b=t.split(",");M="in",T=[];for(var x in b)T.push(b[x])}}var b={field:d.field,type:d.type,operator:M,value:T};n.push(b)}}if($.isArray(e)){var D="AND";"string"==typeof t&&(D=t.toUpperCase(),"OR"!=D&&"AND"!=D&&(D="AND")),a="",r=!0,s=D;for(var L in e){var S=e[L],d=this.getSearch(S.field);null==d&&(d={type:"text",operator:"contains"}),n.push($.extend(!0,{},d,S))}}var A=this.trigger({phase:"before",type:"search",target:this.name,searchData:n,searchField:e?e:"multi",searchValue:t?t:"multi"});A.isCancelled!==!0&&(this.searchData=A.searchData,this.last.field=o,this.last.search=a,this.last.multi=r,this.last.logic=s,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.searchClose(),this.set({expanded:!1},!0),i?(this.last.xhr_offset=0,this.reload()):(this.localSearch(),this.refresh()),this.trigger($.extend(A,{phase:"after"})))},searchOpen:function(){if(this.box&&0!=this.searches.length){var e=this;$("#tb_"+this.name+"_toolbar_item_w2ui-search-advanced").w2overlay(this.getSearchesHTML(),{name:"searches-"+this.name,left:-10,"class":"w2ui-grid-searches",onShow:function(){"OR"==e.last.logic&&(e.searchData=[]),e.initSearches(),$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches").data("grid-name",e.name);var t=$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches *[rel=search]");t.length>0&&t[0].focus()}})}},searchClose:function(){this.box&&0!=this.searches.length&&(this.toolbar&&this.toolbar.uncheck("w2ui-search-advanced"),$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches").length>0&&$().w2overlay("",{name:"searches-"+this.name}))},searchShowFields:function(){for(var e=$("#grid_"+this.name+"_search_all"),t='<div class="w2ui-select-field"><table>',i=-1;i<this.searches.length;i++){var n=this.searches[i];if(-1==i){if(!this.multiSearch)continue;n={field:"all",caption:w2utils.lang("All Fields")}}else if(this.searches[i].hidden===!0)continue;t+="<tr "+(w2utils.isIOS?"onTouchStart":"onClick")+"=\"w2ui['"+this.name+"'].initAllField('"+n.field+'\')">    <td><input type="radio" tabIndex="-1" '+(n.field==this.last.field?"checked":"")+"></td>    <td>"+n.caption+"</td></tr>"}t+="</table></div>",setTimeout(function(){$(e).w2overlay(t,{left:-10})},1)},initAllField:function(e,t){var i=$("#grid_"+this.name+"_search_all"),n=this.getSearch(e);if("all"==e)n={field:"all",caption:w2utils.lang("All Fields")},i.w2field("clear"),i.change().focus();else{var r=n.type;-1!=["enum","select"].indexOf(r)&&(r="list"),i.w2field(r,$.extend({},n.options,{suffix:"",autoFormat:!1,selected:t})),-1!=["list","enum"].indexOf(n.type)&&(this.last.search="",this.last.item="",i.val("")),setTimeout(function(){i.focus()},1)}""!=this.last.search?this.search(n.field,this.last.search):(this.last.field=n.field,this.last.caption=n.caption),i.attr("placeholder",n.caption),$().w2overlay()},searchReset:function(e){var t=this.trigger({phase:"before",type:"search",target:this.name,searchData:[]});t.isCancelled!==!0&&(this.searchData=[],this.last.search="",this.last.logic="OR",this.last.multi=!1,this.last.xhr_offset=0,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.searchClose(),$("#grid_"+this.name+"_search_all").val(""),e||this.reload(),this.trigger($.extend(t,{phase:"after"})))},clear:function(e){this.records=[],this.summary=[],this.last.scrollTop=0,this.last.scrollLeft=0,this.last.range_start=null,this.last.range_end=null,e||this.refresh()},reset:function(e){this.offset=0,this.total=0,this.last.scrollTop=0,this.last.scrollLeft=0,this.last.selection.indexes=[],this.last.selection.columns={},this.last.range_start=null,this.last.range_end=null,this.last.xhr_offset=0,this.searchReset(e),null!=this.last.sortData&&(this.sortData=this.last.sortData),this.set({expanded:!1},!0),e||this.refresh()},skip:function(e){var t="object"!=typeof this.url?this.url:this.url.get;t?(this.offset=parseInt(e),this.offset>this.total&&(this.offset=this.total-this.limit),(this.offset<0||!w2utils.isInt(this.offset))&&(this.offset=0),this.records=[],this.last.xhr_offset=0,this.last.pull_more=!0,this.last.scrollTop=0,this.last.scrollLeft=0,$("#grid_"+this.name+"_records").prop("scrollTop",0),
this.reload()):console.log("ERROR: grid.skip() can only be called when you have remote data source.")},load:function(e,t){return"undefined"==typeof e?void console.log('ERROR: You need to provide url argument when calling .load() method of "'+this.name+'" object.'):void this.request("get-records",{},e,t)},reload:function(e){var t="object"!=typeof this.url?this.url:this.url.get;t?(this.clear(!0),this.request("get-records",{},null,e)):(this.last.scrollTop=0,this.last.scrollLeft=0,this.last.range_start=null,this.last.range_end=null,this.localSearch(),this.refresh(),"function"==typeof e&&e({status:"success"}))},request:function(e,t,i,n){if("undefined"==typeof t&&(t={}),("undefined"==typeof i||""==i||null==i)&&(i=this.url),""!=i&&null!=i){var r={};if(w2utils.isInt(this.offset)||(this.offset=0),w2utils.isInt(this.last.xhr_offset)||(this.last.xhr_offset=0),r.cmd=e,r.selected=this.getSelection(),r.limit=this.limit,r.offset=parseInt(this.offset)+this.last.xhr_offset,r.search=this.searchData,r.searchLogic=this.last.logic,r.sort=this.sortData,0==this.searchData.length&&(delete r.search,delete r.searchLogic),0==this.sortData.length&&delete r.sort,$.extend(r,this.postData),$.extend(r,t),"get-records"==e){var s=this.trigger({phase:"before",type:"request",target:this.name,url:i,postData:r});if(s.isCancelled===!0)return void("function"==typeof n&&n({status:"error",message:"Request aborted."}))}else var s={url:i,postData:r};var o=this;if(0==this.last.xhr_offset)this.lock(this.msgRefresh,!0);else{var a=$("#grid_"+this.name+"_rec_more");this.autoLoad===!0?a.show().find("td").html('<div><div style="width: 20px; height: 20px;" class="w2ui-spinner"></div></div>'):a.find("td").html("<div>"+w2utils.lang("Load")+" "+o.limit+" "+w2utils.lang("More")+"...</div>")}if(this.last.xhr)try{this.last.xhr.abort()}catch(l){}var i="object"!=typeof s.url?s.url:s.url.get;if("save-records"==r.cmd&&"object"==typeof s.url&&(i=s.url.save),"delete-records"==r.cmd&&"object"==typeof s.url&&(i=s.url.remove),!$.isEmptyObject(o.routeData)){var d=w2utils.parseRoute(i);if(d.keys.length>0)for(var u=0;u<d.keys.length;u++)null!=o.routeData[d.keys[u].name]&&(i=i.replace(new RegExp(":"+d.keys[u].name,"g"),o.routeData[d.keys[u].name]))}var c={type:"POST",url:i,data:s.postData,dataType:"text"};"HTTP"==w2utils.settings.dataType&&(c.data="object"==typeof c.data?String($.param(c.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]"):c.data),"RESTFULL"==w2utils.settings.dataType&&(c.type="GET","save-records"==r.cmd&&(c.type="PUT"),"delete-records"==r.cmd&&(c.type="DELETE"),c.data="object"==typeof c.data?String($.param(c.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]"):c.data),"JSON"==w2utils.settings.dataType&&(c.type="POST",c.data=JSON.stringify(c.data),c.contentType="application/json"),this.method&&(c.type=this.method),this.last.xhr_cmd=r.cmd,this.last.xhr_start=(new Date).getTime(),this.last.xhr=$.ajax(c).done(function(t,i){o.requestComplete(i,e,n)}).fail(function(t,i,r){var s={status:i,error:r,rawResponseText:t.responseText},a=o.trigger({phase:"before",type:"error",error:s,xhr:t});if(a.isCancelled!==!0){if("abort"!=i){var l;try{l=$.parseJSON(t.responseText)}catch(d){}console.log("ERROR: Server communication failed.","\n   EXPECTED:",{status:"success",total:5,records:[{recid:1,field:"value"}]},"\n         OR:",{status:"error",message:"error message"},"\n   RECEIVED:","object"==typeof l?l:t.responseText)}o.requestComplete("error",e,n),o.trigger($.extend(a,{phase:"after"}))}}),"get-records"==e&&this.trigger($.extend(s,{phase:"after"}))}},requestComplete:function(status,cmd,callBack){var obj=this;this.unlock(),setTimeout(function(){obj.status(w2utils.lang("Server Response")+" "+((new Date).getTime()-obj.last.xhr_start)/1e3+" "+w2utils.lang("sec"))},10),this.last.pull_more=!1,this.last.pull_refresh=!0;var event_name="load";"save-records"==this.last.xhr_cmd&&(event_name="save"),"delete-records"==this.last.xhr_cmd&&(event_name="deleted");var eventData=this.trigger({phase:"before",target:this.name,type:event_name,xhr:this.last.xhr,status:status});if(eventData.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));var data,responseText=this.last.xhr.responseText;if("error"!=status){if("undefined"!=typeof responseText&&""!=responseText){if("object"==typeof responseText)data=responseText;else if("function"==typeof obj.parser)data=obj.parser(responseText),"object"!=typeof data&&console.log("ERROR: Your parser did not return proper object");else try{eval("data = "+responseText)}catch(e){}if(obj.recid)for(var r in data.records)data.records[r].recid=data.records[r][obj.recid];if("undefined"==typeof data&&(data={status:"error",message:this.msgNotJSON,responseText:responseText}),"error"==data.status)obj.error(data.message);else{if("get-records"==cmd)if(0==this.last.xhr_offset)this.records=[],this.summary=[],delete data.status,$.extend(!0,this,data);else{var records=data.records;delete data.records,delete data.status,$.extend(!0,this,data);for(var r in records)this.records.push(records[r])}if("delete-records"==cmd)return void this.reset()}}}else data={status:"error",message:this.msgAJAXerror,responseText:responseText},obj.error(this.msgAJAXerror);var url="object"!=typeof this.url?this.url:this.url.get;url||(this.localSort(),this.localSearch()),this.total=parseInt(this.total),this.trigger($.extend(eventData,{phase:"after"})),0==this.last.xhr_offset?this.refresh():this.scroll(),"function"==typeof callBack&&callBack(data)},error:function(e){var t=this.trigger({target:this.name,type:"error",message:e,xhr:this.last.xhr});return t.isCancelled===!0?void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."})):(w2alert(e,"Error"),void this.trigger($.extend(t,{phase:"after"})))},getChanges:function(){var e=[];for(var t in this.records){var i=this.records[t];"undefined"!=typeof i.changes&&e.push($.extend(!0,{recid:i.recid},i.changes))}return e},mergeChanges:function(){var changes=this.getChanges();for(var c in changes){var record=this.get(changes[c].recid);for(var s in changes[c])if("recid"!=s){try{eval("record."+s+" = changes[c][s]")}catch(e){}delete record.changes}}this.refresh()},save:function(){var e=this,t=this.getChanges(),i=this.trigger({phase:"before",target:this.name,type:"submit",changes:t});if(i.isCancelled!==!0){var n="object"!=typeof this.url?this.url:this.url.save;n?this.request("save-records",{changes:i.changes},null,function(t){"error"!==t.status&&e.mergeChanges(),e.trigger($.extend(i,{phase:"after"}))}):(this.mergeChanges(),this.trigger($.extend(i,{phase:"after"})))}},editField:function(e,t,i,n){var r=this,s=r.get(e,!0),o=r.records[s],a=r.columns[t],l=a?a.editable:null;if(o&&a&&l&&o.editable!==!1){if(-1!=["enum","file"].indexOf(l.type))return void console.log('ERROR: input types "enum" and "file" are not supported in inline editing.');var d=r.trigger({phase:"before",type:"editField",target:r.name,recid:e,column:t,value:i,index:s,originalEvent:n});if(d.isCancelled!==!0&&(i=d.value,this.selectNone(),this.select({recid:e,column:t}),this.last.edit_col=t,-1==["checkbox","check"].indexOf(l.type))){var u=$("#grid_"+r.name+"_rec_"+w2utils.escapeId(e)),c=u.find("[col="+t+"] > div");"undefined"==typeof l.inTag&&(l.inTag=""),"undefined"==typeof l.outTag&&(l.outTag=""),"undefined"==typeof l.style&&(l.style=""),"undefined"==typeof l.items&&(l.items=[]);var h=w2utils.stripTags(o.changes&&"undefined"!=typeof o.changes[a.field]?o.changes[a.field]:o[a.field]);(null==h||"undefined"==typeof h)&&(h=""),"undefined"!=typeof i&&null!=i&&(h=i);var p="undefined"!=typeof a.style?a.style+";":"";if("string"==typeof a.render&&-1!=["number","int","float","money","percent"].indexOf(a.render.split(":")[0])&&(p+="text-align: right;"),"select"==l.type){var f="";for(var m in l.items)f+='<option value="'+l.items[m].id+'" '+(l.items[m].id==h?"selected":"")+">"+l.items[m].text+"</option>";c.addClass("w2ui-editable").html('<select id="grid_'+r.name+"_edit_"+e+"_"+t+'" column="'+t+'"     style="width: 100%; '+p+l.style+'" field="'+a.field+'" recid="'+e+'"     '+l.inTag+">"+f+"</select>"+l.outTag),c.find("select").focus().on("change",function(){delete r.last.move}).on("blur",function(e){r.editChange.call(r,this,s,t,e)})}else{c.addClass("w2ui-editable").html('<input id="grid_'+r.name+"_edit_"+e+"_"+t+'"     type="text" style="outline: none; '+p+l.style+'" field="'+a.field+'" recid="'+e+'"     column="'+t+'" '+l.inTag+">"+l.outTag),null==i&&c.find("input").val("object"!=h?h:"");var g=c.find("input").get(0);$(g).w2field(l.type,$.extend(l,{selected:h})),setTimeout(function(){var e=g;"list"==l.type&&(e=$($(g).data("w2field").helpers.focus).find("input"),"object"!=h&&""!=h&&e.val(h).css({opacity:1}).prev().css({opacity:1})),$(e).on("blur",function(e){r.editChange.call(r,g,s,t,e)})},10),null!=i&&$(g).val("object"!=h?h:"")}setTimeout(function(){c.find("input, select").on("click",function(e){e.stopPropagation()}).on("keydown",function(i){var n=!1;switch(i.keyCode){case 9:n=!0;var l=e,d=i.shiftKey?r.prevCell(t,!0):r.nextCell(t,!0);if(null==d){var u=i.shiftKey?r.prevRow(s):r.nextRow(s);if(null!=u&&u!=s){l=r.records[u].recid;for(var c in r.columns){var u=r.columns[c].editable;if("undefined"!=typeof u&&-1==["checkbox","check"].indexOf(u.type)&&(d=parseInt(c),!i.shiftKey))break}}}l===!1&&(l=e),null==d&&(d=t),this.blur(),setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:l,column:d})):r.editField(l,d,null,i)},1);break;case 13:this.blur();var h=i.shiftKey?r.prevRow(s):r.nextRow(s);null!=h&&h!=s&&setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:r.records[h].recid,column:t})):r.editField(r.records[h].recid,t,null,i)},100);break;case 38:if(!i.shiftKey)break;n=!0;var h=r.prevRow(s);h!=s&&(this.blur(),setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:r.records[h].recid,column:t})):r.editField(r.records[h].recid,t,null,i)},1));break;case 40:if(!i.shiftKey)break;n=!0;var h=r.nextRow(s);null!=h&&h!=s&&(this.blur(),setTimeout(function(){"row"!=r.selectType?(r.selectNone(),r.select({recid:r.records[h].recid,column:t})):r.editField(r.records[h].recid,t,null,i)},1));break;case 27:var p=r.parseField(o,a.field);o.changes&&"undefined"!=typeof o.changes[a.field]&&(p=o.changes[a.field]),this.value="undefined"!=typeof p?p:"",this.blur(),setTimeout(function(){r.select({recid:e,column:t})},1)}n&&i.preventDefault&&i.preventDefault()});var n=c.find("input").focus();null!=i?n[0].setSelectionRange(n.val().length,n.val().length):n.select()},1),r.trigger($.extend(d,{phase:"after"}))}}},editChange:function(e,t,i){var n=0>t;t=0>t?-t-1:t;var r=n?this.summary:this.records,s=r[t],o=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(s.recid)),a=this.columns[i],l=e.value,d=this.parseField(s,a.field),u=$(e).data("w2field");u&&(l=u.clean(l),"list"==u.type&&""!=l&&(l=$(e).data("selected"))),"checkbox"==e.type&&(l=e.checked);for(var c={phase:"before",type:"change",target:this.name,input_id:e.id,recid:s.recid,index:t,column:i,value_new:l,value_previous:s.changes&&s.changes.hasOwnProperty(a.field)?s.changes[a.field]:d,value_original:d};;){if(l=c.value_new,("undefined"==typeof d||null===d?"":String(d))!==String(l)){if(c=this.trigger($.extend(c,{type:"change",phase:"before"})),c.isCancelled!==!0){if(l!==c.value_new)continue;s.changes=s.changes||{},s.changes[a.field]=c.value_new,this.trigger($.extend(c,{phase:"after"}))}}else if(c=this.trigger($.extend(c,{type:"restore",phase:"before"})),c.isCancelled!==!0){if(l!==c.value_new)continue;s.changes&&delete s.changes[a.field],$.isEmptyObject(s.changes)&&delete s.changes,this.trigger($.extend(c,{phase:"after"}))}break}var h=this.getCellHTML(t,i,n);n||(s.changes&&"undefined"!=typeof s.changes[a.field]?$(o).find("[col="+i+"]").addClass("w2ui-changed").html(h):$(o).find("[col="+i+"]").removeClass("w2ui-changed").html(h))},"delete":function(e){var t=this,i=this.trigger({phase:"before",target:this.name,type:"delete",force:e});if(i.isCancelled!==!0){e=i.force;var n=this.getSelection();if(0!=n.length){if(""!=this.msgDelete&&!e)return void w2confirm({title:w2utils.lang("Delete Confirmation"),msg:t.msgDelete,btn_yes:{"class":"btn-red"},callBack:function(e){"Yes"==e&&w2ui[t.name]["delete"](!0)}});var r="object"!=typeof this.url?this.url:this.url.remove;if(r)this.request("delete-records");else if(this.selectNone(),"object"!=typeof n[0])this.remove.apply(this,n);else{for(var s in n){var o=this.columns[n[s].column].field,a=this.get(n[s].recid,!0);null!=a&&"recid"!=o&&(this.records[a][o]="",this.records[a].changes&&delete this.records[a].changes[o])}this.refresh()}this.trigger($.extend(i,{phase:"after"}))}}},click:function(e,t){var i=(new Date).getTime(),n=null;if(!(1==this.last.cancelClick||t&&t.altKey)){if("object"==typeof e&&(n=e.column,e=e.recid),"undefined"==typeof t&&(t={}),i-parseInt(this.last.click_time)<350&&"click"==t.type)return void this.dblClick(e,t);if(this.last.click_time=i,null==n&&t.target){var r=t.target;"TD"!=r.tagName&&(r=$(r).parents("td")[0]),"undefined"!=typeof $(r).attr("col")&&(n=parseInt($(r).attr("col")))}var s=this.trigger({phase:"before",target:this.name,type:"click",recid:e,column:n,originalEvent:t});if(s.isCancelled!==!0){var o=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(e)).parents("tr");if(o.length>0&&-1!=String(o.attr("id")).indexOf("expanded_row")){var a=o.parents(".w2ui-grid").attr("name");w2ui[a].selectNone(),o.parents(".w2ui-grid").find(".w2ui-expanded-row .w2ui-grid").each(function(e,t){var i=$(t).attr("name");w2ui[i]&&w2ui[i].selectNone()})}$(this.box).find(".w2ui-expanded-row .w2ui-grid").each(function(e,t){var i=$(t).attr("name");w2ui[i]&&w2ui[i].selectNone()});var l=this,d=this.getSelection();$("#grid_"+this.name+"_check_all").prop("checked",!1);var u=this.get(e,!0),c=(this.records[u],[]);if(l.last.sel_ind=u,l.last.sel_col=n,l.last.sel_recid=e,l.last.sel_type="click",t.shiftKey&&d.length>0&&l.multiSelect){if(d[0].recid){var h=this.get(d[0].recid,!0),p=this.get(e,!0);if(n>d[0].column)var f=d[0].column,m=n;else var f=n,m=d[0].column;for(var g=f;m>=g;g++)c.push(g)}else var h=this.get(d[0],!0),p=this.get(e,!0);var v=[];if(h>p){var r=h;h=p,p=r}for(var y="object"!=typeof this.url?this.url:this.url.get,b=h;p>=b;b++)if(!(this.searchData.length>0)||y||-1!=$.inArray(b,this.last.searchIds))if("row"==this.selectType)v.push(this.records[b].recid);else for(var w in c)v.push({recid:this.records[b].recid,column:c[w]});this.select.apply(this,v)}else{var x=this.last.selection,_=-1!=x.indexes.indexOf(u)?!0:!1;(t.ctrlKey||t.shiftKey||t.metaKey)&&this.multiSelect||this.showSelectColumn?("row"!=this.selectType&&-1==$.inArray(n,x.columns[u])&&(_=!1),_===!0?this.unselect({recid:e,column:n}):this.select({recid:e,column:n})):("row"!=this.selectType&&-1==$.inArray(n,x.columns[u])&&(_=!1),d.length>300?this.selectNone():this.unselect.apply(this,d),_===!0?this.unselect({recid:e,column:n}):this.select({recid:e,column:n}))}this.status(),l.initResize(),this.trigger($.extend(s,{phase:"after"}))}}},columnClick:function(e,t){var i=this.trigger({phase:"before",type:"columnClick",target:this.name,field:e,originalEvent:t});if(i.isCancelled!==!0){var n=this.getColumn(e);n.sortable&&this.sort(e,null,t&&(t.ctrlKey||t.metaKey)?!0:!1),this.trigger($.extend(i,{phase:"after"}))}},keydown:function(e){function t(){$("#_tmp_copy_data").remove(),$(document).off("keyup",t)}function i(){var e=Math.floor((a[0].scrollTop+a.height()/2.1)/r.recordHeight);r.records[e]||(e=0),r.select({recid:r.records[e].recid,column:0})}function n(){if("click"!=r.last.sel_type)return!1;if("row"!=r.selectType){if(r.last.sel_type="key",l.length>1){for(var e in l)if(l[e].recid==r.last.sel_recid&&l[e].column==r.last.sel_col){l.splice(e,1);break}return r.unselect.apply(r,l),!0}return!1}return r.last.sel_type="key",l.length>1?(l.splice(l.indexOf(r.records[r.last.sel_ind].recid),1),r.unselect.apply(r,l),!0):!1}var r=this;if(r.keyboard===!0){var s=r.trigger({phase:"before",type:"keydown",target:r.name,originalEvent:e});if(s.isCancelled!==!0){var o=!1,a=$("#grid_"+r.name+"_records"),l=r.getSelection();0==l.length&&(o=!0);var d=l[0]||null,u=[],c=l[l.length-1];if("object"==typeof d&&null!=d){d=l[0].recid,u=[];for(var h=0;l[h]&&l[h].recid==d;)u.push(l[h].column),h++;c=l[l.length-1].recid}var p=r.get(d,!0),f=r.get(c,!0),m=r.get(d),g=$("#grid_"+r.name+"_rec_"+(null!==p?w2utils.escapeId(r.records[p].recid):"none")),v=!1,y=e.keyCode,b=e.shiftKey;switch(9==y&&(y=e.shiftKey?37:39,b=!1,v=!0),y){case 8:case 46:this.show.toolbarDelete&&r["delete"](),v=!0,e.stopPropagation();break;case 27:r.selectNone(),l.length>0&&"object"==typeof l[0]&&r.select({recid:l[0].recid,column:l[0].column}),v=!0;break;case 65:if(!e.metaKey&&!e.ctrlKey)break;r.selectAll(),v=!0;break;case 70:if(!e.metaKey&&!e.ctrlKey)break;$("#grid_"+r.name+"_search_all").focus(),v=!0;break;case 13:if("row"==this.selectType&&r.show.expandColumn===!0){if(g.length<=0)break;r.toggle(d,e),v=!0}else{for(var w in this.columns)if(this.columns[w].editable){u.push(parseInt(w));break}"row"==this.selectType&&this.last.edit_col&&(u=[this.last.edit_col]),u.length>0&&(r.editField(d,u[0],null,e),v=!0)}break;case 37:if(o)break;var x=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(r.records[p].recid)).parents("tr");if(x.length>0&&-1!=String(x.attr("id")).indexOf("expanded_row")){var d=x.prev().attr("recid"),_=x.parents(".w2ui-grid").attr("name");r.selectNone(),w2utils.keyboard.active(_),w2ui[_].set(d,{expanded:!1}),w2ui[_].collapse(d),w2ui[_].click(d),v=!0;break}if("row"==this.selectType){if(g.length<=0||m.expanded!==!0)break;r.set(d,{expanded:!1},!0),r.collapse(d,e)}else{var k=r.prevCell(u[0]);if(null!=k)if(b&&r.multiSelect){if(n())return;var M=[],T=[],D=[];if(0==u.indexOf(this.last.sel_col)&&u.length>1)for(var L in l)-1==M.indexOf(l[L].recid)&&M.push(l[L].recid),D.push({recid:l[L].recid,column:u[u.length-1]});else for(var L in l)-1==M.indexOf(l[L].recid)&&M.push(l[L].recid),T.push({recid:l[L].recid,column:k});r.unselect.apply(r,D),r.select.apply(r,T)}else e.shiftKey=!1,r.click({recid:d,column:k},e);else if(!b)for(var S=1;S<l.length;S++)r.unselect(l[S])}v=!0;break;case 39:if(o)break;if("row"==this.selectType){if(g.length<=0||m.expanded===!0||r.show.expandColumn!==!0)break;r.expand(d,e)}else{var A=r.nextCell(u[u.length-1]);if(null!==A)if(b&&39==y&&r.multiSelect){if(n())return;var M=[],T=[],D=[];if(u.indexOf(this.last.sel_col)==u.length-1&&u.length>1)for(var L in l)-1==M.indexOf(l[L].recid)&&M.push(l[L].recid),D.push({recid:l[L].recid,column:u[0]});else for(var L in l)-1==M.indexOf(l[L].recid)&&M.push(l[L].recid),T.push({recid:l[L].recid,column:A});r.unselect.apply(r,D),r.select.apply(r,T)}else r.click({recid:d,column:A},e);else if(!b)for(var S=0;S<l.length-1;S++)r.unselect(l[S])}v=!0;break;case 38:if(o&&i(),g.length<=0)break;var k=r.prevRow(p);if(null!=k){if(r.records[k].expanded){var Y=$("#grid_"+r.name+"_rec_"+w2utils.escapeId(r.records[k].recid)+"_expanded_row").find(".w2ui-grid");if(Y.length>0&&w2ui[Y.attr("name")]){r.selectNone();var _=Y.attr("name"),C=w2ui[_].records;w2utils.keyboard.active(_),w2ui[_].click(C[C.length-1].recid),v=!0;break}}if(b&&r.multiSelect){if(n())return;if("row"==r.selectType)r.last.sel_ind>k&&r.last.sel_ind!=f?r.unselect(r.records[f].recid):r.select(r.records[k].recid);else if(r.last.sel_ind>k&&r.last.sel_ind!=f){k=f;var M=[];for(var w in u)M.push({recid:r.records[k].recid,column:u[w]});r.unselect.apply(r,M)}else{var M=[];for(var w in u)M.push({recid:r.records[k].recid,column:u[w]});r.select.apply(r,M)}}else r.selectNone(),r.click({recid:r.records[k].recid,column:u[0]},e);r.scrollIntoView(k),e.preventDefault&&e.preventDefault()}else{if(!b)for(var S=1;S<l.length;S++)r.unselect(l[S]);var x=$("#grid_"+r.name+"_rec_"+w2utils.escapeId(r.records[p].recid)).parents("tr");if(x.length>0&&-1!=String(x.attr("id")).indexOf("expanded_row")){var d=x.prev().attr("recid"),_=x.parents(".w2ui-grid").attr("name");r.selectNone(),w2utils.keyboard.active(_),w2ui[_].click(d),v=!0;break}}break;case 40:if(o&&i(),g.length<=0)break;if(r.records[f].expanded){var Y=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(r.records[f].recid)+"_expanded_row").find(".w2ui-grid");if(Y.length>0&&w2ui[Y.attr("name")]){r.selectNone();var _=Y.attr("name"),C=w2ui[_].records;w2utils.keyboard.active(_),w2ui[_].click(C[0].recid),v=!0;break}}var A=r.nextRow(f);if(null!=A){if(b&&r.multiSelect){if(n())return;if("row"==r.selectType)this.last.sel_ind<A&&this.last.sel_ind!=p?r.unselect(r.records[p].recid):r.select(r.records[A].recid);else if(this.last.sel_ind<A&&this.last.sel_ind!=p){A=p;var M=[];for(var w in u)M.push({recid:r.records[A].recid,column:u[w]});r.unselect.apply(r,M)}else{var M=[];for(var w in u)M.push({recid:r.records[A].recid,column:u[w]});r.select.apply(r,M)}}else r.selectNone(),r.click({recid:r.records[A].recid,column:u[0]},e);r.scrollIntoView(A),v=!0}else{if(!b)for(var S=0;S<l.length-1;S++)r.unselect(l[S]);var x=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(r.records[f].recid)).parents("tr");if(x.length>0&&-1!=String(x.attr("id")).indexOf("expanded_row")){var d=x.next().attr("recid"),_=x.parents(".w2ui-grid").attr("name");r.selectNone(),w2utils.keyboard.active(_),w2ui[_].click(d),v=!0;break}}break;case 17:case 91:if(o)break;var O=r.copy();$("body").append('<textarea id="_tmp_copy_data"    onpaste="var obj = this; setTimeout(function () { w2ui[\''+r.name+"'].paste(obj.value); }, 1);\"    onkeydown=\"w2ui['"+r.name+'\'].keydown(event)"   style="position: absolute; top: -100px; height: 1px; width: 1px">'+O+"</textarea>"),$("#_tmp_copy_data").focus().select(),$(document).on("keyup",t);break;case 88:if(o)break;(e.ctrlKey||e.metaKey)&&setTimeout(function(){r["delete"](!0)},100)}for(var M=[187,189,32],L=48;90>=L;L++)M.push(L);if(-1!=M.indexOf(y)&&!e.ctrlKey&&!e.metaKey&&!v){0==u.length&&u.push(0);var M=String.fromCharCode(y);187==y&&(M="="),189==y&&(M="-"),b||(M=M.toLowerCase()),r.editField(d,u[0],M,e),v=!0}v&&e.preventDefault&&e.preventDefault(),r.trigger($.extend(s,{phase:"after"}))}}},scrollIntoView:function(e){var t=this.records.length;if(0==this.searchData.length||this.url||(t=this.last.searchIds.length),"undefined"==typeof e){var i=this.getSelection();if(0==i.length)return;e=this.get(i[0],!0)}var n=$("#grid_"+this.name+"_records");if(0!=t){var r=this.last.searchIds.length;if(!(n.height()>this.recordHeight*(r>0?r:t))){r>0&&(e=this.last.searchIds.indexOf(e));var s=Math.floor(n[0].scrollTop/this.recordHeight),o=s+Math.floor(n.height()/this.recordHeight);e==s&&n.animate({scrollTop:n.scrollTop()-n.height()/1.3},250,"linear"),e==o&&n.animate({scrollTop:n.scrollTop()+n.height()/1.3},250,"linear"),(s>e||e>o)&&n.animate({scrollTop:(e-1)*this.recordHeight})}}},dblClick:function(e,t){var i=null;if("object"==typeof e&&(i=e.column,e=e.recid),"undefined"==typeof t&&(t={}),null==i&&t.target){var n=t.target;"TD"!=n.tagName&&(n=$(n).parents("td")[0]),i=parseInt($(n).attr("col"))}var r=this.trigger({phase:"before",target:this.name,type:"dblClick",recid:e,column:i,originalEvent:t});if(r.isCancelled!==!0){this.selectNone();var s=this.columns[i];s&&$.isPlainObject(s.editable)?this.editField(e,i,null,t):this.select({recid:e,column:i}),this.trigger($.extend(r,{phase:"after"}))}},contextMenu:function(e,t){var i=this;"text"!=i.last.userSelect&&("undefined"==typeof t&&(t={offsetX:0,offsetY:0,target:$("#grid_"+i.name+"_rec_"+e)[0]}),"undefined"==typeof t.offsetX&&(t.offsetX=t.layerX-t.target.offsetLeft,t.offsetY=t.layerY-t.target.offsetTop),w2utils.isFloat(e)&&(e=parseFloat(e)),-1==this.getSelection().indexOf(e)&&i.click(e),setTimeout(function(){var n=i.trigger({phase:"before",type:"contextMenu",target:i.name,originalEvent:t,recid:e});n.isCancelled!==!0&&(i.menu.length>0&&$(i.box).find(t.target).w2menu(i.menu,{left:t.offsetX,onSelect:function(t){i.menuClick(e,parseInt(t.index),t.originalEvent)}}),i.trigger($.extend(n,{phase:"after"})))},150),t.preventDefault&&t.preventDefault())},menuClick:function(e,t,i){var n=this,r=n.trigger({phase:"before",type:"menuClick",target:n.name,originalEvent:i,recid:e,menuIndex:t,menuItem:n.menu[t]});r.isCancelled!==!0&&n.trigger($.extend(r,{phase:"after"}))},toggle:function(e){var t=this.get(e);return t.expanded===!0?this.collapse(e):this.expand(e)},expand:function(e){function t(){var t=$("#grid_"+n.name+"_rec_"+r+"_expanded"),i=$("#grid_"+n.name+"_rec_"+r+"_expanded_row .w2ui-expanded1 > div");t.height()<5||(t.css("opacity",1),i.show().css("opacity",1),$("#grid_"+n.name+"_cell_"+n.get(e,!0)+"_expand div").html("-"))}var i=this.get(e),n=this,r=w2utils.escapeId(e);if($("#grid_"+this.name+"_rec_"+r+"_expanded_row").length>0)return!1;if("none"==i.expanded)return!1;var s=1+(this.show.selectColumn?1:0),o="";$("#grid_"+this.name+"_rec_"+r).after('<tr id="grid_'+this.name+"_rec_"+r+'_expanded_row" class="w2ui-expanded-row '+o+'">'+(this.show.lineNumbers?'<td class="w2ui-col-number"></td>':"")+'    <td class="w2ui-grid-data w2ui-expanded1" colspan="'+s+'"><div style="display: none"></div></td>    <td colspan="100" class="w2ui-expanded2">        <div id="grid_'+this.name+"_rec_"+r+'_expanded" style="opacity: 0"></div>    </td></tr>');var a=this.trigger({phase:"before",type:"expand",target:this.name,recid:e,box_id:"grid_"+this.name+"_rec_"+r+"_expanded",ready:t});return a.isCancelled===!0?void $("#grid_"+this.name+"_rec_"+r+"_expanded_row").remove():($("#grid_"+this.name+"_rec_"+r).attr("expanded","yes").addClass("w2ui-expanded"),$("#grid_"+this.name+"_rec_"+r+"_expanded_row").show(),$("#grid_"+this.name+"_cell_"+this.get(e,!0)+"_expand div").html('<div class="w2ui-spinner" style="width: 16px; height: 16px; margin: -2px 2px;"></div>'),i.expanded=!0,setTimeout(t,300),this.trigger($.extend(a,{phase:"after"})),this.resizeRecords(),!0)},collapse:function(e){var t=this.get(e),i=this,n=w2utils.escapeId(e);if(0==$("#grid_"+this.name+"_rec_"+n+"_expanded_row").length)return!1;var r=this.trigger({phase:"before",type:"collapse",target:this.name,recid:e,box_id:"grid_"+this.name+"_rec_"+n+"_expanded"});return r.isCancelled!==!0?($("#grid_"+this.name+"_rec_"+n).removeAttr("expanded").removeClass("w2ui-expanded"),$("#grid_"+this.name+"_rec_"+n+"_expanded").css("opacity",0),$("#grid_"+this.name+"_cell_"+this.get(e,!0)+"_expand div").html("+"),setTimeout(function(){$("#grid_"+i.name+"_rec_"+n+"_expanded").height("0px"),setTimeout(function(){$("#grid_"+i.name+"_rec_"+n+"_expanded_row").remove(),delete t.expanded,i.trigger($.extend(r,{phase:"after"})),i.resizeRecords()},300)},200),!0):void 0},sort:function(e,t,i){var n=this.trigger({phase:"before",type:"sort",target:this.name,field:e,direction:t,multiField:i});if(n.isCancelled!==!0){if("undefined"!=typeof e){var r=this.sortData.length;for(var s in this.sortData)if(this.sortData[s].field==e){r=s;break}if("undefined"==typeof t||null==t)if("undefined"==typeof this.sortData[r])t="asc";else switch(String(this.sortData[r].direction)){case"asc":t="desc";break;case"desc":t="asc";break;default:t="asc"}this.multiSort===!1&&(this.sortData=[],r=0),1!=i&&(this.sortData=[],r=0),"undefined"==typeof this.sortData[r]&&(this.sortData[r]={}),this.sortData[r].field=e,this.sortData[r].direction=t}else this.sortData=[];this.selectNone();var o="object"!=typeof this.url?this.url:this.url.get;o?(this.trigger($.extend(n,{phase:"after"})),this.last.xhr_offset=0,this.reload()):(this.localSort(),this.searchData.length>0&&this.localSearch(!0),this.trigger($.extend(n,{phase:"after"})),this.refresh())}},copy:function(){var e=this.getSelection();if(0==e.length)return"";var t="";if("object"==typeof e[0]){var i=e[0].column,n=e[0].column,r=[];for(var s in e)e[s].column<i&&(i=e[s].column),e[s].column>n&&(n=e[s].column),-1==r.indexOf(e[s].index)&&r.push(e[s].index);r.sort();for(var o in r){for(var a=r[o],l=i;n>=l;l++){var d=this.columns[l];d.hidden!==!0&&(t+=w2utils.stripTags(this.getCellHTML(a,l))+"	")}t=t.substr(0,t.length-1),t+="\n"}}else{for(var l in this.columns){var d=this.columns[l];d.hidden!==!0&&(t+='"'+w2utils.stripTags(d.caption?d.caption:d.field)+'"	')}t=t.substr(0,t.length-1),t+="\n";for(var s in e){var a=this.get(e[s],!0);for(var l in this.columns){var d=this.columns[l];d.hidden!==!0&&(t+='"'+w2utils.stripTags(this.getCellHTML(a,l))+'"	')}t=t.substr(0,t.length-1),t+="\n"}}t=t.substr(0,t.length-1);var u=this.trigger({phase:"before",type:"copy",target:this.name,text:t});return u.isCancelled===!0?"":(t=u.text,this.trigger($.extend(u,{phase:"after"})),t)},paste:function(e){var t=this.getSelection(),i=this.get(t[0].recid,!0),n=t[0].column,r=this.trigger({phase:"before",type:"paste",target:this.name,text:e,index:i,column:n});if(r.isCancelled!==!0){if(e=r.text,"row"==this.selectType||0==t.length)return console.log("ERROR: You can paste only if grid.selectType = 'cell' and when at least one cell selected."),void this.trigger($.extend(r,{phase:"after"}));var s=[],e=e.split("\n");for(var o in e){var a=e[o].split("	"),l=0,d=this.records[i],u=[];for(var c in a)if(this.columns[n+l]){var h=this.columns[n+l].field;d.changes=d.changes||{},d.changes[h]=a[c],u.push(n+l),l++}for(var p in u)s.push({recid:d.recid,column:u[p]});i++}this.selectNone(),this.select.apply(this,s),this.refresh(),this.trigger($.extend(r,{phase:"after"}))}},resize:function(){var e=this,t=(new Date).getTime();if(this.box&&$(this.box).attr("name")==this.name){$(this.box).find("> div").css("width",$(this.box).width()).css("height",$(this.box).height());var i=this.trigger({phase:"before",type:"resize",target:this.name});if(i.isCancelled!==!0)return e.resizeBoxes(),e.resizeRecords(),this.trigger($.extend(i,{phase:"after"})),(new Date).getTime()-t}},refreshCell:function(e,t){var i=this.get(e,!0),n=this.getColumn(t,!0),r=this.records[i],s=this.columns[n],o=$("#grid_"+this.name+"_rec_"+e+" [col="+n+"]");o.html(this.getCellHTML(i,n)),r.changes&&"undefined"!=typeof r.changes[s.field]?o.addClass("w2ui-changed"):o.removeClass("w2ui-changed")},refreshRow:function(e){var t=$("#grid_"+this.name+"_rec_"+w2utils.escapeId(e));if(0!=t.length){var i=this.get(e,!0),n=t.attr("line"),r="object"!=typeof this.url?this.url:this.url.get;if(this.searchData.length>0&&!r)for(var s in this.last.searchIds)this.last.searchIds[s]==i&&(i=s);$(t).replaceWith(this.getRecordHTML(i,n))}},refresh:function(){var e=this,t=(new Date).getTime(),i="object"!=typeof this.url?this.url:this.url.get;if(this.total<=0&&!i&&0==this.searchData.length&&(this.total=this.records.length),this.toolbar.disable("w2ui-edit","w2ui-delete"),this.box){var n=this.trigger({phase:"before",target:this.name,type:"refresh"});if(n.isCancelled!==!0){if(this.show.header?$("#grid_"+this.name+"_header").html(this.header+"&nbsp;").show():$("#grid_"+this.name+"_header").hide(),this.show.toolbar){if(this.toolbar&&this.toolbar.get("w2ui-column-on-off")&&this.toolbar.get("w2ui-column-on-off").checked);else if($("#grid_"+this.name+"_toolbar").show(),"object"==typeof this.toolbar){var r=this.toolbar.items;for(var s in r)"w2ui-search"!=r[s].id&&"break"!=r[s].type&&this.toolbar.refresh(r[s].id)}}else $("#grid_"+this.name+"_toolbar").hide();this.searchClose();var o=$("#grid_"+e.name+"_search_all");!this.multiSearch&&"all"==this.last.field&&this.searches.length>0&&(this.last.field=this.searches[0].field,this.last.caption=this.searches[0].caption);for(var a in this.searches)this.searches[a].field==this.last.field&&(this.last.caption=this.searches[a].caption);if(this.last.multi?o.attr("placeholder","["+w2utils.lang("Multiple Fields")+"]"):o.attr("placeholder",this.last.caption),o.val()!=this.last.search){var l=this.last.search,r=o.data("w2field");r&&(l=r.format(l)),o.val(l)}var r=this.find({summary:!0},!0);if(r.length>0){for(var s in r)this.summary.push(this.records[r[s]]);for(var s=r.length-1;s>=0;s--)this.records.splice(r[s],1);this.total=this.total-r.length}var d="";d+='<div id="grid_'+this.name+'_records" class="w2ui-grid-records"    onscroll="var obj = w2ui[\''+this.name+"'];         obj.last.scrollTop = this.scrollTop;         obj.last.scrollLeft = this.scrollLeft;         $('#grid_"+this.name+"_columns')[0].scrollLeft = this.scrollLeft;        $('#grid_"+this.name+"_summary')[0].scrollLeft = this.scrollLeft;        obj.scroll(event);\">"+this.getRecordsHTML()+'</div><div id="grid_'+this.name+'_columns" class="w2ui-grid-columns">    <table>'+this.getColumnsHTML()+"</table></div>",
$("#grid_"+this.name+"_body").html(d),this.summary.length>0?$("#grid_"+this.name+"_summary").html(this.getSummaryHTML()).show():$("#grid_"+this.name+"_summary").hide(),this.show.footer?$("#grid_"+this.name+"_footer").html(this.getFooterHTML()).show():$("#grid_"+this.name+"_footer").hide(),this.searchData.length>0?$("#grid_"+this.name+"_searchClear").show():$("#grid_"+this.name+"_searchClear").hide();var u=this.last.selection;u.indexes.length==this.records.length||0!==this.searchData.length&&u.indexes.length==this.last.searchIds.length?$("#grid_"+this.name+"_check_all").prop("checked",!0):$("#grid_"+this.name+"_check_all").prop("checked",!1),this.status();var c=e.find({expanded:!0},!0);for(var h in c)e.records[c[h]].expanded=!1;return setTimeout(function(){var t=$.trim($("#grid_"+e.name+"_search_all").val());""!=t&&$(e.box).find(".w2ui-grid-data > div").w2marker(t)},50),this.trigger($.extend(n,{phase:"after"})),e.resize(),e.addRange("selection"),setTimeout(function(){e.resize(),e.scroll()},1),e.reorderColumns&&!e.last.columnDrag?e.last.columnDrag=e.initColumnDrag():!e.reorderColumns&&e.last.columnDrag&&e.last.columnDrag.remove(),(new Date).getTime()-t}}},render:function(e){function t(e){if(1==e.which&&("text"==r.last.userSelect&&(delete r.last.userSelect,$(r.box).find(".w2ui-grid-body").css("user-select","none").css("-webkit-user-select","none").css("-moz-user-select","none").css("-ms-user-select","none"),$(this.box).on("selectstart",function(){return!1})),!($(e.target).parents().hasClass("w2ui-head")||$(e.target).hasClass("w2ui-head")||r.last.move&&"expand"==r.last.move.type))){if(e.altKey)$(r.box).off("selectstart"),$(r.box).find(".w2ui-grid-body").css("user-select","text").css("-webkit-user-select","text").css("-moz-user-select","text").css("-ms-user-select","text"),r.selectNone(),r.last.move={type:"text-select"},r.last.userSelect="text";else{if(!r.multiSelect)return;r.last.move={x:e.screenX,y:e.screenY,divX:0,divY:0,recid:$(e.target).parents("tr").attr("recid"),column:"TD"==e.target.tagName?$(e.target).attr("col"):$(e.target).parents("td").attr("col"),type:"select",ghost:!1,start:!0}}$(document).on("mousemove",i),$(document).on("mouseup",n)}}function i(e){var t=r.last.move;if(t&&"select"==t.type&&(t.divX=e.screenX-t.x,t.divY=e.screenY-t.y,!(Math.abs(t.divX)<=1&&Math.abs(t.divY)<=1))){if(r.last.cancelClick=!0,1==r.reorderRows){if(!t.ghost){var i=$("#grid_"+r.name+"_rec_"+t.recid),n=i.parents("table").find("tr:first-child").clone();t.offsetY=e.offsetY,t.from=t.recid,t.pos=i.position(),t.ghost=$(i).clone(!0),t.ghost.removeAttr("id"),i.find("td:first-child").replaceWith('<td colspan="1000" style="height: '+r.recordHeight+'px; background-color: #ddd"></td>');var s=$(r.box).find(".w2ui-grid-records");s.append('<table id="grid_'+r.name+'_ghost" style="position: absolute; z-index: 999999; opacity: 0.8; border-bottom: 2px dashed #aaa; border-top: 2px dashed #aaa; pointer-events: none;"></table>'),$("#grid_"+r.name+"_ghost").append(n).append(t.ghost)}var o=$(e.target).parents("tr").attr("recid");if(o!=t.from){var a=$("#grid_"+r.name+"_rec_"+t.recid),l=$("#grid_"+r.name+"_rec_"+o);e.screenY-t.lastY<0?a.after(l):l.after(a),t.lastY=e.screenY,t.to=o}var d=$("#grid_"+r.name+"_ghost"),s=$(r.box).find(".w2ui-grid-records");return void d.css({top:t.pos.top+t.divY+s.scrollTop(),left:t.pos.left})}t.start&&t.recid&&(r.selectNone(),t.start=!1);var u=[],o="TR"==e.target.tagName?$(e.target).attr("recid"):$(e.target).parents("tr").attr("recid");if("undefined"!=typeof o){var c=r.get(t.recid,!0);if(null!==c){var h=r.get(o,!0);if(null!==h){var p=parseInt(t.column),f=parseInt("TD"==e.target.tagName?$(e.target).attr("col"):$(e.target).parents("td").attr("col"));if(c>h){var n=c;c=h,h=n}var n="ind1:"+c+",ind2;"+h+",col1:"+p+",col2:"+f;if(t.range!=n){t.range=n;for(var m=c;h>=m;m++)if(!(r.last.searchIds.length>0&&-1==r.last.searchIds.indexOf(m)))if("row"!=r.selectType){if(p>f){var n=p;p=f,f=n}for(var n=[],g=p;f>=g;g++)r.columns[g].hidden||u.push({recid:r.records[m].recid,column:parseInt(g)})}else u.push(r.records[m].recid);if("row"!=r.selectType){var v=r.getSelection(),n=[];for(var y in u){var b=!1;for(var w in v)u[y].recid==v[w].recid&&u[y].column==v[w].column&&(b=!0);b||n.push({recid:u[y].recid,column:u[y].column})}r.select.apply(r,n);var n=[];for(var w in v){var b=!1;for(var y in u)u[y].recid==v[w].recid&&u[y].column==v[w].column&&(b=!0);b||n.push({recid:v[w].recid,column:v[w].column})}r.unselect.apply(r,n)}else if(r.multiSelect){var v=r.getSelection();for(var y in u)-1==v.indexOf(u[y])&&r.select(u[y]);for(var w in v)-1==u.indexOf(v[w])&&r.unselect(v[w])}}}}}}}function n(e){var t=r.last.move;if(setTimeout(function(){delete r.last.cancelClick},1),!$(e.target).parents().hasClass(".w2ui-head")&&!$(e.target).hasClass(".w2ui-head")){if(t&&"select"==t.type&&1==r.reorderRows){var s=r.get(t.from,!0),o=r.records[s];r.records.splice(s,1);var a=r.get(t.to,!0);s>a?r.records.splice(a,0,o):r.records.splice(a+1,0,o),$("#grid_"+r.name+"_ghost").remove(),r.refresh()}delete r.last.move,$(document).off("mousemove",i),$(document).off("mouseup",n)}}var r=this,s=(new Date).getTime();if("undefined"!=typeof e&&null!=e&&($(this.box).find("#grid_"+this.name+"_body").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-grid").html(""),this.box=e),this.box){null==this.last.sortData&&(this.last.sortData=this.sortData);var o=this.trigger({phase:"before",target:this.name,type:"render",box:e});if(o.isCancelled!==!0){if($(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-grid").html('<div>    <div id="grid_'+this.name+'_header" class="w2ui-grid-header"></div>    <div id="grid_'+this.name+'_toolbar" class="w2ui-grid-toolbar"></div>    <div id="grid_'+this.name+'_body" class="w2ui-grid-body"></div>    <div id="grid_'+this.name+'_summary" class="w2ui-grid-body w2ui-grid-summary"></div>    <div id="grid_'+this.name+'_footer" class="w2ui-grid-footer"></div></div>'),"row"!=this.selectType&&$(this.box).addClass("w2ui-ss"),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.initToolbar(),null!=this.toolbar&&this.toolbar.render($("#grid_"+this.name+"_toolbar")[0]),this.last.field&&"all"!=this.last.field){var a=this.searchData;this.initAllField(this.last.field,1==a.length?a[0].value:null)}return $("#grid_"+this.name+"_footer").html(this.getFooterHTML()),this.last.state||(this.last.state=this.stateSave(!0)),this.stateRestore(),this.url&&this.refresh(),this.reload(),$(this.box).on("mousedown",t),$(this.box).on("selectstart",function(){return!1}),this.trigger($.extend(o,{phase:"after"})),0==$(".w2ui-layout").length&&(this.tmp_resize=function(){w2ui[r.name].resize()},$(window).off("resize",this.tmp_resize).on("resize",this.tmp_resize)),(new Date).getTime()-s}}},destroy:function(){var e=this.trigger({phase:"before",target:this.name,type:"destroy"});e.isCancelled!==!0&&($(window).off("resize",this.tmp_resize),"object"==typeof this.toolbar&&this.toolbar.destroy&&this.toolbar.destroy(),$(this.box).find("#grid_"+this.name+"_body").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-grid").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},initColumnOnOff:function(){if(this.show.toolbarColumns){var e=this,t='<div class="w2ui-col-on-off"><table><tr><td style="width: 30px">    <input id="grid_'+this.name+'_column_ln_check" type="checkbox" tabIndex="-1" '+(e.show.lineNumbers?"checked":"")+"        onclick=\"w2ui['"+e.name+"'].columnOnOff(this, event, 'line-numbers');\"></td><td onclick=\"w2ui['"+e.name+"'].columnOnOff(this, event, 'line-numbers'); $('#w2ui-overlay')[0].hide();\">    <label for=\"grid_"+this.name+'_column_ln_check">'+w2utils.lang("Line #")+"</label></td></tr>";for(var i in this.columns){var n=this.columns[i],r=this.columns[i].caption;n.hideable!==!1&&(!r&&this.columns[i].hint&&(r=this.columns[i].hint),r||(r="- column "+(parseInt(i)+1)+" -"),t+='<tr><td style="width: 30px">    <input id="grid_'+this.name+"_column_"+i+'_check" type="checkbox" tabIndex="-1" '+(n.hidden?"":"checked")+"        onclick=\"w2ui['"+e.name+"'].columnOnOff(this, event, '"+n.field+'\');"></td><td>    <label for="grid_'+this.name+"_column_"+i+'_check">'+r+"</label></td></tr>")}t+='<tr><td colspan="2"><div style="border-top: 1px solid #ddd;"></div></td></tr>';var s="object"!=typeof this.url?this.url:this.url.get;s&&e.show.skipRecords&&(t+='<tr><td colspan="2" style="padding: 0px">    <div style="cursor: pointer; padding: 2px 8px; cursor: default">'+w2utils.lang("Skip")+'        <input type="text" style="width: 45px" value="'+this.offset+'"             onkeypress="if (event.keyCode == 13) {                w2ui[\''+e.name+"'].skip(this.value);                $('#w2ui-overlay')[0].hide();             }\"> "+w2utils.lang("Records")+"    </div></td></tr>"),t+='<tr><td colspan="2" onclick="w2ui[\''+e.name+"'].stateSave(); $('#w2ui-overlay')[0].hide();\">    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">"+w2utils.lang("Save Grid State")+'</div></td></tr><tr><td colspan="2" onclick="w2ui[\''+e.name+"'].stateReset(); $('#w2ui-overlay')[0].hide();\">    <div style=\"cursor: pointer; padding: 4px 8px; cursor: default\">"+w2utils.lang("Restore Default State")+"</div></td></tr>",t+="</table></div>",this.toolbar.get("w2ui-column-on-off").html=t}},initColumnDrag:function(){function e(){l.pressed=!1,clearTimeout(l.timeout)}function t(e){l.timeout&&clearTimeout(l.timeout);var t=this;l.pressed=!0,l.timeout=setTimeout(function(){if(l.pressed){var r,s,o,d,u,c=["w2ui-col-number","w2ui-col-expand","w2ui-col-select"],h=["w2ui-head-last"],p=c.concat(h),f=".w2ui-col-number, .w2ui-col-expand, .w2ui-col-select",m=".w2ui-head.w2ui-col-number, .w2ui-head.w2ui-col-expand, .w2ui-head.w2ui-col-select";if($(e.originalEvent.target).parents().hasClass("w2ui-head")){for(var g=0,v=p.length;v>g;g++)if($(e.originalEvent.target).parents().hasClass(p[g]))return;if(l.numberPreColumnsPresent=$(a.box).find(m).length,l.columnHead=d=$(e.originalEvent.target).parents(".w2ui-head"),u=parseInt(d.attr("col"),10),r=a.trigger({type:"columnDragStart",phase:"before",originalEvent:e,origColumnNumber:u,target:d[0]}),r.isCancelled===!0)return!1;s=l.columns=$(a.box).find(".w2ui-head:not(.w2ui-head-last)"),$(document).on("mouseup",n),$(document).on("mousemove",i),l.originalPos=parseInt($(e.originalEvent.target).parent(".w2ui-head").attr("col"),10),l.ghost=$(t).clone(!0),$(l.ghost).find('[col]:not([col="'+l.originalPos+'"]), .w2ui-toolbar, .w2ui-grid-header').remove(),$(l.ghost).find(f).remove(),$(l.ghost).find(".w2ui-grid-body").css({top:0}),o=$(l.ghost).find('[col="'+l.originalPos+'"]'),$(document.body).append(l.ghost),$(l.ghost).css({width:0,height:0,margin:0,position:"fixed",zIndex:999999,opacity:0}).addClass(".w2ui-grid-ghost").animate({width:o.width(),height:$(a.box).find(".w2ui-grid-body:first").height(),left:e.pageX,top:e.pageY,opacity:.8},0),l.offsets=[];for(var g=0,v=s.length;v>g;g++)l.offsets.push($(s[g]).offset().left);a.trigger($.extend(r,{phase:"after"}))}}},150)}function i(e){if(l.pressed){var t=e.originalEvent.pageX,i=e.originalEvent.pageY,n=l.offsets,a=$(".w2ui-head:not(.w2ui-head-last)").width();l.targetInt=Math.max(l.numberPreColumnsPresent,s(t,n,a)),r(l.targetInt),o(t,i)}}function n(e){l.pressed=!1;var t,r,s,o,d,u=$(".w2ui-grid-ghost");return t=a.trigger({type:"columnDragEnd",phase:"before",originalEvent:e,target:l.columnHead[0]}),t.isCancelled===!0?!1:(s=a.columns[l.originalPos],o=a.columns,d=$(l.columns[Math.min(l.lastInt,l.columns.length-1)]),r=l.lastInt<l.columns.length?parseInt(d.attr("col")):o.length,r!==l.originalPos+1&&r!==l.originalPos&&d&&d.length?($(l.ghost).animate({top:$(a.box).offset().top,left:d.offset().left,width:0,height:0,opacity:.2},300,function(){$(this).remove(),u.remove()}),o.splice(r,0,$.extend({},s)),o.splice(o.indexOf(s),1)):($(l.ghost).remove(),u.remove()),$(document).off("mouseup",n),$(document).off("mousemove",i),l.marker&&l.marker.remove(),l={},a.refresh(),void a.trigger($.extend(t,{phase:"after",targetColumnNumber:r-1})))}function r(e){l.marker||l.markerLeft||(l.marker=$('<div class="col-intersection-marker"><div class="top-marker"></div><div class="bottom-marker"></div></div>'),l.markerLeft=$('<div class="col-intersection-marker"><div class="top-marker"></div><div class="bottom-marker"></div></div>')),l.lastInt&&l.lastInt===e||(l.lastInt=e,l.marker.remove(),l.markerLeft.remove(),$(".w2ui-head").removeClass("w2ui-col-intersection"),e>=l.columns.length?($(l.columns[l.columns.length-1]).children("div:last").append(l.marker.addClass("right").removeClass("left")),$(l.columns[l.columns.length-1]).addClass("w2ui-col-intersection")):e<=l.numberPreColumnsPresent?($(l.columns[l.numberPreColumnsPresent]).prepend(l.marker.addClass("left").removeClass("right")).css({position:"relative"}),$(l.columns[l.numberPreColumnsPresent]).prev().addClass("w2ui-col-intersection")):($(l.columns[e]).children("div:last").prepend(l.marker.addClass("left").removeClass("right")),$(l.columns[e]).prev().children("div:last").append(l.markerLeft.addClass("right").removeClass("left")).css({position:"relative"}),$(l.columns[e-1]).addClass("w2ui-col-intersection")))}function s(e,t,i){if(e<=t[0])return 0;if(e>=t[t.length-1]+i)return t.length;for(var n=0,r=t.length;r>n;n++){var s=t[n],o=t[n+1]||t[n]+i,a=(o-t[n])/2+t[n];if(e>s&&a>=e)return n;if(e>a&&o>=e)return n+1}return intersection}function o(e,t){$(l.ghost).css({left:e-10,top:t-10})}if(this.columnGroups&&this.columnGroups.length)throw"Draggable columns are not currently supported with column groups.";var a=this,l={};return l.lastInt=null,l.pressed=!1,l.timeout=null,l.columnHead=null,$(a.box).on("mousedown",t),$(a.box).on("mouseup",e),{remove:function(){$(a.box).off("mousedown",t),$(a.box).off("mouseup",e),$(a.box).find(".w2ui-head").removeAttr("draggable"),a.last.columnDrag=!1}}},columnOnOff:function(e,t,i){var n=this.trigger({phase:"before",target:this.name,type:"columnOnOff",checkbox:e,field:i,originalEvent:t});if(n.isCancelled!==!0){var r=this;for(var s in this.records)this.records[s].expanded===!0&&(this.records[s].expanded=!1);var o=!0;if("line-numbers"==i)this.show.lineNumbers=!this.show.lineNumbers,this.refresh();else{var a=this.getColumn(i);a.hidden?($(e).prop("checked",!0),this.showColumn(a.field)):($(e).prop("checked",!1),this.hideColumn(a.field)),o=!1}o&&setTimeout(function(){$().w2overlay("",{name:"searches-"+this.name}),r.toolbar.uncheck("column-on-off")},100),this.trigger($.extend(n,{phase:"after"}))}},initToolbar:function(){if("undefined"==typeof this.toolbar.render){var e=this.toolbar.items;if(this.toolbar.items=[],this.toolbar=$().w2toolbar($.extend(!0,{},this.toolbar,{name:this.name+"_toolbar",owner:this})),this.show.toolbarReload&&this.toolbar.items.push($.extend(!0,{},this.buttons.reload)),this.show.toolbarColumns&&this.toolbar.items.push($.extend(!0,{},this.buttons.columns)),(this.show.toolbarReload||this.show.toolbarColumn)&&this.toolbar.items.push({type:"break",id:"w2ui-break0"}),this.show.toolbarSearch){var t='<div class="w2ui-toolbar-search"><table cellpadding="0" cellspacing="0"><tr>    <td>'+this.buttons.search.html+'</td>    <td>        <input id="grid_'+this.name+'_search_all" class="w2ui-search-all"             placeholder="'+this.last.caption+'" value="'+this.last.search+'"            onkeydown="if (event.keyCode == 13 && w2utils.isIE) this.onchange();"            onchange="                var val = this.value;                 var fld = $(this).data(\'w2field\');                 if (fld) val = fld.clean(val);                w2ui[\''+this.name+"'].search(w2ui['"+this.name+'\'].last.field, val);             ">    </td>    <td>        <div title="'+w2utils.lang("Clear Search")+'" class="w2ui-search-clear" id="grid_'+this.name+'_searchClear"               onclick="var obj = w2ui[\''+this.name+"']; obj.searchReset();\"         >&nbsp;&nbsp;</div>    </td></tr></table></div>";this.toolbar.items.push({type:"html",id:"w2ui-search",html:t}),this.multiSearch&&this.searches.length>0&&this.toolbar.items.push($.extend(!0,{},this.buttons["search-go"]))}this.show.toolbarSearch&&(this.show.toolbarAdd||this.show.toolbarEdit||this.show.toolbarDelete||this.show.toolbarSave)&&this.toolbar.items.push({type:"break",id:"w2ui-break1"}),this.show.toolbarAdd&&this.toolbar.items.push($.extend(!0,{},this.buttons.add)),this.show.toolbarEdit&&this.toolbar.items.push($.extend(!0,{},this.buttons.edit)),this.show.toolbarDelete&&this.toolbar.items.push($.extend(!0,{},this.buttons["delete"])),this.show.toolbarSave&&((this.show.toolbarAdd||this.show.toolbarDelete||this.show.toolbarEdit)&&this.toolbar.items.push({type:"break",id:"w2ui-break2"}),this.toolbar.items.push($.extend(!0,{},this.buttons.save)));for(var i in e)this.toolbar.items.push(e[i]);var n=this;this.toolbar.on("click",function(e){function t(){$("#w2ui-overlay-searches-"+n.name).data("keepOpen")!==!0&&(o.uncheck(r),$(document).off("click","body",t))}var i=n.trigger({phase:"before",type:"toolbar",target:e.target,originalEvent:e});if(i.isCancelled!==!0){var r=e.target;switch(r){case"w2ui-reload":var s=n.trigger({phase:"before",type:"reload",target:n.name});if(s.isCancelled===!0)return!1;n.reload(),n.trigger($.extend(s,{phase:"after"}));break;case"w2ui-column-on-off":n.initColumnOnOff(),n.initResize(),n.resize();break;case"w2ui-search-advanced":var o=this,a=this.get(r);a.checked?(n.searchClose(),setTimeout(function(){o.uncheck(r)},1)):(n.searchOpen(),e.originalEvent.stopPropagation(),$(document).on("click","body",t));break;case"w2ui-add":var i=n.trigger({phase:"before",target:n.name,type:"add",recid:null});n.trigger($.extend(i,{phase:"after"}));break;case"w2ui-edit":var l=n.getSelection(),d=null;1==l.length&&(d=l[0]);var i=n.trigger({phase:"before",target:n.name,type:"edit",recid:d});n.trigger($.extend(i,{phase:"after"}));break;case"w2ui-delete":n["delete"]();break;case"w2ui-save":n.save()}n.trigger($.extend(i,{phase:"after"}))}})}},initResize:function(){var e=this;$(this.box).find(".w2ui-resizer").off("click").on("click",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault&&e.preventDefault()}).off("mousedown").on("mousedown",function(t){t||(t=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),e.resizing=!0,e.last.tmp={x:t.screenX,y:t.screenY,gx:t.screenX,gy:t.screenY,col:parseInt($(this).attr("name"))},t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault&&t.preventDefault();for(var i in e.columns)"undefined"==typeof e.columns[i].sizeOriginal&&(e.columns[i].sizeOriginal=e.columns[i].size),e.columns[i].size=e.columns[i].sizeCalculated;var n={phase:"before",type:"columnResize",target:e.name,column:e.last.tmp.col,field:e.columns[e.last.tmp.col].field};n=e.trigger($.extend(n,{resizeBy:0,originalEvent:t}));var r=function(t){if(1==e.resizing){if(t||(t=window.event),n=e.trigger($.extend(n,{resizeBy:t.screenX-e.last.tmp.gx,originalEvent:t})),n.isCancelled===!0)return void(n.isCancelled=!1);e.last.tmp.x=t.screenX-e.last.tmp.x,e.last.tmp.y=t.screenY-e.last.tmp.y,e.columns[e.last.tmp.col].size=parseInt(e.columns[e.last.tmp.col].size)+e.last.tmp.x+"px",e.resizeRecords(),e.last.tmp.x=t.screenX,e.last.tmp.y=t.screenY}},s=function(t){delete e.resizing,$(document).off("mousemove","body"),$(document).off("mouseup","body"),e.resizeRecords(),e.trigger($.extend(n,{phase:"after",originalEvent:t}))};$(document).on("mousemove","body",r),$(document).on("mouseup","body",s)}).each(function(e,t){var i=$(t).parent();$(t).css({height:"25px","margin-left":i.width()-3+"px"})})},resizeBoxes:function(){var e=($(this.box).find("> div"),$("#grid_"+this.name+"_header")),t=$("#grid_"+this.name+"_toolbar"),i=$("#grid_"+this.name+"_summary"),n=$("#grid_"+this.name+"_footer"),r=$("#grid_"+this.name+"_body");$("#grid_"+this.name+"_columns"),$("#grid_"+this.name+"_records"),this.show.header&&e.css({top:"0px",left:"0px",right:"0px"}),this.show.toolbar&&t.css({top:0+(this.show.header?w2utils.getSize(e,"height"):0)+"px",left:"0px",right:"0px"}),this.show.footer&&n.css({bottom:"0px",left:"0px",right:"0px"}),this.summary.length>0&&i.css({bottom:0+(this.show.footer?w2utils.getSize(n,"height"):0)+"px",left:"0px",right:"0px"}),r.css({top:0+(this.show.header?w2utils.getSize(e,"height"):0)+(this.show.toolbar?w2utils.getSize(t,"height"):0)+"px",bottom:0+(this.show.footer?w2utils.getSize(n,"height"):0)+(this.summary.length>0?w2utils.getSize(i,"height"):0)+"px",left:"0px",right:"0px"})},resizeRecords:function(){var e=this;$(this.box).find(".w2ui-empty-record").remove();var t=$(this.box),i=$(this.box).find("> div"),n=$("#grid_"+this.name+"_header"),r=$("#grid_"+this.name+"_toolbar"),s=$("#grid_"+this.name+"_summary"),o=$("#grid_"+this.name+"_footer"),a=$("#grid_"+this.name+"_body"),l=$("#grid_"+this.name+"_columns"),d=$("#grid_"+this.name+"_records");if(this.fixedBody){var u=i.height()-(this.show.header?w2utils.getSize(n,"height"):0)-(this.show.toolbar?w2utils.getSize(r,"height"):0)-("none"!=s.css("display")?w2utils.getSize(s,"height"):0)-(this.show.footer?w2utils.getSize(o,"height"):0);a.css("height",u)}else{var u=w2utils.getSize(l,"height")+w2utils.getSize($("#grid_"+e.name+"_records table"),"height");e.height=u+w2utils.getSize(i,"+height")+(e.show.header?w2utils.getSize(n,"height"):0)+(e.show.toolbar?w2utils.getSize(r,"height"):0)+("none"!=s.css("display")?w2utils.getSize(s,"height"):0)+(e.show.footer?w2utils.getSize(o,"height"):0),i.css("height",e.height),a.css("height",u),t.css("height",w2utils.getSize(i,"height")+w2utils.getSize(t,"+height"))}var c=this.records.length;0==this.searchData.length||this.url||(c=this.last.searchIds.length);var h=!1,p=!1;if(a.width()<$(d).find(">table").width()&&(h=!0),a.height()-l.height()<$(d).find(">table").height()+(h?w2utils.scrollBarSize():0)&&(p=!0),this.fixedBody||(p=!1,h=!1),h||p?(l.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").css("width",w2utils.scrollBarSize()).show(),d.css({top:(this.columnGroups.length>0&&this.show.columns?1:0)+w2utils.getSize(l,"height")+"px","-webkit-overflow-scrolling":"touch","overflow-x":h?"auto":"hidden","overflow-y":p?"auto":"hidden"})):(l.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").hide(),d.css({top:(this.columnGroups.length>0&&this.show.columns?1:0)+w2utils.getSize(l,"height")+"px",overflow:"hidden"}),d.length>0&&(this.last.scrollTop=0,this.last.scrollLeft=0)),this.show.emptyRecords&&!p){var f=Math.floor(d.height()/this.recordHeight)+1;if(this.fixedBody)for(var m=c;f>=m;m++){var g="";g+='<tr class="'+(m%2?"w2ui-even":"w2ui-odd")+' w2ui-empty-record" style="height: '+this.recordHeight+'px">',this.show.lineNumbers&&(g+='<td class="w2ui-col-number"></td>'),this.show.selectColumn&&(g+='<td class="w2ui-grid-data w2ui-col-select"></td>'),this.show.expandColumn&&(g+='<td class="w2ui-grid-data w2ui-col-expand"></td>');for(var v=0;this.columns.length>0;){var y=this.columns[v];if(y.hidden){if(v++,"undefined"==typeof this.columns[v])break}else if(g+='<td class="w2ui-grid-data" '+("undefined"!=typeof y.attr?y.attr:"")+' col="'+v+'"></td>',v++,"undefined"==typeof this.columns[v])break}g+='<td class="w2ui-grid-data-last"></td>',g+="</tr>",$("#grid_"+this.name+"_records > table").append(g)}}if(a.length>0){for(var b=parseInt(a.width())-(p?w2utils.scrollBarSize():0)-(this.show.lineNumbers?34:0)-(this.show.selectColumn?26:0)-(this.show.expandColumn?26:0),w=b,x=0,_=!1,k=0;k<this.columns.length;k++){var y=this.columns[k];y.gridMinWidth>0&&(y.gridMinWidth>w&&y.hidden!==!0&&(y.hidden=!0,_=!0),y.gridMinWidth<w&&y.hidden===!0&&(y.hidden=!1,_=!0))}if(_===!0)return void this.refresh();for(var k=0;k<this.columns.length;k++){var y=this.columns[k];y.hidden||("px"==String(y.size).substr(String(y.size).length-2).toLowerCase()?(b-=parseFloat(y.size),this.columns[k].sizeCalculated=y.size,this.columns[k].sizeType="px"):(x+=parseFloat(y.size),this.columns[k].sizeType="%",delete y.sizeCorrected))}if(100!=x&&x>0)for(var k=0;k<this.columns.length;k++){var y=this.columns[k];y.hidden||"%"==y.sizeType&&(y.sizeCorrected=Math.round(100*parseFloat(y.size)*100/x)/100+"%")}for(var k=0;k<this.columns.length;k++){var y=this.columns[k];y.hidden||"%"==y.sizeType&&(this.columns[k].sizeCalculated="undefined"!=typeof this.columns[k].sizeCorrected?Math.floor(b*parseFloat(y.sizeCorrected)/100)-1+"px":Math.floor(b*parseFloat(y.size)/100)-1+"px")}}for(var M=0,k=0;k<this.columns.length;k++){var y=this.columns[k];y.hidden||("undefined"==typeof y.min&&(y.min=20),parseInt(y.sizeCalculated)<parseInt(y.min)&&(y.sizeCalculated=y.min+"px"),parseInt(y.sizeCalculated)>parseInt(y.max)&&(y.sizeCalculated=y.max+"px"),M+=parseInt(y.sizeCalculated))}var T=parseInt(w)-parseInt(M);if(T>0&&x>0)for(var k=0;;){var y=this.columns[k];if("undefined"!=typeof y)if(y.hidden||"px"==y.sizeType)k++;else{if(y.sizeCalculated=parseInt(y.sizeCalculated)+1+"px",T--,0==T)break;k++}else k=0}else T>0&&l.find("> table > tbody > tr:nth-child(1) td.w2ui-head-last").css("width",w2utils.scrollBarSize()).show();l.find("> table > tbody > tr:nth-child(1) td").each(function(t,i){var n=$(i).attr("col");"undefined"!=typeof n&&e.columns[n]&&$(i).css("width",e.columns[n].sizeCalculated),$(i).hasClass("w2ui-head-last")&&$(i).css("width",w2utils.scrollBarSize()+(T>0&&0==x?T:0)+"px")}),3==l.find("> table > tbody > tr").length&&l.find("> table > tbody > tr:nth-child(1) td").html("").css({height:"0px",border:"0px",padding:"0px",margin:"0px"}),d.find("> table > tbody > tr:nth-child(1) td").each(function(t,i){var n=$(i).attr("col");"undefined"!=typeof n&&e.columns[n]&&$(i).css("width",e.columns[n].sizeCalculated),$(i).hasClass("w2ui-grid-data-last")&&$(i).css("width",(T>0&&0==x?T:0)+"px")}),s.find("> table > tbody > tr:nth-child(1) td").each(function(t,i){var n=$(i).attr("col");"undefined"!=typeof n&&e.columns[n]&&$(i).css("width",e.columns[n].sizeCalculated),$(i).hasClass("w2ui-grid-data-last")&&$(i).css("width",w2utils.scrollBarSize()+(T>0&&0==x?T:0)+"px")}),this.initResize(),this.refreshRanges(),""!=this.last.scrollTop&&d.length>0&&(l.prop("scrollLeft",this.last.scrollLeft),d.prop("scrollTop",this.last.scrollTop),d.prop("scrollLeft",this.last.scrollLeft))},getSearchesHTML:function(){for(var e='<table cellspacing="0">',t=!1,i=0;i<this.searches.length;i++){var n=this.searches[i];if(n.type=String(n.type).toLowerCase(),!n.hidden){var r="";if(0==t&&(r='<button class="btn close-btn" onclick="obj = w2ui[\''+this.name+"']; if (obj) { obj.searchClose(); }\">X</button",t=!0),"undefined"==typeof n.inTag&&(n.inTag=""),"undefined"==typeof n.outTag&&(n.outTag=""),"undefined"==typeof n.type&&(n.type="text"),-1!=["text","alphanumeric","combo"].indexOf(n.type))var s='<select id="grid_'+this.name+"_operator_"+i+'" onclick="event.stopPropagation();">    <option value="is">'+w2utils.lang("is")+'</option>    <option value="begins">'+w2utils.lang("begins")+'</option>    <option value="contains">'+w2utils.lang("contains")+'</option>    <option value="ends">'+w2utils.lang("ends")+"</option></select>";if(-1!=["int","float","money","currency","percent","date","time"].indexOf(n.type))var s='<select id="grid_'+this.name+"_operator_"+i+'"         onchange="w2ui[\''+this.name+"'].initOperator(this, "+i+');" onclick="event.stopPropagation();">    <option value="is">'+w2utils.lang("is")+"</option>"+(-1!=["int"].indexOf(n.type)?'<option value="in">'+w2utils.lang("in")+"</option>":"")+(-1!=["int"].indexOf(n.type)?'<option value="not in">'+w2utils.lang("not in")+"</option>":"")+'<option value="between">'+w2utils.lang("between")+"</option></select>";if(-1!=["select","list","hex"].indexOf(n.type))var s='<select id="grid_'+this.name+"_operator_"+i+'" onclick="event.stopPropagation();">    <option value="is">'+w2utils.lang("is")+"</option></select>";if(-1!=["enum"].indexOf(n.type))var s='<select id="grid_'+this.name+"_operator_"+i+'" onclick="event.stopPropagation();">    <option value="in">'+w2utils.lang("in")+'</option>    <option value="in">'+w2utils.lang("not in")+"</option></select>";switch(e+='<tr>    <td class="close-btn">'+r+'</td>    <td class="caption">'+n.caption+'</td>    <td class="operator">'+s+'</td>    <td class="value">',n.type){case"text":case"alphanumeric":case"hex":case"list":case"combo":case"enum":e+='<input rel="search" type="text" style="width: 300px;" id="grid_'+this.name+"_field_"+i+'" name="'+n.field+'" '+n.inTag+">";break;case"int":case"float":case"money":case"currency":case"percent":case"date":case"time":e+='<input rel="search" type="text" size="12" id="grid_'+this.name+"_field_"+i+'" name="'+n.field+'" '+n.inTag+'><span id="grid_'+this.name+"_range_"+i+'" style="display: none">&nbsp;-&nbsp;&nbsp;<input rel="search" type="text" style="width: 90px" id="grid_'+this.name+"_field2_"+i+'" name="'+n.field+'" '+n.inTag+"></span>";break;case"select":e+='<select rel="search" id="grid_'+this.name+"_field_"+i+'" name="'+n.field+'" '+n.inTag+'  onclick="event.stopPropagation();"></select>'}e+=n.outTag+"    </td></tr>"}}return e+='<tr>    <td colspan="4" class="actions">        <div>        <button class="btn" onclick="obj = w2ui[\''+this.name+"']; if (obj) { obj.searchReset(); }\">"+w2utils.lang("Reset")+'</button>        <button class="btn btn-blue" onclick="obj = w2ui[\''+this.name+"']; if (obj) { obj.search(); }\">"+w2utils.lang("Search")+"</button>        </div>    </td></tr></table>"},initOperator:function(e,t){var i=this,n=i.searches[t],r=$("#grid_"+i.name+"_range_"+t),s=$("#grid_"+i.name+"_field_"+t),o=s.parent().find("span input");s.w2field("in"==$(e).val()||"not in"==$(e).val()?"clear":n.type),"between"==$(e).val()?(r.show(),o.w2field(n.type)):r.hide()},initSearches:function(){var e=this;for(var t in this.searches){var i=this.searches[t],n=this.getSearchData(i.field);switch(i.type=String(i.type).toLowerCase(),"object"!=typeof i.options&&(i.options={}),i.type){case"text":case"alphanumeric":$("#grid_"+this.name+"_operator_"+t).val("begins"),-1!=["alphanumeric","hex"].indexOf(i.type)&&$("#grid_"+this.name+"_field_"+t).w2field(i.type,i.options);break;case"int":case"float":case"money":case"currency":case"percent":case"date":case"time":if(n&&"int"==n.type&&-1!=["in","not in"].indexOf(n.operator))break;$("#grid_"+this.name+"_field_"+t).w2field(i.type,i.options),$("#grid_"+this.name+"_field2_"+t).w2field(i.type,i.options),setTimeout(function(){$("#grid_"+e.name+"_field_"+t).keydown(),$("#grid_"+e.name+"_field2_"+t).keydown()},1);break;case"hex":break;case"list":case"combo":case"enum":var r=i.options;"list"==i.type&&(r.selected={}),"enum"==i.type&&(r.selected=[]),n&&(r.selected=n.value),$("#grid_"+this.name+"_field_"+t).w2field(i.type,r),"combo"==i.type&&$("#grid_"+this.name+"_operator_"+t).val("begins");break;case"select":var r='<option value="">--</option>';for(var s in i.options.items){var o=i.options.items[s];if($.isPlainObject(i.options.items[s])){var a=o.id,l=o.text;"undefined"==typeof a&&"undefined"!=typeof o.value&&(a=o.value),"undefined"==typeof l&&"undefined"!=typeof o.caption&&(l=o.caption),null==a&&(a=""),r+='<option value="'+a+'">'+l+"</option>"}else r+='<option value="'+o+'">'+o+"</option>"}$("#grid_"+this.name+"_field_"+t).html(r)}null!=n&&("int"==n.type&&-1!=["in","not in"].indexOf(n.operator)&&$("#grid_"+this.name+"_field_"+t).w2field("clear").val(n.value),$("#grid_"+this.name+"_operator_"+t).val(n.operator).trigger("change"),$.isArray(n.value)?-1!=["in","not in"].indexOf(n.operator)?$("#grid_"+this.name+"_field_"+t).val(n.value).trigger("change"):($("#grid_"+this.name+"_field_"+t).val(n.value[0]).trigger("change"),$("#grid_"+this.name+"_field2_"+t).val(n.value[1]).trigger("change")):"udefined"!=typeof n.value&&$("#grid_"+this.name+"_field_"+t).val(n.value).trigger("change"))}$("#w2ui-overlay-searches-"+this.name+" .w2ui-grid-searches *[rel=search]").on("keypress",function(t){13==t.keyCode&&(e.search(),$().w2overlay())})},getColumnsHTML:function(){function e(){var e="<tr>";""!=i.columnGroups[i.columnGroups.length-1].caption&&i.columnGroups.push({caption:""}),i.show.lineNumbers&&(e+='<td class="w2ui-head w2ui-col-number">    <div>&nbsp;</div></td>'),
i.show.selectColumn&&(e+='<td class="w2ui-head w2ui-col-select">    <div>&nbsp;</div></td>'),i.show.expandColumn&&(e+='<td class="w2ui-head w2ui-col-expand">    <div>&nbsp;</div></td>');for(var t=0,n=0;n<i.columnGroups.length;n++){var r=i.columnGroups[n],s=i.columns[t];if(("undefined"==typeof r.span||r.span!=parseInt(r.span))&&(r.span=1),"undefined"!=typeof r.colspan&&(r.span=r.colspan),r.master===!0){var o="";for(var a in i.sortData)i.sortData[a].field==s.field&&(RegExp("asc","i").test(i.sortData[a].direction)&&(o="w2ui-sort-up"),RegExp("desc","i").test(i.sortData[a].direction)&&(o="w2ui-sort-down"));var l="";s.resizable!==!1&&(l='<div class="w2ui-resizer" name="'+t+'"></div>'),e+='<td class="w2ui-head '+o+'" col="'+t+'" rowspan="2" colspan="'+(r.span+(n==i.columnGroups.length-1?1:0))+'"     onclick="w2ui[\''+i.name+"'].columnClick('"+s.field+"', event);\">"+l+'    <div class="w2ui-col-group w2ui-col-header '+(o?"w2ui-col-sorted":"")+'">        <div class="'+o+'"></div>'+(s.caption?s.caption:"&nbsp;")+"    </div></td>"}else e+='<td class="w2ui-head" col="'+t+'"         colspan="'+(r.span+(n==i.columnGroups.length-1?1:0))+'">    <div class="w2ui-col-group">'+(r.caption?r.caption:"&nbsp;")+"    </div></td>";t+=r.span}return e+="</tr>"}function t(e){var t="<tr>",n=!i.reorderColumns||i.columnGroups&&i.columnGroups.length?"":" w2ui-reorder-cols-head ";i.show.lineNumbers&&(t+='<td class="w2ui-head w2ui-col-number" onclick="w2ui[\''+i.name+"'].columnClick('line-number', event);\">    <div>#</div></td>"),i.show.selectColumn&&(t+='<td class="w2ui-head w2ui-col-select"         onclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">    <div>        <input type="checkbox" id="grid_'+i.name+'_check_all" tabIndex="-1"            style="'+(0==i.multiSelect?"display: none;":"")+'"            onclick="if (this.checked) w2ui[\''+i.name+"'].selectAll();                      else w2ui['"+i.name+"'].selectNone();                      if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">    </div></td>"),i.show.expandColumn&&(t+='<td class="w2ui-head w2ui-col-expand">    <div>&nbsp;</div></td>');for(var r=0,s=0,o=0;o<i.columns.length;o++){var a=i.columns[o],l={};if(o==s&&(s+="undefined"!=typeof i.columnGroups[r]?parseInt(i.columnGroups[r].span):0,r++),"undefined"!=typeof i.columnGroups[r-1])var l=i.columnGroups[r-1];if(!a.hidden){var d="";for(var u in i.sortData)i.sortData[u].field==a.field&&(RegExp("asc","i").test(i.sortData[u].direction)&&(d="w2ui-sort-up"),RegExp("desc","i").test(i.sortData[u].direction)&&(d="w2ui-sort-down"));if(l.master!==!0||e){var c="";a.resizable!==!1&&(c='<div class="w2ui-resizer" name="'+o+'"></div>'),t+='<td col="'+o+'" class="w2ui-head '+d+n+'"     onclick="w2ui[\''+i.name+"'].columnClick('"+a.field+"', event);\">"+c+'    <div class="w2ui-col-header '+(d?"w2ui-col-sorted":"")+'">        <div class="'+d+'"></div>'+(a.caption?a.caption:"&nbsp;")+"    </div></td>"}}}return t+='<td class="w2ui-head w2ui-head-last"><div>&nbsp;</div></td>',t+="</tr>"}var i=this,n="";return this.show.columnHeaders&&(n=this.columnGroups.length>0?t(!0)+e()+t(!1):t(!0)),n},getRecordsHTML:function(){var e=this.records.length;0==this.searchData.length||this.url||(e=this.last.searchIds.length),this.show_extra=e>300?30:300;var t=$("#grid_"+this.name+"_records"),i=Math.floor(t.height()/this.recordHeight)+this.show_extra+1;(!this.fixedBody||i>e)&&(i=e);var n="<table>"+this.getRecordHTML(-1,0);n+='<tr id="grid_'+this.name+'_rec_top" line="top" style="height: 0px">    <td colspan="200"></td></tr>';for(var r=0;i>r;r++)n+=this.getRecordHTML(r,r+1);return n+='<tr id="grid_'+this.name+'_rec_bottom" line="bottom" style="height: '+(e-i)*this.recordHeight+'px">    <td colspan="200"></td></tr><tr id="grid_'+this.name+'_rec_more" style="display: none">    <td colspan="200" class="w2ui-load-more"></td></tr></table>',this.last.range_start=0,this.last.range_end=i,n},getSummaryHTML:function(){if(0!=this.summary.length){for(var e="<table>",t=0;t<this.summary.length;t++)e+=this.getRecordHTML(t,t+1,!0);return e+="</table>"}},scroll:function(){function e(){t.markSearch!==!1&&(clearTimeout(t.last.marker_timer),t.last.marker_timer=setTimeout(function(){var e=[];for(var i in t.searchData){var n=t.searchData[i];-1==$.inArray(n.value,e)&&e.push(n.value)}e.length>0&&$(t.box).find(".w2ui-grid-data > div").w2marker(e)},50))}var t=((new Date).getTime(),this),i=$("#grid_"+this.name+"_records"),n=this.records.length;if(0==this.searchData.length||this.url||(n=this.last.searchIds.length),0!=n&&0!=i.length&&0!=i.height()){if(this.show_extra=n>300?30:300,i.height()<n*this.recordHeight&&"hidden"==i.css("overflow-y"))return void(this.total>0&&this.refresh());var r=Math.round(i[0].scrollTop/this.recordHeight+1),s=r+(Math.round(i.height()/this.recordHeight)-1);r>n&&(r=n),s>n&&(s=n);var o="object"!=typeof this.url?this.url:this.url.get;if($("#grid_"+this.name+"_footer .w2ui-footer-right").html(w2utils.formatNumber(this.offset+r)+"-"+w2utils.formatNumber(this.offset+s)+" "+w2utils.lang("of")+" "+w2utils.formatNumber(this.total)+(o?" ("+w2utils.lang("buffered")+" "+w2utils.formatNumber(n)+(this.offset>0?", skip "+w2utils.formatNumber(this.offset):"")+")":"")),o||this.fixedBody&&!(this.total<=300)){var a=Math.floor(i[0].scrollTop/this.recordHeight)-this.show_extra,l=a+Math.floor(i.height()/this.recordHeight)+2*this.show_extra+1;1>a&&(a=1),l>this.total&&(l=this.total);var d=i.find("#grid_"+this.name+"_rec_top"),u=i.find("#grid_"+this.name+"_rec_bottom");-1!=String(d.next().prop("id")).indexOf("_expanded_row")&&d.next().remove(),this.total>l&&-1!=String(u.prev().prop("id")).indexOf("_expanded_row")&&u.prev().remove();var c=parseInt(d.next().attr("line")),h=parseInt(u.prev().attr("line"));if(a>c||1==c||this.last.pull_refresh){if(l<=h+this.show_extra-2&&l!=this.total)return;for(this.last.pull_refresh=!1;;){var p=i.find("#grid_"+this.name+"_rec_top").next();if("bottom"==p.attr("line"))break;if(!(parseInt(p.attr("line"))<a))break;p.remove()}var p=i.find("#grid_"+this.name+"_rec_bottom").prev(),f=p.attr("line");"top"==f&&(f=a);for(var m=parseInt(f)+1;l>=m;m++)this.records[m-1]&&(this.records[m-1].expanded===!0&&(this.records[m-1].expanded=!1),u.before(this.getRecordHTML(m-1,m)));e(),setTimeout(function(){t.refreshRanges()},0)}else{if(a>=c-this.show_extra+2&&a>1)return;for(;;){var p=i.find("#grid_"+this.name+"_rec_bottom").prev();if("top"==p.attr("line"))break;if(!(parseInt(p.attr("line"))>l))break;p.remove()}var p=i.find("#grid_"+this.name+"_rec_top").next(),f=p.attr("line");"bottom"==f&&(f=l);for(var m=parseInt(f)-1;m>=a;m--)this.records[m-1]&&(this.records[m-1].expanded===!0&&(this.records[m-1].expanded=!1),d.after(this.getRecordHTML(m-1,m)));e(),setTimeout(function(){t.refreshRanges()},0)}var g=(a-1)*t.recordHeight,v=(n-l)*t.recordHeight;0>v&&(v=0),d.css("height",g+"px"),u.css("height",v+"px"),t.last.range_start=a,t.last.range_end=l;var y=Math.floor(i[0].scrollTop/this.recordHeight),b=y+Math.floor(i.height()/this.recordHeight);if(b+10>n&&this.last.pull_more!==!0&&n<this.total-this.offset)if(this.autoLoad===!0)this.last.pull_more=!0,this.last.xhr_offset+=this.limit,this.request("get-records");else{var w=$("#grid_"+this.name+"_rec_more");"none"==w.css("display")&&w.show().on("click",function(){t.last.pull_more=!0,t.last.xhr_offset+=t.limit,t.request("get-records"),$(this).find("td").html('<div><div style="width: 20px; height: 20px;" class="w2ui-spinner"></div></div>')}),-1==w.find("td").text().indexOf("Load")&&w.find("td").html("<div>"+w2utils.lang("Load")+" "+t.limit+" "+w2utils.lang("More")+"...</div>")}n>=this.total-this.offset&&$("#grid_"+this.name+"_rec_more").hide()}}},getRecordHTML:function(e,t,i){var n,r="",s=this.last.selection;if(-1==e){r+='<tr line="0">',this.show.lineNumbers&&(r+='<td class="w2ui-col-number" style="height: 0px;"></td>'),this.show.selectColumn&&(r+='<td class="w2ui-col-select" style="height: 0px;"></td>'),this.show.expandColumn&&(r+='<td class="w2ui-col-expand" style="height: 0px;"></td>');for(var o in this.columns)this.columns[o].hidden||(r+='<td class="w2ui-grid-data" col="'+o+'" style="height: 0px;"></td>');return r+='<td class="w2ui-grid-data-last" style="height: 0px;"></td>',r+="</tr>"}var a="object"!=typeof this.url?this.url:this.url.get;if(i!==!0)if(this.searchData.length>0&&!a){if(e>=this.last.searchIds.length)return"";e=this.last.searchIds[e],n=this.records[e]}else{if(e>=this.records.length)return"";n=this.records[e]}else{if(e>=this.summary.length)return"";n=this.summary[e]}if(!n)return"";var l=(w2utils.escapeId(n.recid),!1);if(-1!=s.indexes.indexOf(e)&&(l=!0),r+='<tr id="grid_'+this.name+"_rec_"+n.recid+'" recid="'+n.recid+'" line="'+t+'"  class="'+(t%2==0?"w2ui-even":"w2ui-odd")+(l&&"row"==this.selectType?" w2ui-selected":"")+(n.expanded===!0?" w2ui-expanded":"")+'" '+(i!==!0?w2utils.isIOS?"    onclick  = \"w2ui['"+this.name+"'].dblClick('"+n.recid+"', event);\"":"    onclick  = \"w2ui['"+this.name+"'].click('"+n.recid+"', event);\"    oncontextmenu = \"w2ui['"+this.name+"'].contextMenu('"+n.recid+"', event);\"":"")+' style="height: '+this.recordHeight+"px; "+(l||"string"!=typeof n.style?"":n.style)+'" '+("string"==typeof n.style?'custom_style="'+n.style+'"':"")+">",this.show.lineNumbers&&(r+='<td id="grid_'+this.name+"_cell_"+e+"_number"+(i?"_s":"")+'" class="w2ui-col-number">'+(i!==!0?"<div>"+t+"</div>":"")+"</td>"),this.show.selectColumn&&(r+='<td id="grid_'+this.name+"_cell_"+e+"_select"+(i?"_s":"")+'" class="w2ui-grid-data w2ui-col-select"         onclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">'+(i!==!0?'    <div>        <input class="w2ui-grid-select-check" type="checkbox" tabIndex="-1"            '+(l?'checked="checked"':"")+"            onclick=\"var obj = w2ui['"+this.name+"'];                 if (!obj.multiSelect) { obj.selectNone(); }                if (this.checked) obj.select('"+n.recid+"'); else obj.unselect('"+n.recid+"');                 if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">    </div>":"")+"</td>"),this.show.expandColumn){var d="";d=n.expanded===!0?"-":"+","none"==n.expanded&&(d=""),"spinner"==n.expanded&&(d='<div class="w2ui-spinner" style="width: 16px; margin: -2px 2px;"></div>'),r+='<td id="grid_'+this.name+"_cell_"+e+"_expand"+(i?"_s":"")+'" class="w2ui-grid-data w2ui-col-expand">'+(i!==!0?'    <div ondblclick="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;"             onclick="w2ui[\''+this.name+"'].toggle('"+n.recid+"', event);                 if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;\">        "+d+" </div>":"")+"</td>"}for(var u=0;;){var c=this.columns[u];if(c.hidden){if(u++,"undefined"==typeof this.columns[u])break}else{var h=!i&&n.changes&&"undefined"!=typeof n.changes[c.field],p=this.getCellHTML(e,u,i),f="";if("string"==typeof c.render){var m=c.render.toLowerCase().split(":");-1!=["number","int","float","money","currency","percent"].indexOf(m[0])&&(f+="text-align: right;")}"object"==typeof n.style&&"string"==typeof n.style[u]&&(f+=n.style[u]+";");var g=!1;if(l&&-1!=$.inArray(u,s.columns[e])&&(g=!0),r+='<td class="w2ui-grid-data'+(g?" w2ui-selected":"")+(h?" w2ui-changed":"")+'" col="'+u+'"     style="'+f+("undefined"!=typeof c.style?c.style:"")+'" '+("undefined"!=typeof c.attr?c.attr:"")+">"+p+"</td>",u++,"undefined"==typeof this.columns[u])break}}return r+='<td class="w2ui-grid-data-last"></td>',r+="</tr>"},getCellHTML:function(e,t,i){var n=this.columns[t],r=i!==!0?this.records[e]:this.summary[e],s=this.getCellValue(e,t,i),o=n.editable;if("undefined"!=typeof n.render){if("function"==typeof n.render&&(s=$.trim(n.render.call(this,r,e,t)),(s.length<4||"<div"!=s.substr(0,4).toLowerCase())&&(s="<div>"+s+"</div>")),"object"==typeof n.render&&(s="<div>"+(n.render[s]||"")+"</div>"),"string"==typeof n.render){var a=n.render.toLowerCase().split(":"),l="",d="";-1!=["number","int","float","money","currency","percent"].indexOf(a[0])&&("undefined"!=typeof a[1]&&w2utils.isInt(a[1])||(a[1]=0),a[1]>20&&(a[1]=20),a[1]<0&&(a[1]=0),-1!=["money","currency"].indexOf(a[0])&&(a[1]=w2utils.settings.currencyPrecision,l=w2utils.settings.currencyPrefix,d=w2utils.settings.currencySuffix),"percent"==a[0]&&(d="%","0"!==a[1]&&(a[1]=1)),"int"==a[0]&&(a[1]=0),s="<div>"+(""!==s?l+w2utils.formatNumber(Number(s).toFixed(a[1]))+d:"")+"</div>"),"time"==a[0]&&(("undefined"==typeof a[1]||""==a[1])&&(a[1]=w2utils.settings.time_format),s="<div>"+l+w2utils.formatTime(s,"h12"==a[1]?"hh:mi pm":"h24:min")+d+"</div>"),"date"==a[0]&&(("undefined"==typeof a[1]||""==a[1])&&(a[1]=w2utils.settings.date_display),s="<div>"+l+w2utils.formatDate(s,a[1])+d+"</div>"),"age"==a[0]&&(s="<div>"+l+w2utils.age(s)+d+"</div>"),"toggle"==a[0]&&(s="<div>"+l+(s?"Yes":"")+d+"</div>")}}else{var u="";if(o&&-1!=["checkbox","check"].indexOf(o.type)){var c=i?-(e+1):e;u="text-align: center",s='<input type="checkbox" '+(s?"checked":"")+" onclick=\"    var obj = w2ui['"+this.name+"'];     obj.editChange.call(obj, this, "+c+", "+t+', event); ">'}if(this.show.recordTitles){var h=String(s).replace(/"/g,"''");"undefined"!=typeof n.title&&("function"==typeof n.title&&(h=n.title.call(this,r,e,t)),"string"==typeof n.title&&(h=n.title));var s='<div title="'+w2utils.stripTags(h)+'" style="'+u+'">'+s+"</div>"}else var s='<div style="'+u+'">'+s+"</div>"}return(null==s||"undefined"==typeof s)&&(s=""),s},getCellValue:function(e,t,i){var n=this.columns[t],r=i!==!0?this.records[e]:this.summary[e],s=this.parseField(r,n.field);return r.changes&&"undefined"!=typeof r.changes[n.field]&&(s=r.changes[n.field]),(null==s||"undefined"==typeof s)&&(s=""),s},getFooterHTML:function(){return'<div>    <div class="w2ui-footer-left"></div>    <div class="w2ui-footer-right"></div>    <div class="w2ui-footer-center"></div></div>'},status:function(e){if("undefined"!=typeof e)$("#grid_"+this.name+"_footer").find(".w2ui-footer-left").html(e);else{var t="",i=this.getSelection();if(i.length>0){t=String(i.length).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")+" "+w2utils.lang("selected");var n=i[0];"object"==typeof n&&(n=n.recid+", "+w2utils.lang("Column")+": "+n.column),1==i.length&&(t=w2utils.lang("Record ID")+": "+n+" ")}$("#grid_"+this.name+"_footer .w2ui-footer-left").html(t),1==i.length?this.toolbar.enable("w2ui-edit"):this.toolbar.disable("w2ui-edit"),i.length>=1?this.toolbar.enable("w2ui-delete"):this.toolbar.disable("w2ui-delete")}},lock:function(){var e=$(this.box).find("> div:first-child"),t=Array.prototype.slice.call(arguments,0);t.unshift(e),setTimeout(function(){w2utils.lock.apply(window,t)},10)},unlock:function(){var e=this.box;setTimeout(function(){w2utils.unlock(e)},25)},stateSave:function(e){if(!localStorage)return null;var t={columns:[],show:$.extend({},this.show),last:{search:this.last.search,multi:this.last.multi,logic:this.last.logic,caption:this.last.caption,field:this.last.field,scrollTop:this.last.scrollTop,scrollLeft:this.last.scrollLeft},sortData:[],searchData:[]};for(var i in this.columns){var n=this.columns[i];t.columns.push({field:n.field,hidden:n.hidden,size:n.size,sizeCalculated:n.sizeCalculated,sizeOriginal:n.sizeOriginal,sizeType:n.sizeType})}for(var i in this.sortData)t.sortData.push($.extend({},this.sortData[i]));for(var i in this.searchData)t.searchData.push($.extend({},this.searchData[i]));if(e!==!0){var r=this.trigger({phase:"before",type:"stateSave",target:this.name,state:t});if(r.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));try{var s=$.parseJSON(localStorage.w2ui||"{}");s||(s={}),s.states||(s.states={}),s.states[this.name]=t,localStorage.w2ui=JSON.stringify(s)}catch(o){return delete localStorage.w2ui,null}this.trigger($.extend(r,{phase:"after"}))}return t},stateRestore:function(e){var t=this;if(!e)try{if(!localStorage)return!1;var i=$.parseJSON(localStorage.w2ui||"{}");i||(i={}),i.states||(i.states={}),e=i.states[this.name]}catch(n){return delete localStorage.w2ui,null}var r=this.trigger({phase:"before",type:"stateRestore",target:this.name,state:e});if(r.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));if($.isPlainObject(e)){$.extend(this.show,e.show),$.extend(this.last,e.last);var s=this.last.scrollTop,o=this.last.scrollLeft;for(var a in e.columns){var i=e.columns[a],l=this.getColumn(i.field);l&&$.extend(l,i)}this.sortData.splice(0,this.sortData.length);for(var a in e.sortData)this.sortData.push(e.sortData[a]);this.searchData.splice(0,this.searchData.length);for(var a in e.searchData)this.searchData.push(e.searchData[a]);setTimeout(function(){t.sortData.length>0&&t.localSort(),t.searchData.length>0&&t.localSearch(),t.last.scrollTop=s,t.last.scrollLeft=o,t.refresh()},1)}return this.trigger($.extend(r,{phase:"after"})),!0},stateReset:function(){if(this.stateRestore(this.last.state),localStorage)try{var e=$.parseJSON(localStorage.w2ui||"{}");e.states&&e.states[this.name]&&delete e.states[this.name],localStorage.w2ui=JSON.stringify(e)}catch(t){return delete localStorage.w2ui,null}},parseField:function(e,t){var i="";try{i=e;var n=String(t).split(".");for(var r in n)i=i[n[r]]}catch(s){i=""}return i},prepareData:function(){for(var e in this.records){var t=this.records[e];for(var i in this.columns){var n=this.columns[i];if(null!=t[n.field]&&"string"==typeof n.render){if(-1!=["number","int","float","money","currency","percent"].indexOf(n.render.split(":")[0])&&"number"!=typeof t[n.field]&&(t[n.field]=parseFloat(t[n.field])),-1!=["date","age"].indexOf(n.render.split(":")[0])&&!t[n.field+"_"]){var r=t[n.field];w2utils.isInt(r)&&(r=parseInt(r)),t[n.field+"_"]=new Date(r)}if(-1!=["time"].indexOf(n.render))if(w2utils.isTime(t[n.field])){var s=w2utils.isTime(t[n.field],!0),r=new Date;r.setHours(s.hours,s.minutes,s.seconds?s.seconds:0,0),t[n.field+"_"]||(t[n.field+"_"]=r)}else{var s=t[n.field];w2utils.isInt(s)&&(s=parseInt(s));var s=null!=s?new Date(s):new Date,r=new Date;r.setHours(s.getHours(),s.getMinutes(),s.getSeconds(),0),t[n.field+"_"]||(t[n.field+"_"]=r)}}}}},nextCell:function(e,t){var i=e+1;if(this.columns.length==i)return null;if(t===!0){var n=this.columns[i].editable;if(this.columns[i].hidden||"undefined"==typeof n||n&&-1!=["checkbox","check"].indexOf(n.type))return this.nextCell(i,t)}return i},prevCell:function(e,t){var i=e-1;if(0>i)return null;if(t===!0){var n=this.columns[i].editable;if(this.columns[i].hidden||"undefined"==typeof n||n&&-1!=["checkbox","check"].indexOf(n.type))return this.prevCell(i,t)}return i},nextRow:function(e){if(e+1<this.records.length&&0==this.last.searchIds.length||this.last.searchIds.length>0&&e<this.last.searchIds[this.last.searchIds.length-1]){if(e++,this.last.searchIds.length>0)for(;!(-1!=$.inArray(e,this.last.searchIds)||e>this.records.length);)e++;return e}return null},prevRow:function(e){if(e>0&&0==this.last.searchIds.length||this.last.searchIds.length>0&&e>this.last.searchIds[0]){if(e--,this.last.searchIds.length>0)for(;!(-1!=$.inArray(e,this.last.searchIds)||0>e);)e--;return e}return null}},$.extend(w2grid.prototype,w2utils.event),w2obj.grid=w2grid}(),function(){var e=function(e){this.box=null,this.name=null,this.panels=[],this.tmp={},this.padding=1,this.resizer=4,this.style="",this.onShow=null,this.onHide=null,this.onResizing=null,this.onResizerClick=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.layout,e)},t=["top","left","main","preview","right","bottom"];$.fn.w2layout=function(i){function n(e,t,i){var n=e.get(t);return null!==n&&"undefined"==typeof i&&(i=n.tabs),null===n||null===i?!1:($.isArray(i)&&(i={tabs:i}),$().w2destroy(e.name+"_"+t+"_tabs"),n.tabs=$().w2tabs($.extend({},i,{owner:e,name:e.name+"_"+t+"_tabs"})),n.show.tabs=!0,!0)}function r(e,t,i){var n=e.get(t);return null!==n&&"undefined"==typeof i&&(i=n.toolbar),null===n||null===i?!1:($.isArray(i)&&(i={items:i}),$().w2destroy(e.name+"_"+t+"_toolbar"),n.toolbar=$().w2toolbar($.extend({},i,{owner:e,name:e.name+"_"+t+"_toolbar"})),n.show.toolbar=!0,!0)}if("object"==typeof i||!i){if(!w2utils.checkName(i,"w2layout"))return;var s=i.panels||[],o=new e(i);$.extend(o,{handlers:[],panels:[]});for(var a=0,l=s.length;l>a;a++)o.panels[a]=$.extend(!0,{},e.prototype.panel,s[a]),($.isPlainObject(o.panels[a].tabs)||$.isArray(o.panels[a].tabs))&&n(o,s[a].type),($.isPlainObject(o.panels[a].toolbar)||$.isArray(o.panels[a].toolbar))&&r(o,s[a].type);for(var d in t)d=t[d],null===o.get(d)&&o.panels.push($.extend(!0,{},e.prototype.panel,{type:d,hidden:"main"!==d,size:50}));return $(this).length>0&&o.render($(this)[0]),w2ui[o.name]=o,o}if(w2ui[$(this).attr("name")]){var u=w2ui[$(this).attr("name")];return u[i].apply(u,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+i+" does not exist on jQuery.w2layout")},e.prototype={panel:{type:null,title:"",size:100,minSize:20,maxSize:!1,hidden:!1,resizable:!1,overflow:"auto",style:"",content:"",tabs:null,toolbar:null,width:null,height:null,show:{toolbar:!1,tabs:!1},onRefresh:null,onShow:null,onHide:null},html:function(e,t,i){return this.content(e,t,i)},content:function(e,t,i){var n=this,r=this.get(e);if("css"==e)return $("#layout_"+n.name+"_panel_css").html("<style>"+t+"</style>"),!0;if(null===r)return!1;if("undefined"==typeof t||null===t)return r.content;if(t instanceof jQuery)return console.log("ERROR: You can not pass jQuery object to w2layout.content() method"),!1;var s="#layout_"+this.name+"_panel_"+r.type,o=$(s+"> .w2ui-panel-content"),a=0;if(o.length>0&&($(s).scrollTop(0),a=$(o).position().top),""===r.content)r.content=t,this.refresh(e);else{if(r.content=t,!r.hidden&&null!==i&&""!==i&&"undefined"!=typeof i){var l=$(s+"> .w2ui-panel-content");l.after('<div class="w2ui-panel-content new-panel" style="'+l[0].style.cssText+'"></div>');var d=$(s+"> .w2ui-panel-content.new-panel");l.css("top",a),d.css("top",a),"object"==typeof t?(t.box=d[0],t.render()):d.html(t),w2utils.transition(l[0],d[0],i,function(){l.remove(),d.removeClass("new-panel"),d.css("overflow",r.overflow),n.resize(),-1!=window.navigator.userAgent.indexOf("MSIE")&&setTimeout(function(){n.resize()},100)})}this.refresh(e)}return n.resize(),-1!=window.navigator.userAgent.indexOf("MSIE")&&setTimeout(function(){n.resize()},100),!0},load:function(e,t,i,n){var r=this;return"css"==e?($.get(t,function(t,i,s){r.content(e,s.responseText),n&&n()}),!0):null!==this.get(e)?($.get(t,function(t,s,o){r.content(e,o.responseText,i),n&&n(),r.resize(),-1!=window.navigator.userAgent.indexOf("MSIE")&&setTimeout(function(){r.resize()},100)}),!0):!1},sizeTo:function(e,t){var i=this,n=i.get(e);return null===n?!1:($(i.box).find(" > div > .w2ui-panel").css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s"}),setTimeout(function(){i.set(e,{size:t})},1),setTimeout(function(){$(i.box).find(" > div > .w2ui-panel").css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s"}),i.resize()},500),!0)},show:function(e,t){var i=this,n=this.trigger({phase:"before",type:"show",target:e,object:this.get(e),immediate:t});if(n.isCancelled!==!0){var r=i.get(e);return null===r?!1:(r.hidden=!1,t===!0?($("#layout_"+i.name+"_panel_"+e).css({opacity:"1"}),r.resizable&&$("#layout_"+i.name+"_resizer_"+e).show(),i.trigger($.extend(n,{phase:"after"})),i.resize()):(r.resizable&&$("#layout_"+i.name+"_resizer_"+e).show(),$("#layout_"+i.name+"_panel_"+e).css({opacity:"0"}),$(i.box).find(" > div > .w2ui-panel").css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s"}),setTimeout(function(){i.resize()},1),setTimeout(function(){$("#layout_"+i.name+"_panel_"+e).css({opacity:"1"})},250),setTimeout(function(){$(i.box).find(" > div > .w2ui-panel").css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s"}),i.trigger($.extend(n,{phase:"after"})),i.resize()},500)),!0)}},hide:function(e,t){var i=this,n=this.trigger({phase:"before",type:"hide",target:e,object:this.get(e),immediate:t});if(n.isCancelled!==!0){var r=i.get(e);return null===r?!1:(r.hidden=!0,t===!0?($("#layout_"+i.name+"_panel_"+e).css({opacity:"0"}),$("#layout_"+i.name+"_resizer_"+e).hide(),i.trigger($.extend(n,{phase:"after"})),i.resize()):($("#layout_"+i.name+"_resizer_"+e).hide(),$(i.box).find(" > div > .w2ui-panel").css({"-webkit-transition":".2s","-moz-transition":".2s","-ms-transition":".2s","-o-transition":".2s"}),$("#layout_"+i.name+"_panel_"+e).css({opacity:"0"}),setTimeout(function(){i.resize()},1),setTimeout(function(){$(i.box).find(" > div > .w2ui-panel").css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s"}),i.trigger($.extend(n,{phase:"after"})),i.resize()},500)),!0)}},toggle:function(e,t){var i=this.get(e);return null===i?!1:i.hidden?this.show(e,t):this.hide(e,t)},set:function(e,t){var i=this.get(e,!0);return null===i?!1:($.extend(this.panels[i],t),"undefined"!=typeof t.content&&this.refresh(e),this.resize(),!0)},get:function(e,t){for(var i in this.panels)if(this.panels[i].type==e)return t===!0?i:this.panels[i];return null},el:function(e){var t=$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-content");return 1!=t.length?null:t[0]},hideToolbar:function(e){var t=this.get(e);t&&(t.show.toolbar=!1,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-toolbar").hide(),this.resize())},showToolbar:function(e){var t=this.get(e);t&&(t.show.toolbar=!0,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-toolbar").show(),this.resize())},toggleToolbar:function(e){var t=this.get(e);t&&(t.show.toolbar?this.hideToolbar(e):this.showToolbar(e))},hideTabs:function(e){var t=this.get(e);t&&(t.show.tabs=!1,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-tabs").hide(),this.resize())},showTabs:function(e){var t=this.get(e);t&&(t.show.tabs=!0,$("#layout_"+this.name+"_panel_"+e+"> .w2ui-panel-tabs").show(),this.resize())},toggleTabs:function(e){var t=this.get(e);t&&(t.show.tabs?this.hideTabs(e):this.showTabs(e))},render:function(e){function i(){o.tmp.events={resize:function(){w2ui[o.name].resize()},resizeStart:n,mouseMove:s,mouseUp:r},$(window).on("resize",o.tmp.events.resize)}function n(e,i){if(o.box){i||(i=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),$(document).off("mousemove",o.tmp.events.mouseMove).on("mousemove",o.tmp.events.mouseMove),$(document).off("mouseup",o.tmp.events.mouseUp).on("mouseup",o.tmp.events.mouseUp),o.tmp.resize={type:e,x:i.screenX,y:i.screenY,diff_x:0,diff_y:0,value:0};for(var n in t)n=t[n],o.lock(n,{opacity:0});("left"==e||"right"==e)&&(o.tmp.resize.value=parseInt($("#layout_"+o.name+"_resizer_"+e)[0].style.left)),("top"==e||"preview"==e||"bottom"==e)&&(o.tmp.resize.value=parseInt($("#layout_"+o.name+"_resizer_"+e)[0].style.top))}}function r(e){if(o.box&&(e||(e=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),$(document).off("mousemove",o.tmp.events.mouseMove),$(document).off("mouseup",o.tmp.events.mouseUp),"undefined"!=typeof o.tmp.resize)){for(var i in t)o.unlock(t[i]);if(0!==o.tmp.diff_x||0!==o.tmp.resize.diff_y){var n,r,s=o.get("top"),a=o.get("bottom"),l=o.get(o.tmp.resize.type),d=parseInt($(o.box).height()),u=parseInt($(o.box).width()),c=String(l.size);switch(o.tmp.resize.type){case"top":n=parseInt(l.sizeCalculated)+o.tmp.resize.diff_y,r=0;break;case"bottom":n=parseInt(l.sizeCalculated)-o.tmp.resize.diff_y,r=0;break;case"preview":n=parseInt(l.sizeCalculated)-o.tmp.resize.diff_y,r=(s&&!s.hidden?s.sizeCalculated:0)+(a&&!a.hidden?a.sizeCalculated:0);break;case"left":n=parseInt(l.sizeCalculated)+o.tmp.resize.diff_x,r=0;break;case"right":n=parseInt(l.sizeCalculated)-o.tmp.resize.diff_x,r=0}l.size="%"==c.substr(c.length-1)?Math.floor(100*n/("left"==l.type||"right"==l.type?u:d-r)*100)/100+"%":n,o.resize()}$("#layout_"+o.name+"_resizer_"+o.tmp.resize.type).removeClass("active"),delete o.tmp.resize}}function s(e){if(o.box&&(e||(e=window.event),"undefined"!=typeof o.tmp.resize)){var t=o.get(o.tmp.resize.type),i=o.tmp.resize,n=o.trigger({phase:"before",type:"resizing",target:o.name,object:t,originalEvent:e,panel:i?i.type:"all",diff_x:i?i.diff_x:0,diff_y:i?i.diff_y:0});if(n.isCancelled!==!0){var r=$("#layout_"+o.name+"_resizer_"+i.type),s=e.screenX-i.x,a=e.screenY-i.y,l=o.get("main");switch(r.hasClass("active")||r.addClass("active"),i.type){case"left":t.minSize-s>t.width&&(s=t.minSize-t.width),t.maxSize&&t.width+s>t.maxSize&&(s=t.maxSize-t.width),l.minSize+s>l.width&&(s=l.width-l.minSize);break;case"right":t.minSize+s>t.width&&(s=t.width-t.minSize),t.maxSize&&t.width-s>t.maxSize&&(s=t.width-t.maxSize),l.minSize-s>l.width&&(s=l.minSize-l.width);break;case"top":t.minSize-a>t.height&&(a=t.minSize-t.height),t.maxSize&&t.height+a>t.maxSize&&(a=t.maxSize-t.height),l.minSize+a>l.height&&(a=l.height-l.minSize);break;case"preview":case"bottom":t.minSize+a>t.height&&(a=t.height-t.minSize),t.maxSize&&t.height-a>t.maxSize&&(a=t.height-t.maxSize),l.minSize-a>l.height&&(a=l.minSize-l.height)}switch(i.diff_x=s,i.diff_y=a,i.type){case"top":case"preview":case"bottom":i.diff_x=0,r.length>0&&(r[0].style.top=i.value+i.diff_y+"px");break;case"left":case"right":i.diff_y=0,r.length>0&&(r[0].style.left=i.value+i.diff_x+"px")}o.trigger($.extend(n,{phase:"after"}))}}}var o=this,a=(new Date).getTime(),l=o.trigger({phase:"before",type:"render",target:o.name,box:e});if(l.isCancelled!==!0){if("undefined"!=typeof e&&null!==e&&($(o.box).find("#layout_"+o.name+"_panel_main").length>0&&$(o.box).removeAttr("name").removeClass("w2ui-layout").html(""),o.box=e),!o.box)return!1;$(o.box).attr("name",o.name).addClass("w2ui-layout").html("<div></div>"),$(o.box).length>0&&($(o.box)[0].style.cssText+=o.style);for(var d in t){d=t[d];var u=(o.get(d),'<div id="layout_'+o.name+"_panel_"+d+'" class="w2ui-panel">    <div class="w2ui-panel-title"></div>    <div class="w2ui-panel-tabs"></div>    <div class="w2ui-panel-toolbar"></div>    <div class="w2ui-panel-content"></div></div><div id="layout_'+o.name+"_resizer_"+d+'" class="w2ui-resizer"></div>');$(o.box).find(" > div").append(u)}return $(o.box).find(" > div").append('<div id="layout_'+o.name+'_panel_css" style="position: absolute; top: 10000px;"></div'),o.refresh(),o.trigger($.extend(l,{phase:"after"})),setTimeout(function(){i(),o.resize()},0),(new Date).getTime()-a}},refresh:function(e){var t=this;"undefined"==typeof e&&(e=null);var i=(new Date).getTime(),n=t.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:t.name,object:t.get(e)});if(n.isCancelled!==!0){if("string"==typeof e){var r=t.get(e);if(null===r)return;var s="#layout_"+t.name+"_panel_"+r.type,o="#layout_"+t.name+"_resizer_"+r.type;$(s).css({display:r.hidden?"none":"block"}),r.resizable?$(o).show():$(o).hide(),"object"==typeof r.content&&"function"==typeof r.content.render?(r.content.box=$(s+"> .w2ui-panel-content")[0],setTimeout(function(){$(s+"> .w2ui-panel-content").length>0&&($(s+"> .w2ui-panel-content").removeClass().addClass("w2ui-panel-content").css("overflow",r.overflow)[0].style.cssText+=";"+r.style),r.content.render()},1)):$(s+"> .w2ui-panel-content").length>0&&($(s+"> .w2ui-panel-content").removeClass().addClass("w2ui-panel-content").html(r.content).css("overflow",r.overflow)[0].style.cssText+=";"+r.style);var a=$(t.box).find(s+"> .w2ui-panel-tabs");r.show.tabs?0===a.find("[name="+r.tabs.name+"]").length&&null!==r.tabs?a.w2render(r.tabs):r.tabs.refresh():a.html("").removeClass("w2ui-tabs").hide(),a=$(t.box).find(s+"> .w2ui-panel-toolbar"),r.show.toolbar?0===a.find("[name="+r.toolbar.name+"]").length&&null!==r.toolbar?a.w2render(r.toolbar):r.toolbar.refresh():a.html("").removeClass("w2ui-toolbar").hide(),a=$(t.box).find(s+"> .w2ui-panel-title"),r.title?a.html(r.title).show():a.html("").hide()}else{if(0==$("#layout_"+t.name+"_panel_main").length)return void t.render();
t.resize();for(var l in this.panels)t.refresh(this.panels[l].type)}return t.trigger($.extend(n,{phase:"after"})),(new Date).getTime()-i}},resize:function(){if(!this.box)return!1;var e=(new Date).getTime(),i=this.tmp.resize,n=this.trigger({phase:"before",type:"resize",target:this.name,panel:i?i.type:"all",diff_x:i?i.diff_x:0,diff_y:i?i.diff_y:0});if(n.isCancelled!==!0){this.padding<0&&(this.padding=0);var r=parseInt($(this.box).width()),s=parseInt($(this.box).height());$(this.box).find(" > div").css({width:r+"px",height:s+"px"});var o,a,l,d,u,c=this,h=this.get("main"),p=this.get("preview"),f=this.get("left"),m=this.get("right"),g=this.get("top"),v=this.get("bottom"),y=null!==p&&p.hidden!==!0?!0:!1,b=null!==f&&f.hidden!==!0?!0:!1,w=null!==m&&m.hidden!==!0?!0:!1,x=null!==g&&g.hidden!==!0?!0:!1,_=null!==v&&v.hidden!==!0?!0:!1;for(var k in t)if(k=t[k],"main"!==k){var i=this.get(k);if(i){var M=String(i.size||0);if("%"==M.substr(M.length-1)){var T=s;"preview"==i.type&&(T=T-(g&&!g.hidden?g.sizeCalculated:0)-(v&&!v.hidden?v.sizeCalculated:0)),i.sizeCalculated=parseInt(("left"==i.type||"right"==i.type?r:T)*parseFloat(i.size)/100)}else i.sizeCalculated=parseInt(i.size);i.sizeCalculated=Math.max(i.sizeCalculated,parseInt(i.minSize))}}null!==g&&g.hidden!==!0?(o=0,a=0,l=r,d=g.sizeCalculated,$("#layout_"+this.name+"_panel_top").css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px"}).show(),g.width=l,g.height=d,g.resizable&&(a=g.sizeCalculated-(0===this.padding?this.resizer:0),d=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_top").show().css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px",cursor:"ns-resize"}).off("mousedown").on("mousedown",function(e){var t=c.trigger({phase:"before",type:"resizerClick",target:"top",originalEvent:e});return t.isCancelled!==!0?(w2ui[c.name].tmp.events.resizeStart("top",e),c.trigger($.extend(t,{phase:"after"})),!1):void 0}))):$("#layout_"+this.name+"_panel_top").hide(),null!==f&&f.hidden!==!0?(o=0,a=0+(x?g.sizeCalculated+this.padding:0),l=f.sizeCalculated,d=s-(x?g.sizeCalculated+this.padding:0)-(_?v.sizeCalculated+this.padding:0),u=$("#layout_"+this.name+"_panel_left"),-1!=window.navigator.userAgent.indexOf("MSIE")&&u.length>0&&u[0].clientHeight<u[0].scrollHeight&&(l+=17),u.css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px"}).show(),f.width=l,f.height=d,f.resizable&&(o=f.sizeCalculated-(0===this.padding?this.resizer:0),l=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_left").show().css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px",cursor:"ew-resize"}).off("mousedown").on("mousedown",function(e){var t=c.trigger({phase:"before",type:"resizerClick",target:"left",originalEvent:e});return t.isCancelled!==!0?(w2ui[c.name].tmp.events.resizeStart("left",e),c.trigger($.extend(t,{phase:"after"})),!1):void 0}))):($("#layout_"+this.name+"_panel_left").hide(),$("#layout_"+this.name+"_resizer_left").hide()),null!==m&&m.hidden!==!0?(o=r-m.sizeCalculated,a=0+(x?g.sizeCalculated+this.padding:0),l=m.sizeCalculated,d=s-(x?g.sizeCalculated+this.padding:0)-(_?v.sizeCalculated+this.padding:0),$("#layout_"+this.name+"_panel_right").css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px"}).show(),m.width=l,m.height=d,m.resizable&&(o-=this.padding,l=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_right").show().css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px",cursor:"ew-resize"}).off("mousedown").on("mousedown",function(e){var t=c.trigger({phase:"before",type:"resizerClick",target:"right",originalEvent:e});return t.isCancelled!==!0?(w2ui[c.name].tmp.events.resizeStart("right",e),c.trigger($.extend(t,{phase:"after"})),!1):void 0}))):$("#layout_"+this.name+"_panel_right").hide(),null!==v&&v.hidden!==!0?(o=0,a=s-v.sizeCalculated,l=r,d=v.sizeCalculated,$("#layout_"+this.name+"_panel_bottom").css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px"}).show(),v.width=l,v.height=d,v.resizable&&(a-=0===this.padding?0:this.padding,d=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_bottom").show().css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px",cursor:"ns-resize"}).off("mousedown").on("mousedown",function(e){var t=c.trigger({phase:"before",type:"resizerClick",target:"bottom",originalEvent:e});return t.isCancelled!==!0?(w2ui[c.name].tmp.events.resizeStart("bottom",e),c.trigger($.extend(t,{phase:"after"})),!1):void 0}))):$("#layout_"+this.name+"_panel_bottom").hide(),o=0+(b?f.sizeCalculated+this.padding:0),a=0+(x?g.sizeCalculated+this.padding:0),l=r-(b?f.sizeCalculated+this.padding:0)-(w?m.sizeCalculated+this.padding:0),d=s-(x?g.sizeCalculated+this.padding:0)-(_?v.sizeCalculated+this.padding:0)-(y?p.sizeCalculated+this.padding:0),u=$("#layout_"+this.name+"_panel_main"),-1!=window.navigator.userAgent.indexOf("MSIE")&&u.length>0&&u[0].clientHeight<u[0].scrollHeight&&(l+=17),u.css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px"}),h.width=l,h.height=d,null!==p&&p.hidden!==!0?(o=0+(b?f.sizeCalculated+this.padding:0),a=s-(_?v.sizeCalculated+this.padding:0)-p.sizeCalculated,l=r-(b?f.sizeCalculated+this.padding:0)-(w?m.sizeCalculated+this.padding:0),d=p.sizeCalculated,u=$("#layout_"+this.name+"_panel_preview"),-1!=window.navigator.userAgent.indexOf("MSIE")&&u.length>0&&u[0].clientHeight<u[0].scrollHeight&&(l+=17),u.css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px"}).show(),p.width=l,p.height=d,p.resizable&&(a-=0===this.padding?0:this.padding,d=this.resizer>this.padding?this.resizer:this.padding,$("#layout_"+this.name+"_resizer_preview").show().css({display:"block",left:o+"px",top:a+"px",width:l+"px",height:d+"px",cursor:"ns-resize"}).off("mousedown").on("mousedown",function(e){var t=c.trigger({phase:"before",type:"resizerClick",target:"preview",originalEvent:e});return t.isCancelled!==!0?(w2ui[c.name].tmp.events.resizeStart("preview",e),c.trigger($.extend(t,{phase:"after"})),!1):void 0}))):$("#layout_"+this.name+"_panel_preview").hide();for(var D in t){D=t[D];var L=this.get(D),S="#layout_"+this.name+"_panel_"+D+" > .w2ui-panel-",A=0;L&&(L.title&&(A+=w2utils.getSize($(S+"title").css({top:A+"px",display:"block"}),"height")),L.show.tabs&&(null!==L.tabs&&w2ui[this.name+"_"+D+"_tabs"]&&w2ui[this.name+"_"+D+"_tabs"].resize(),A+=w2utils.getSize($(S+"tabs").css({top:A+"px",display:"block"}),"height")),L.show.toolbar&&(null!==L.toolbar&&w2ui[this.name+"_"+D+"_toolbar"]&&w2ui[this.name+"_"+D+"_toolbar"].resize(),A+=w2utils.getSize($(S+"toolbar").css({top:A+"px",display:"block"}),"height"))),$(S+"content").css({display:"block"}).css({top:A+"px"})}return clearTimeout(this._resize_timer),this._resize_timer=setTimeout(function(){for(var e in w2ui)if("function"==typeof w2ui[e].resize){"undefined"==w2ui[e].panels&&w2ui[e].resize();var t=$(w2ui[e].box).parents(".w2ui-layout");t.length>0&&t.attr("name")==c.name&&w2ui[e].resize()}},100),this.trigger($.extend(n,{phase:"after"})),(new Date).getTime()-e}},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});return e.isCancelled!==!0?"undefined"==typeof w2ui[this.name]?!1:($(this.box).find("#layout_"+this.name+"_panel_main").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-layout").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})),this.tmp.events&&this.tmp.events.resize&&$(window).off("resize",this.tmp.events.resize),!0):void 0},lock:function(e){if(-1==t.indexOf(e))return void console.log("ERROR: First parameter needs to be the a valid panel name.");var i=Array.prototype.slice.call(arguments,0);i[0]="#layout_"+this.name+"_panel_"+e,w2utils.lock.apply(window,i)},unlock:function(e){if(-1==t.indexOf(e))return void console.log("ERROR: First parameter needs to be the a valid panel name.");var i="#layout_"+this.name+"_panel_"+e;w2utils.unlock(i)}},$.extend(e.prototype,w2utils.event),w2obj.layout=e}();var w2popup={};!function(){$.fn.w2popup=function(e,t){"undefined"==typeof e&&(t={},e="open"),$.isPlainObject(e)&&(t=e,e="open"),e=e.toLowerCase(),"load"===e&&"string"==typeof t&&(t=$.extend({url:t},arguments.length>2?arguments[2]:{})),"open"===e&&null!=t.url&&(e="load"),t=t||{};var i={};return $(this).length>0&&($(this).find("div[rel=title], div[rel=body], div[rel=buttons]").length>0?($(this).find("div[rel=title]").length>0&&(i.title=$(this).find("div[rel=title]").html()),$(this).find("div[rel=body]").length>0&&(i.body=$(this).find("div[rel=body]").html(),i.style=$(this).find("div[rel=body]")[0].style.cssText),$(this).find("div[rel=buttons]").length>0&&(i.buttons=$(this).find("div[rel=buttons]").html())):(i.title="&nbsp;",i.body=$(this).html()),0!=parseInt($(this).css("width"))&&(i.width=parseInt($(this).css("width"))),0!=parseInt($(this).css("height"))&&(i.height=parseInt($(this).css("height")))),w2popup[e]($.extend({},i,t))},w2popup={defaults:{title:"",body:"",buttons:"",style:"",color:"#000",opacity:.4,speed:.3,modal:!1,maximized:!1,keyboard:!0,width:500,height:300,showClose:!0,showMax:!1,transition:null},status:"closed",handlers:[],onOpen:null,onClose:null,onMax:null,onMin:null,onToggle:null,onKeydown:null,open:function(e){function t(e){return e||(e=window.event),window.addEventListener||window.document.attachEvent("onselectstart",function(){return!1}),w2popup.status="moving",g.resizing=!0,g.x=e.screenX,g.y=e.screenY,g.pos_x=$("#w2ui-popup").position().left,g.pos_y=$("#w2ui-popup").position().top,w2popup.lock({opacity:0}),$(document).on("mousemove",g.mvMove),$(document).on("mouseup",g.mvStop),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,e.preventDefault?void e.preventDefault():!1}function i(e){1==g.resizing&&(e||(e=window.event),g.div_x=e.screenX-g.x,g.div_y=e.screenY-g.y,$("#w2ui-popup").css({"-webkit-transition":"none","-webkit-transform":"translate3d("+g.div_x+"px, "+g.div_y+"px, 0px)","-moz-transition":"none","-moz-transform":"translate("+g.div_x+"px, "+g.div_y+"px)","-ms-transition":"none","-ms-transform":"translate("+g.div_x+"px, "+g.div_y+"px)","-o-transition":"none","-o-transform":"translate("+g.div_x+"px, "+g.div_y+"px)"}))}function n(e){1==g.resizing&&(e||(e=window.event),w2popup.status="open",g.div_x=e.screenX-g.x,g.div_y=e.screenY-g.y,$("#w2ui-popup").css({left:g.pos_x+g.div_x+"px",top:g.pos_y+g.div_y+"px","-webkit-transition":"none","-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transition":"none","-moz-transform":"translate(0px, 0px)","-ms-transition":"none","-ms-transform":"translate(0px, 0px)","-o-transition":"none","-o-transform":"translate(0px, 0px)"}),g.resizing=!1,$(document).off("mousemove",g.mvMove),$(document).off("mouseup",g.mvStop),w2popup.unlock())}var r=this;if("closing"==w2popup.status)return void setTimeout(function(){r.open.call(r,e)},100);var s=$("#w2ui-popup").data("options"),e=$.extend({},this.defaults,s,{title:"",body:"",buttons:""},e,{maximized:!1});if(setTimeout(function(){$("#w2ui-popup").data("options",e)},100),0==$("#w2ui-popup").length&&(w2popup.handlers=[],w2popup.onMax=null,w2popup.onMin=null,w2popup.onToggle=null,w2popup.onOpen=null,w2popup.onClose=null,w2popup.onKeydown=null),e.onOpen&&(w2popup.onOpen=e.onOpen),e.onClose&&(w2popup.onClose=e.onClose),e.onMax&&(w2popup.onMax=e.onMax),e.onMin&&(w2popup.onMin=e.onMin),e.onToggle&&(w2popup.onToggle=e.onToggle),e.onKeydown&&(w2popup.onKeydown=e.onKeydown),void 0==window.innerHeight){var o=document.documentElement.offsetWidth,a=document.documentElement.offsetHeight;"IE7"===w2utils.engine&&(o+=21,a+=4)}else var o=window.innerWidth,a=window.innerHeight;parseInt(o)-10<parseInt(e.width)&&(e.width=parseInt(o)-10),parseInt(a)-10<parseInt(e.height)&&(e.height=parseInt(a)-10);var l=parseInt((parseInt(a)-parseInt(e.height))/2*.6),d=parseInt((parseInt(o)-parseInt(e.width))/2);if(0==$("#w2ui-popup").length){var u=this.trigger({phase:"before",type:"open",target:"popup",options:e,present:!1});if(u.isCancelled===!0)return;w2popup.status="opening",w2popup.lockScreen(e);var c="";e.showClose&&(c+='<div class="w2ui-msg-button w2ui-msg-close" onmousedown="event.stopPropagation()" onclick="w2popup.close()">Close</div>'),e.showMax&&(c+='<div class="w2ui-msg-button w2ui-msg-max" onmousedown="event.stopPropagation()" onclick="w2popup.toggle()">Max</div>');var h='<div id="w2ui-popup" class="w2ui-popup" style="opacity: 0; left: '+d+"px; top: "+l+"px;     width: "+parseInt(e.width)+"px; height: "+parseInt(e.height)+'px;     -webkit-transform: scale(0.8); -moz-transform: scale(0.8); -ms-transform: scale(0.8); -o-transform: scale(0.8); ">   <div class="w2ui-msg-title" style="'+(""==e.title?"display: none":"")+'">'+c+e.title+'</div>   <div class="w2ui-box1" style="'+(""==e.title?"top: 0px !important;":"")+(""==e.buttons?"bottom: 0px !important;":"")+'">       <div class="w2ui-msg-body'+(""!=!e.title?" w2ui-msg-no-title":"")+(""!=!e.buttons?" w2ui-msg-no-buttons":"")+'" style="'+e.style+'">'+e.body+'</div>   </div>   <div class="w2ui-box2" style="'+(""==e.title?"top: 0px !important;":"")+(""==e.buttons?"bottom: 0px !important;":"")+'">       <div class="w2ui-msg-body'+(""!=!e.title?" w2ui-msg-no-title":"")+(""!=!e.buttons?" w2ui-msg-no-buttons":"")+'" style="'+e.style+'"></div>       </div>   <div class="w2ui-msg-buttons" style="'+(""==e.buttons?"display: none":"")+'">'+e.buttons+"</div></div>";$("body").append(h),setTimeout(function(){$("#w2ui-popup .w2ui-box2").hide(),$("#w2ui-popup").css({"-webkit-transition":e.speed+"s opacity, "+e.speed+"s -webkit-transform","-webkit-transform":"scale(1)","-moz-transition":e.speed+"s opacity, "+e.speed+"s -moz-transform","-moz-transform":"scale(1)","-ms-transition":e.speed+"s opacity, "+e.speed+"s -ms-transform","-ms-transform":"scale(1)","-o-transition":e.speed+"s opacity, "+e.speed+"s -o-transform","-o-transform":"scale(1)",opacity:"1"})},1),setTimeout(function(){$("#w2ui-popup").css({"-webkit-transform":"","-moz-transform":"","-ms-transform":"","-o-transform":""}),w2popup.status="open",setTimeout(function(){r.trigger($.extend(u,{phase:"after"}))},100)},1e3*e.speed)}else{var u=this.trigger({phase:"before",type:"open",target:"popup",options:e,present:!0});if(u.isCancelled===!0)return;w2popup.status="opening",("undefined"==typeof s||s.width!=e.width||s.height!=e.height)&&w2popup.resize(e.width,e.height),"undefined"!=typeof s&&(e.prevSize=e.width+":"+e.height,e.maximized=s.maximized);var p=$("#w2ui-popup .w2ui-box2 > .w2ui-msg-body").html(e.body);p.length>0&&(p[0].style.cssText=e.style),""!=e.buttons?($("#w2ui-popup .w2ui-msg-buttons").show().html(e.buttons),$("#w2ui-popup .w2ui-msg-body").removeClass("w2ui-msg-no-buttons"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("bottom","")):($("#w2ui-popup .w2ui-msg-buttons").hide().html(""),$("#w2ui-popup .w2ui-msg-body").addClass("w2ui-msg-no-buttons"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("bottom","0px")),""!=e.title?($("#w2ui-popup .w2ui-msg-title").show().html((e.showClose?'<div class="w2ui-msg-button w2ui-msg-close" onmousedown="event.stopPropagation()" onclick="w2popup.close()">Close</div>':"")+(e.showMax?'<div class="w2ui-msg-button w2ui-msg-max" onmousedown="event.stopPropagation()" onclick="w2popup.toggle()">Max</div>':"")+e.title),$("#w2ui-popup .w2ui-msg-body").removeClass("w2ui-msg-no-title"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("top","")):($("#w2ui-popup .w2ui-msg-title").hide().html(""),$("#w2ui-popup .w2ui-msg-body").addClass("w2ui-msg-no-title"),$("#w2ui-popup .w2ui-box1, #w2ui-popup .w2ui-box2").css("top","0px"));var f=$("#w2ui-popup .w2ui-box1")[0],m=$("#w2ui-popup .w2ui-box2")[0];w2utils.transition(f,m,e.transition),m.className="w2ui-box1",f.className="w2ui-box2",$(m).addClass("w2ui-current-box"),$("#w2ui-popup").data("prev-size",null),setTimeout(function(){w2popup.status="open",r.trigger($.extend(u,{phase:"after"}))},100)}e._last_w2ui_name=w2utils.keyboard.active(),w2utils.keyboard.active(null),e.keyboard&&$(document).on("keydown",this.keydown);var g={resizing:!1,mvMove:i,mvStop:n};return $("#w2ui-popup .w2ui-msg-title").on("mousedown",function(e){t(e)}),this},keydown:function(e){var t=$("#w2ui-popup").data("options");if(t.keyboard){var i=w2popup.trigger({phase:"before",type:"keydown",target:"popup",options:t,originalEvent:e});if(i.isCancelled!==!0){switch(e.keyCode){case 27:e.preventDefault(),$("#w2ui-popup .w2ui-popup-message").length>0?w2popup.message():w2popup.close()}w2popup.trigger($.extend(i,{phase:"after"}))}}},close:function(e){var t=this,e=$.extend({},$("#w2ui-popup").data("options"),e);if(0!=$("#w2ui-popup").length){var i=this.trigger({phase:"before",type:"close",target:"popup",options:e});i.isCancelled!==!0&&(w2popup.status="closing",$("#w2ui-popup").css({"-webkit-transition":e.speed+"s opacity, "+e.speed+"s -webkit-transform","-webkit-transform":"scale(0.9)","-moz-transition":e.speed+"s opacity, "+e.speed+"s -moz-transform","-moz-transform":"scale(0.9)","-ms-transition":e.speed+"s opacity, "+e.speed+"s -ms-transform","-ms-transform":"scale(0.9)","-o-transition":e.speed+"s opacity, "+e.speed+"s -o-transform","-o-transform":"scale(0.9)",opacity:"0"}),w2popup.unlockScreen(e),setTimeout(function(){$("#w2ui-popup").remove(),w2popup.status="closed",t.trigger($.extend(i,{phase:"after"}))},1e3*e.speed),w2utils.keyboard.active(e._last_w2ui_name),e.keyboard&&$(document).off("keydown",this.keydown))}},toggle:function(){var e=this,t=$("#w2ui-popup").data("options"),i=this.trigger({phase:"before",type:"toggle",target:"popup",options:t});i.isCancelled!==!0&&(t.maximized===!0?w2popup.min():w2popup.max(),setTimeout(function(){e.trigger($.extend(i,{phase:"after"}))},1e3*t.speed+50))},max:function(){var e=this,t=$("#w2ui-popup").data("options");if(t.maximized!==!0){var i=this.trigger({phase:"before",type:"max",target:"popup",options:t});i.isCancelled!==!0&&(w2popup.status="resizing",t.prevSize=$("#w2ui-popup").css("width")+":"+$("#w2ui-popup").css("height"),w2popup.resize(1e4,1e4,function(){w2popup.status="open",t.maximized=!0,e.trigger($.extend(i,{phase:"after"}))}))}},min:function(){var e=this,t=$("#w2ui-popup").data("options");if(t.maximized===!0){var i=t.prevSize.split(":"),n=this.trigger({phase:"before",type:"min",target:"popup",options:t});n.isCancelled!==!0&&(w2popup.status="resizing",w2popup.resize(i[0],i[1],function(){w2popup.status="open",t.maximized=!1,t.prevSize=null,e.trigger($.extend(n,{phase:"after"}))}))}},get:function(){return $("#w2ui-popup").data("options")},set:function(e){w2popup.open(e)},clear:function(){$("#w2ui-popup .w2ui-msg-title").html(""),$("#w2ui-popup .w2ui-msg-body").html(""),$("#w2ui-popup .w2ui-msg-buttons").html("")},reset:function(){w2popup.open(w2popup.defaults)},load:function(e){function t(t,i){if(delete e.url,$("body").append('<div id="w2ui-tmp" style="display: none">'+t+"</div>"),"undefined"!=typeof i&&$("#w2ui-tmp #"+i).length>0?$("#w2ui-tmp #"+i).w2popup(e):$("#w2ui-tmp > div").w2popup(e),$("#w2ui-tmp > style").length>0){var n=$("<div>").append($("#w2ui-tmp > style").clone()).html();0==$("#w2ui-popup #div-style").length&&$("#w2ui-popup").append('<div id="div-style" style="position: absolute; left: -100; width: 1px"></div>'),$("#w2ui-popup #div-style").html(n)}$("#w2ui-tmp").remove()}if(w2popup.status="loading","undefined"==String(e.url))return void console.log("ERROR: The url parameter is empty.");var i=String(e.url).split("#"),n=i[0],r=i[1];"undefined"==String(e)&&(e={});var s=$("#w2ui-popup").data(n);"undefined"!=typeof s&&null!=s?t(s,r):$.get(n,function(e,i,s){t(s.responseText,r),$("#w2ui-popup").data(n,s.responseText)})},message:function(e){$().w2tag(),e||(e={width:200,height:100}),parseInt(e.width)<10&&(e.width=10),parseInt(e.height)<10&&(e.height=10),"undefined"==typeof e.hideOnClick&&(e.hideOnClick=!1);var t=$("#w2ui-popup").data("options")||{};("undefined"==typeof e.width||e.width>t.width-10)&&(e.width=t.width-10),("undefined"==typeof e.height||e.height>t.height-40)&&(e.height=t.height-40);var i=$("#w2ui-popup .w2ui-msg-title"),n=parseInt($("#w2ui-popup").width()),r=$("#w2ui-popup .w2ui-popup-message").length;if(""==$.trim(e.html)){$("#w2ui-popup #w2ui-message"+(r-1)).css("z-Index",250);var e=$("#w2ui-popup #w2ui-message"+(r-1)).data("options")||{};$("#w2ui-popup #w2ui-message"+(r-1)).remove(),"function"==typeof e.onClose&&e.onClose(),1==r?w2popup.unlock():$("#w2ui-popup #w2ui-message"+(r-2)).show()}else{$("#w2ui-popup .w2ui-popup-message").hide(),$("#w2ui-popup .w2ui-box1").before('<div id="w2ui-message'+r+'" class="w2ui-popup-message" style="display: none; '+(0==i.length?"top: 0px;":"top: "+w2utils.getSize(i,"height")+"px;")+("undefined"!=typeof e.width?"width: "+e.width+"px; left: "+(n-e.width)/2+"px;":"left: 10px; right: 10px;")+("undefined"!=typeof e.height?"height: "+e.height+"px;":"bottom: 6px;")+'-webkit-transition: .3s; -moz-transition: .3s; -ms-transition: .3s; -o-transition: .3s;"'+(e.hideOnClick===!0?'onclick="w2popup.message();"':"")+"></div>"),$("#w2ui-popup #w2ui-message"+r).data("options",e);var s=$("#w2ui-popup #w2ui-message"+r).css("display");$("#w2ui-popup #w2ui-message"+r).css({"-webkit-transform":"none"==s?"translateY(-"+e.height+"px)":"translateY(0px)","-moz-transform":"none"==s?"translateY(-"+e.height+"px)":"translateY(0px)","-ms-transform":"none"==s?"translateY(-"+e.height+"px)":"translateY(0px)","-o-transform":"none"==s?"translateY(-"+e.height+"px)":"translateY(0px)"}),"none"==s&&($("#w2ui-popup #w2ui-message"+r).show().html(e.html),setTimeout(function(){$("#w2ui-popup #w2ui-message"+r).css({"-webkit-transform":"none"==s?"translateY(0px)":"translateY(-"+e.height+"px)","-moz-transform":"none"==s?"translateY(0px)":"translateY(-"+e.height+"px)","-ms-transform":"none"==s?"translateY(0px)":"translateY(-"+e.height+"px)","-o-transform":"none"==s?"translateY(0px)":"translateY(-"+e.height+"px)"})},1),setTimeout(function(){$("#w2ui-popup #w2ui-message"+r).css({"-webkit-transition":"0s","-moz-transition":"0s","-ms-transition":"0s","-o-transition":"0s","z-Index":1500}),0==r&&w2popup.lock(),"function"==typeof e.onOpen&&e.onOpen()},300))}},lock:function(){var e=Array.prototype.slice.call(arguments,0);e.unshift($("#w2ui-popup")),w2utils.lock.apply(window,e)},unlock:function(){w2utils.unlock($("#w2ui-popup"))},lockScreen:function(e){return $("#w2ui-lock").length>0?!1:("undefined"==typeof e&&(e=$("#w2ui-popup").data("options")),"undefined"==typeof e&&(e={}),e=$.extend({},w2popup.defaults,e),$("body").append('<div id="w2ui-lock"     onmousewheel="if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true; if (event.preventDefault) event.preventDefault(); else return false;"    style="position: '+("IE5"==w2utils.engine?"absolute":"fixed")+"; z-Index: 1199; left: 0px; top: 0px;            padding: 0px; margin: 0px; background-color: "+e.color+'; width: 100%; height: 100%; opacity: 0;"></div>'),setTimeout(function(){$("#w2ui-lock").css({"-webkit-transition":e.speed+"s opacity","-moz-transition":e.speed+"s opacity","-ms-transition":e.speed+"s opacity","-o-transition":e.speed+"s opacity",opacity:e.opacity})},1),1==e.modal?($("#w2ui-lock").on("mousedown",function(){$("#w2ui-lock").css({"-webkit-transition":".1s","-moz-transition":".1s","-ms-transition":".1s","-o-transition":".1s",opacity:"0.6"})}),$("#w2ui-lock").on("mouseup",function(){setTimeout(function(){$("#w2ui-lock").css({"-webkit-transition":".1s","-moz-transition":".1s","-ms-transition":".1s","-o-transition":".1s",opacity:e.opacity})},100)})):$("#w2ui-lock").on("mouseup",function(){w2popup.close()}),!0)},unlockScreen:function(e){return 0==$("#w2ui-lock").length?!1:("undefined"==typeof e&&(e=$("#w2ui-popup").data("options")),"undefined"==typeof e&&(e={}),e=$.extend({},w2popup.defaults,e),$("#w2ui-lock").css({"-webkit-transition":e.speed+"s opacity","-moz-transition":e.speed+"s opacity","-ms-transition":e.speed+"s opacity","-o-transition":e.speed+"s opacity",opacity:0}),setTimeout(function(){$("#w2ui-lock").remove()},1e3*e.speed),!0)},resize:function(e,t,i){var n=$("#w2ui-popup").data("options");parseInt($(window).width())-10<parseInt(e)&&(e=parseInt($(window).width())-10),parseInt($(window).height())-10<parseInt(t)&&(t=parseInt($(window).height())-10);var r=(parseInt($(window).height())-parseInt(t))/2*.8,s=(parseInt($(window).width())-parseInt(e))/2;$("#w2ui-popup").css({"-webkit-transition":n.speed+"s width, "+n.speed+"s height, "+n.speed+"s left, "+n.speed+"s top","-moz-transition":n.speed+"s width, "+n.speed+"s height, "+n.speed+"s left, "+n.speed+"s top","-ms-transition":n.speed+"s width, "+n.speed+"s height, "+n.speed+"s left, "+n.speed+"s top","-o-transition":n.speed+"s width, "+n.speed+"s height, "+n.speed+"s left, "+n.speed+"s top",top:r,left:s,width:e,height:t}),setTimeout(function(){n.width=e,n.height=t,"function"==typeof i&&i()},1e3*n.speed+50)}},$.extend(w2popup,w2utils.event)}();var w2alert=function(e,t,i){null==t&&(t=w2utils.lang("Notification")),$("#w2ui-popup").length>0&&"closing"!=w2popup.status?w2popup.message({width:400,height:170,html:'<div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 45px; overflow: auto">        <div class="w2ui-centered" style="font-size: 13px;">'+e+'</div></div><div style="position: absolute; bottom: 7px; left: 0px; right: 0px; text-align: center; padding: 5px">        <button onclick="w2popup.message();" class="w2ui-popup-btn btn">'+w2utils.lang("Ok")+"</button></div>",onClose:function(){"function"==typeof i&&i()}}):w2popup.open({width:450,height:220,showMax:!1,showClose:!1,title:t,body:'<div class="w2ui-centered" style="font-size: 13px;">'+e+"</div>",buttons:'<button onclick="w2popup.close();" class="w2ui-popup-btn btn">'+w2utils.lang("Ok")+"</button>",onClose:function(){"function"==typeof i&&i()}})},w2confirm=function(e,t,i){var n={},r={msg:"",title:w2utils.lang("Confirmation"),width:$("#w2ui-popup").length>0?400:450,height:$("#w2ui-popup").length>0?170:220,yes_text:"Yes",yes_class:"",yes_style:"",yes_callBack:null,no_text:"No",no_class:"",no_style:"",no_callBack:null,callBack:null};return 1==arguments.length&&"object"==typeof e?$.extend(n,r,e):"function"==typeof t?$.extend(n,r,{msg:e,callBack:t}):$.extend(n,r,{msg:e,title:t,callBack:i}),$("#w2ui-popup").length>0&&"closing"!=w2popup.status?(n.width>w2popup.get().width&&(n.width=w2popup.get().width),n.height>w2popup.get().height-50&&(n.height=w2popup.get().height-50),w2popup.message({width:n.width,height:n.height,html:'<div style="position: absolute; top: 0px; left: 0px; right: 0px; bottom: 40px; overflow: auto">        <div class="w2ui-centered" style="font-size: 13px;">'+n.msg+'</div></div><div style="position: absolute; bottom: 7px; left: 0px; right: 0px; text-align: center; padding: 5px">        <button id="Yes" class="w2ui-popup-btn btn '+n.yes_class+'" style="'+n.yes_style+'">'+w2utils.lang(n.yes_text)+'</button>        <button id="No" class="w2ui-popup-btn btn '+n.no_class+'" style="'+n.no_style+'">'+w2utils.lang(n.no_text)+"</button></div>",onOpen:function(){$("#w2ui-popup .w2ui-popup-message .btn").on("click",function(e){w2popup.message(),"function"==typeof n.callBack&&n.callBack(e.target.id),"Yes"==e.target.id&&"function"==typeof n.yes_callBack&&n.yes_callBack(),"No"==e.target.id&&"function"==typeof n.no_callBack&&n.no_callBack()})},onKeydown:function(e){switch(e.originalEvent.keyCode){case 13:"function"==typeof n.callBack&&n.callBack("Yes"),"function"==typeof n.yes_callBack&&n.yes_callBack(),w2popup.message();break;case 27:"function"==typeof n.callBack&&n.callBack("No"),"function"==typeof n.no_callBack&&n.no_callBack(),w2popup.message()}}})):(w2utils.isInt(n.height)||(n.height=n.height+50),w2popup.open({width:n.width,height:n.height,title:n.title,modal:!0,showClose:!1,body:'<div class="w2ui-centered" style="font-size: 13px;">'+n.msg+"</div>",buttons:'<button id="Yes" class="w2ui-popup-btn btn '+n.yes_class+'" style="'+n.yes_style+'">'+w2utils.lang(n.yes_text)+'</button><button id="No" class="w2ui-popup-btn btn '+n.no_class+'" style="'+n.no_style+'">'+w2utils.lang(n.no_text)+"</button>",onOpen:function(e){e.onComplete=function(){$("#w2ui-popup .w2ui-popup-btn").on("click",function(e){w2popup.close(),"function"==typeof n.callBack&&n.callBack(e.target.id),"Yes"==e.target.id&&"function"==typeof n.yes_callBack&&n.yes_callBack(),"No"==e.target.id&&"function"==typeof n.no_callBack&&n.no_callBack()})}},onKeydown:function(e){switch(e.originalEvent.keyCode){case 13:"function"==typeof n.callBack&&n.callBack("Yes"),"function"==typeof n.yes_callBack&&n.yes_callBack(),w2popup.close();break;case 27:"function"==typeof n.callBack&&n.callBack("No"),"function"==typeof n.no_callBack&&n.no_callBack(),w2popup.close()}}})),{yes:function(e){return n.yes_callBack=e,this},no:function(e){return n.no_callBack=e,this}}};!function(){var e=function(e){this.box=null,this.name=null,this.active=null,this.tabs=[],this.routeData={},this.right="",this.style="",this.onClick=null,this.onClose=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(this,{handlers:[]}),$.extend(!0,this,w2obj.tabs,e)};$.fn.w2tabs=function(t){if("object"!=typeof t&&t){if(w2ui[$(this).attr("name")]){var i=w2ui[$(this).attr("name")];return i[t].apply(i,Array.prototype.slice.call(arguments,1)),this}return void console.log("ERROR: Method "+t+" does not exist on jQuery.w2tabs")}if(w2utils.checkName(t,"w2tabs")){for(var n=t.tabs||[],r=new e(t),s=0;s<n.length;s++)r.tabs[s]=$.extend({},e.prototype.tab,n[s]);return 0!==$(this).length&&r.render($(this)[0]),w2ui[r.name]=r,r}},e.prototype={tab:{id:null,text:"",route:null,hidden:!1,disabled:!1,closable:!1,hint:"",onClick:null,onRefresh:null,onClose:null},add:function(e){return this.insert(null,e)},insert:function(t,i){$.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){if("undefined"==typeof i[n].id)return void console.log('ERROR: The parameter "id" is required but not supplied. (obj: '+this.name+")");if(!w2utils.checkUniqueId(i[n].id,this.tabs,"tabs",this.name))return;var r=$.extend({},e.prototype.tab,i[n]);if(null===t||"undefined"==typeof t)this.tabs.push(r);else{var s=this.get(t,!0);this.tabs=this.tabs.slice(0,s).concat([r],this.tabs.slice(s))}this.refresh(i[n].id)}},remove:function(){for(var e=0,t=0;t<arguments.length;t++){var i=this.get(arguments[t]);if(!i)return!1;e++,this.tabs.splice(this.get(i.id,!0),1),$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(i.id)).remove()}return e},select:function(e){return this.active==e||null===this.get(e)?!1:(this.active=e,this.refresh(),!0)},set:function(e,t){var i=this.get(e,!0);return null===i?!1:($.extend(this.tabs[i],t),this.refresh(e),!0)},get:function(e,t){if(0===arguments.length){for(var i=[],n=0;n<this.tabs.length;n++)null!=this.tabs[n].id&&i.push(this.tabs[n].id);return i}for(var r=0;r<this.tabs.length;r++)if(this.tabs[r].id==e)return t===!0?r:this.tabs[r];return null},show:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&r.hidden!==!1&&(t++,r.hidden=!1,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},hide:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&r.hidden!==!0&&(t++,r.hidden=!0,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},enable:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&r.disabled!==!1&&(t++,r.disabled=!1,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},disable:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&r.disabled!==!0&&(t++,r.disabled=!0,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},refresh:function(e){var t=(new Date).getTime(),i=this.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:this.name,object:this.get(e)});if(i.isCancelled!==!0){if("undefined"==typeof e)for(var n=0;n<this.tabs.length;n++)this.refresh(this.tabs[n].id);else{
var r=this.get(e);if(null===r)return!1;"undefined"!=typeof r.caption&&(r.text=r.caption);var s=$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(r.id)),o=(r.closable?'<div class="w2ui-tab-close" onclick="w2ui[\''+this.name+"'].animateClose('"+r.id+"', event);\"></div>":"")+'    <div class="w2ui-tab'+(this.active===r.id?" active":"")+(r.closable?" closable":"")+'"         title="'+("undefined"!=typeof r.hint?r.hint:"")+'"        onclick="w2ui[\''+this.name+"'].click('"+r.id+"', event);\">"+r.text+"</div>";if(0===s.length){var a="";r.hidden&&(a+="display: none;"),r.disabled&&(a+="opacity: 0.2; -moz-opacity: 0.2; -webkit-opacity: 0.2; -o-opacity: 0.2; filter:alpha(opacity=20);");var l='<td id="tabs_'+this.name+"_tab_"+r.id+'" style="'+a+'" valign="middle">'+o+"</td>";this.get(e,!0)!==this.tabs.length-1&&$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))+1].id)).length>0?$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))+1].id)).before(l):$(this.box).find("#tabs_"+this.name+"_right").before(l)}else s.html(o),r.hidden?s.css("display","none"):s.css("display",""),s.css(r.disabled?{opacity:"0.2","-moz-opacity":"0.2","-webkit-opacity":"0.2","-o-opacity":"0.2",filter:"alpha(opacity=20)"}:{opacity:"1","-moz-opacity":"1","-webkit-opacity":"1","-o-opacity":"1",filter:"alpha(opacity=100)"})}return $("#tabs_"+this.name+"_right").html(this.right),this.trigger($.extend(i,{phase:"after"})),(new Date).getTime()-t}},render:function(e){var t=(new Date).getTime(),i=this.trigger({phase:"before",type:"render",target:this.name,box:e});if(i.isCancelled!==!0){if("undefined"!=typeof e&&null!==e&&($(this.box).find("> table #tabs_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-tabs").html(""),this.box=e),!this.box)return!1;var n='<table cellspacing="0" cellpadding="1" width="100%">    <tr><td width="100%" id="tabs_'+this.name+'_right" align="right">'+this.right+"</td></tr></table>";return $(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-tabs").html(n),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.trigger($.extend(i,{phase:"after"})),this.refresh(),(new Date).getTime()-t}},resize:function(){var e=(new Date).getTime(),t=this.trigger({phase:"before",type:"resize",target:this.name});return t.isCancelled!==!0?(this.trigger($.extend(t,{phase:"after"})),(new Date).getTime()-e):void 0},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});e.isCancelled!==!0&&($(this.box).find("> table #tabs_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-tabs").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},click:function(e,t){var i=this.get(e);if(null===i||i.disabled)return!1;var n=this.trigger({phase:"before",type:"click",target:e,tab:i,object:i,originalEvent:t});if(n.isCancelled!==!0){if($(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.active)+" .w2ui-tab").removeClass("active"),this.active=i.id,i.route){var r=String("/"+i.route).replace(/\/{2,}/g,"/"),s=w2utils.parseRoute(r);if(s.keys.length>0)for(var o=0;o<s.keys.length;o++)null!=this.routeData[s.keys[o].name]&&(r=r.replace(new RegExp(":"+s.keys[o].name,"g"),this.routeData[s.keys[o].name]));setTimeout(function(){window.location.hash=r},1)}this.trigger($.extend(n,{phase:"after"})),this.refresh(e)}},animateClose:function(e,t){var i=this.get(e);if(null===i||i.disabled)return!1;var n=this.trigger({phase:"before",type:"close",target:e,object:this.get(e),originalEvent:t});if(n.isCancelled!==!0){var r=this;$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(i.id)).css({"-webkit-transition":".2s","-moz-transition":"2s","-ms-transition":".2s","-o-transition":".2s",opacity:"0"}),setTimeout(function(){var e=$(r.box).find("#tabs_"+r.name+"_tab_"+w2utils.escapeId(i.id)).width();$(r.box).find("#tabs_"+r.name+"_tab_"+w2utils.escapeId(i.id)).html('<div style="width: '+e+'px; -webkit-transition: .2s; -moz-transition: .2s; -ms-transition: .2s; -o-transition: .2s"></div>'),setTimeout(function(){$(r.box).find("#tabs_"+r.name+"_tab_"+w2utils.escapeId(i.id)).find(":first-child").css({width:"0px"})},50)},200),setTimeout(function(){r.remove(e)},450),this.trigger($.extend(n,{phase:"after"})),this.refresh()}},animateInsert:function(e,t){if(null!==this.get(e)&&$.isPlainObject(t)&&w2utils.checkUniqueId(t.id,this.tabs,"tabs",this.name)){var i=$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(t.id));if(0===i.length){"undefined"!=typeof t.caption&&(t.text=t.caption);var n='<div id="_tmp_tabs" class="w2ui-reset w2ui-tabs" style="position: absolute; top: -1000px;"><table cellspacing="0" cellpadding="1" width="100%"><tr><td id="_tmp_simple_tab" style="" valign="middle">'+(t.closable?'<div class="w2ui-tab-close"></div>':"")+'    <div class="w2ui-tab '+(this.active===t.id?"active":"")+'">'+t.text+"</div></td></tr></table></div>";$("body").append(n);var r='<div style="width: 1px; -webkit-transition: 0.2s; -moz-transition: 0.2s; -ms-transition: 0.2s; -o-transition: 0.2s;">&nbsp;</div>',s="";t.hidden&&(s+="display: none;"),t.disabled&&(s+="opacity: 0.2; -moz-opacity: 0.2; -webkit-opacity: 0.2; -o-opacity: 0.2; filter:alpha(opacity=20);");var o='<td id="tabs_'+this.name+"_tab_"+t.id+'" style="'+s+'" valign="middle">'+r+"</td>";this.get(e,!0)!==this.tabs.length&&$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))].id)).length>0?$(this.box).find("#tabs_"+this.name+"_tab_"+w2utils.escapeId(this.tabs[parseInt(this.get(e,!0))].id)).before(o):$(this.box).find("#tabs_"+this.name+"_right").before(o);var a=this;setTimeout(function(){var e=$("#_tmp_simple_tab").width();$("#_tmp_tabs").remove(),$("#tabs_"+a.name+"_tab_"+w2utils.escapeId(t.id)+" > div").css("width",e+"px")},1),setTimeout(function(){a.insert(e,t)},200)}}}},$.extend(e.prototype,w2utils.event),w2obj.tabs=e}(),function(){var e=function(e){this.box=null,this.name=null,this.routeData={},this.items=[],this.right="",this.onClick=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.toolbar,e)};$.fn.w2toolbar=function(t){if("object"==typeof t||!t){if(!w2utils.checkName(t,"w2toolbar"))return;var i=t.items||[],n=new e(t);$.extend(n,{items:[],handlers:[]});for(var r=0;r<i.length;r++)n.items[r]=$.extend({},e.prototype.item,i[r]);return 0!==$(this).length&&n.render($(this)[0]),w2ui[n.name]=n,n}if(w2ui[$(this).attr("name")]){var s=w2ui[$(this).attr("name")];return s[t].apply(s,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+t+" does not exist on jQuery.w2toolbar")},e.prototype={item:{id:null,type:"button",text:"",route:null,html:"",img:null,icon:null,count:null,hidden:!1,disabled:!1,checked:!1,arrow:!0,hint:"",group:null,items:null,overlay:{},onClick:null},add:function(e){this.insert(null,e)},insert:function(t,i){$.isArray(i)||(i=[i]);for(var n=0;n<i.length;n++){if("undefined"==typeof i[n].type)return void console.log('ERROR: The parameter "type" is required but not supplied in w2toolbar.add() method.');if(-1===$.inArray(String(i[n].type),["button","check","radio","drop","menu","break","html","spacer"]))return void console.log('ERROR: The parameter "type" should be one of the following [button, check, radio, drop, menu, break, html, spacer] in w2toolbar.add() method.');if("undefined"==typeof i[n].id)return void console.log('ERROR: The parameter "id" is required but not supplied in w2toolbar.add() method.');if(!w2utils.checkUniqueId(i[n].id,this.items,"toolbar items",this.name))return;var r=$.extend({},e.prototype.item,i[n]);if(null==t)this.items.push(r);else{var s=this.get(t,!0);this.items=this.items.slice(0,s).concat([r],this.items.slice(s))}this.refresh(r.id)}},remove:function(){for(var e=0,t=0;t<arguments.length;t++){var i=this.get(arguments[t]);if(i){e++,$(this.box).find("#tb_"+this.name+"_item_"+w2utils.escapeId(i.id)).remove();var n=this.get(i.id,!0);n&&this.items.splice(n,1)}}return e},set:function(e,t){var i=this.get(e,!0);return null===i?!1:($.extend(this.items[i],t),this.refresh(e),!0)},get:function(e,t){if(0===arguments.length){for(var i=[],n=0;n<this.items.length;n++)null!==this.items[n].id&&i.push(this.items[n].id);return i}for(var r=0;r<this.items.length;r++)if(this.items[r].id===e)return t===!0?r:this.items[r];return null},show:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&(t++,r.hidden=!1,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},hide:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&(t++,r.hidden=!0,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},enable:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&(t++,r.disabled=!1,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},disable:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&(t++,r.disabled=!0,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},check:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&(t++,r.checked=!0,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},uncheck:function(){for(var e=this,t=0,i=[],n=0;n<arguments.length;n++){var r=this.get(arguments[n]);r&&(t++,r.checked=!1,i.push(r.id))}return setTimeout(function(){for(var t in i)e.refresh(i[t])},15),t},render:function(e){var t=(new Date).getTime(),i=this.trigger({phase:"before",type:"render",target:this.name,box:e});if(i.isCancelled!==!0&&(null!=e&&($(this.box).find("> table #tb_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-toolbar").html(""),this.box=e),this.box)){for(var n='<table cellspacing="0" cellpadding="0" width="100%"><tr>',r=0;r<this.items.length;r++){var s=this.items[r];null==s.id&&(s.id="item_"+r),null!==s&&(n+="spacer"===s.type?'<td width="100%" id="tb_'+this.name+"_item_"+s.id+'" align="right"></td>':'<td id="tb_'+this.name+"_item_"+s.id+'" style="'+(s.hidden?"display: none":"")+'"     class="'+(s.disabled?"disabled":"")+'" valign="middle">'+this.getItemHTML(s)+"</td>")}return n+='<td width="100%" id="tb_'+this.name+'_right" align="right">'+this.right+"</td>",n+="</tr></table>",$(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-toolbar").html(n),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),this.trigger($.extend(i,{phase:"after"})),(new Date).getTime()-t}},refresh:function(e){var t=(new Date).getTime(),i=this.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:this.name,item:this.get(e)});if(i.isCancelled!==!0){if(null==e)for(var n=0;n<this.items.length;n++){var r=this.items[n];null==r.id&&(r.id="item_"+n),this.refresh(r.id)}var s=this.get(e);if(null===s)return!1;var o=$(this.box).find("#tb_"+this.name+"_item_"+w2utils.escapeId(s.id)),a=this.getItemHTML(s);return 0===o.length?(a="spacer"===s.type?'<td width="100%" id="tb_'+this.name+"_item_"+s.id+'" align="right"></td>':'<td id="tb_'+this.name+"_item_"+s.id+'" style="'+(s.hidden?"display: none":"")+'"     class="'+(s.disabled?"disabled":"")+'" valign="middle">'+a+"</td>",this.get(e,!0)===this.items.length-1?$(this.box).find("#tb_"+this.name+"_right").before(a):$(this.box).find("#tb_"+this.name+"_item_"+w2utils.escapeId(this.items[parseInt(this.get(e,!0))+1].id)).before(a)):(o.html(a),s.hidden?o.css("display","none"):o.css("display",""),s.disabled?o.addClass("disabled"):o.removeClass("disabled")),this.trigger($.extend(i,{phase:"after"})),(new Date).getTime()-t}},resize:function(){var e=(new Date).getTime(),t=this.trigger({phase:"before",type:"resize",target:this.name});return t.isCancelled!==!0?(this.trigger($.extend(t,{phase:"after"})),(new Date).getTime()-e):void 0},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});e.isCancelled!==!0&&($(this.box).find("> table #tb_"+this.name+"_right").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-toolbar").html(""),$(this.box).html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},getItemHTML:function(e){var t="";switch("undefined"!=typeof e.caption&&(e.text=e.caption),"undefined"==typeof e.hint&&(e.hint=""),"undefined"==typeof e.text&&(e.text=""),e.type){case"menu":case"button":case"check":case"radio":case"drop":var i="<td>&nbsp;</td>";e.img&&(i='<td><div class="w2ui-tb-image w2ui-icon '+e.img+'"></div></td>'),e.icon&&(i='<td><div class="w2ui-tb-image"><span class="'+e.icon+'"></span></div></td>'),t+='<table cellpadding="0" cellspacing="0" title="'+e.hint+'" class="w2ui-button '+(e.checked?"checked":"")+'"        onclick     = "var el=w2ui[\''+this.name+"']; if (el) el.click('"+e.id+'\', event);"        onmouseover = "'+(e.disabled?"":"$(this).addClass('over');")+'"       onmouseout  = "'+(e.disabled?"":"$(this).removeClass('over').removeClass('down');")+'"       onmousedown = "'+(e.disabled?"":"$(this).addClass('down');")+'"       onmouseup   = "'+(e.disabled?"":"$(this).removeClass('down');")+'"><tr><td>  <table cellpadding="1" cellspacing="0">  <tr>'+i+(""!==e.text?'<td class="w2ui-tb-caption" nowrap>'+e.text+"</td>":"")+(null!=e.count?'<td class="w2ui-tb-count" nowrap><span>'+e.count+"</span></td>":"")+("drop"!==e.type&&"menu"!==e.type||e.arrow===!1?"":'<td class="w2ui-tb-down" nowrap><div></div></td>')+"  </tr></table></td></tr></table>";break;case"break":t+='<table cellpadding="0" cellspacing="0"><tr>    <td><div class="w2ui-break">&nbsp;</div></td></tr></table>';break;case"html":t+='<table cellpadding="0" cellspacing="0"><tr>    <td nowrap>'+e.html+"</td></tr></table>"}var n="";return"function"==typeof e.onRender&&(n=e.onRender.call(this,e.id,t)),"function"==typeof this.onRender&&(n=this.onRender(e.id,t)),""!==n&&null!=n&&(t=n),t},menuClick:function(e){var t=this;if(e.item&&!e.item.disabled){var i=this.trigger({phase:"before",type:"click",target:e.item.id+":"+e.subItem.id,item:e.item,subItem:e.subItem,originalEvent:e.originalEvent});if(i.isCancelled===!0)return;var n=e.subItem;if(n.route){var r=String("/"+n.route).replace(/\/{2,}/g,"/"),s=w2utils.parseRoute(r);if(s.keys.length>0)for(var o=0;o<s.keys.length;o++)null!=t.routeData[s.keys[o].name]&&(r=r.replace(new RegExp(":"+s.keys[o].name,"g"),this.routeData[s.keys[o].name]));setTimeout(function(){window.location.hash=r},1)}this.trigger($.extend(i,{phase:"after"}))}},click:function(e,t){var i=this,n=this.get(e);if(n&&!n.disabled){var r=this.trigger({phase:"before",type:"click",target:"undefined"!=typeof e?e:this.name,item:n,object:n,originalEvent:t});if(r.isCancelled===!0)return;var s=$("#tb_"+this.name+"_item_"+w2utils.escapeId(n.id)+" table.w2ui-button");if(s.removeClass("down"),"radio"===n.type){for(var o=0;o<this.items.length;o++){var a=this.items[o];null!=a&&a.id!==n.id&&"radio"===a.type&&a.group===n.group&&a.checked&&(a.checked=!1,this.refresh(a.id))}n.checked=!0,s.addClass("checked")}if(("drop"===n.type||"menu"===n.type)&&(n.checked?n.checked=!1:setTimeout(function(){function e(){$(document).off("click",e),n.checked=!1,s.removeClass("checked")}var t=$("#tb_"+i.name+"_item_"+w2utils.escapeId(n.id));$.isPlainObject(n.overlay)||(n.overlay={});var r=(t.width()-50)/2;r>19&&(r=19),"drop"===n.type&&t.w2overlay(n.html,$.extend({left:r,top:3},n.overlay)),"menu"===n.type&&t.w2menu(n.items,$.extend({left:r,top:3},n.overlay,{select:function(t){i.menuClick({item:n,subItem:t.item,originalEvent:t.originalEvent}),e()}})),$(document).on("click",e)},1)),("check"===n.type||"drop"===n.type||"menu"===n.type)&&(n.checked=!n.checked,n.checked?s.addClass("checked"):s.removeClass("checked")),n.route){var l=String("/"+n.route).replace(/\/{2,}/g,"/"),d=w2utils.parseRoute(l);if(d.keys.length>0)for(var u=0;u<d.keys.length;u++)l=l.replace(new RegExp(":"+d.keys[u].name,"g"),this.routeData[d.keys[u].name]);setTimeout(function(){window.location.hash=l},1)}this.trigger($.extend(r,{phase:"after"}))}}},$.extend(e.prototype,w2utils.event),w2obj.toolbar=e}(),function(){var e=function(e){this.name=null,this.box=null,this.sidebar=null,this.parent=null,this.nodes=[],this.menu=[],this.routeData={},this.selected=null,this.img=null,this.icon=null,this.style="",this.topHTML="",this.bottomHTML="",this.keyboard=!0,this.onClick=null,this.onDblClick=null,this.onContextMenu=null,this.onMenuClick=null,this.onExpand=null,this.onCollapse=null,this.onKeydown=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,$.extend(!0,this,w2obj.sidebar,e)};$.fn.w2sidebar=function(t){if("object"==typeof t||!t){if(!w2utils.checkName(t,"w2sidebar"))return;var i=t.nodes,n=new e(t);return $.extend(n,{handlers:[],nodes:[]}),"undefined"!=typeof i&&n.add(n,i),0!==$(this).length&&n.render($(this)[0]),n.sidebar=n,w2ui[n.name]=n,n}if(w2ui[$(this).attr("name")]){var r=w2ui[$(this).attr("name")];return r[t].apply(r,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+t+" does not exist on jQuery.w2sidebar")},e.prototype={node:{id:null,text:"",count:null,img:null,icon:null,nodes:[],style:"",route:null,selected:!1,expanded:!1,hidden:!1,disabled:!1,group:!1,groupShowHide:!0,plus:!1,onClick:null,onDblClick:null,onContextMenu:null,onExpand:null,onCollapse:null,parent:null,sidebar:null},add:function(e,t){return 1==arguments.length&&(t=arguments[0],e=this),"string"==typeof e&&(e=this.get(e)),this.insert(e,null,t)},insert:function(t,i,n){var r,s,o,a,l;if(2==arguments.length){if(n=arguments[1],i=arguments[0],s=this.get(i),null===s)return $.isArray(n)||(n=[n]),r=null!=n[0].caption?n[0].caption:n[0].text,console.log('ERROR: Cannot insert node "'+r+'" because cannot find node "'+i+'" to insert before.'),null;t=this.get(i).parent}"string"==typeof t&&(t=this.get(t)),$.isArray(n)||(n=[n]);for(var d in n)if(a=n[d],null!=typeof a.id)if(null===this.get(this,a.id)){if(o=$.extend({},e.prototype.node,a),o.sidebar=this,o.parent=t,l=o.nodes||[],o.nodes=[],null===i)t.nodes.push(o);else{if(s=this.get(t,i,!0),null===s)return r=null!=a.caption?a.caption:a.text,console.log('ERROR: Cannot insert node "'+r+'" because cannot find node "'+i+'" to insert before.'),null;t.nodes.splice(s,0,o)}l.length>0&&this.insert(o,null,l)}else r=null!=a.caption?a.caption:a.text,console.log("ERROR: Cannot insert node with id="+a.id+" (text: "+r+") because another node with the same id already exists.");else r=null!=a.caption?a.caption:a.text,console.log('ERROR: Cannot insert node "'+r+'" because it has no id.');return this.refresh(t.id),o},remove:function(){for(var e,t=0,i=0;i<arguments.length;i++)if(e=this.get(arguments[i]),null!==e){null!==this.selected&&this.selected===e.id&&(this.selected=null);var n=this.get(e.parent,arguments[i],!0);null!==n&&(e.parent.nodes[n].selected&&e.sidebar.unselect(e.id),e.parent.nodes.splice(n,1),t++)}return t>0&&1==arguments.length?this.refresh(e.parent.id):this.refresh(),t},set:function(e,t,i){if(2==arguments.length&&(i=t,t=e,e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return null;for(var n=0;n<e.nodes.length;n++){if(e.nodes[n].id===t){var r=i.nodes;return $.extend(e.nodes[n],i,{nodes:[]}),null!=r&&this.add(e.nodes[n],r),this.refresh(t),!0}var s=this.set(e.nodes[n],t,i);if(s)return!0}return!1},get:function(e,t,i){if(0===arguments.length){for(var n=[],r=this.find({}),s=0;s<r.length;s++)null!=r[s].id&&n.push(r[s].id);return n}if((1==arguments.length||2==arguments.length&&t===!0)&&(i=t,t=e,e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return null;for(var o=0;o<e.nodes.length;o++){if(e.nodes[o].id==t)return i===!0?o:e.nodes[o];var a=this.get(e.nodes[o],t,i);if(a||0===a)return a}return null},find:function(e,t,i){if(1==arguments.length&&(t=e,e=this),i||(i=[]),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return i;for(var n=0;n<e.nodes.length;n++){var r=!0;for(var s in t)e.nodes[n][s]!=t[s]&&(r=!1);r&&i.push(e.nodes[n]),e.nodes[n].nodes.length>0&&(i=this.find(e.nodes[n],t,i))}return i},hide:function(){for(var e=0,t=0;t<arguments.length;t++){var i=this.get(arguments[t]);null!==i&&(i.hidden=!0,e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},show:function(){for(var e=0,t=0;t<arguments.length;t++){var i=this.get(arguments[t]);null!==i&&(i.hidden=!1,e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},disable:function(){for(var e=0,t=0;t<arguments.length;t++){var i=this.get(arguments[t]);null!==i&&(i.disabled=!0,i.selected&&this.unselect(i.id),e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},enable:function(){for(var e=0,t=0;t<arguments.length;t++){var i=this.get(arguments[t]);null!==i&&(i.disabled=!1,e++)}return 1==arguments.length?this.refresh(arguments[0]):this.refresh(),e},select:function(e){var t=this.get(e);return t?this.selected==e&&t.selected?!1:(this.unselect(this.selected),$(this.box).find("#node_"+w2utils.escapeId(e)).addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected"),t.selected=!0,this.selected=e,!0):!1},unselect:function(e){var t=this.get(e);return t?(t.selected=!1,$(this.box).find("#node_"+w2utils.escapeId(e)).removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected"),this.selected==e&&(this.selected=null),!0):!1},toggle:function(e){var t=this.get(e);return null===t?!1:t.plus?(this.set(e,{plus:!1}),this.expand(e),void this.refresh(e)):0===t.nodes.length?!1:this.get(e).expanded?this.collapse(e):this.expand(e)},collapse:function(e){var t=this,i=this.get(e),n=this.trigger({phase:"before",type:"collapse",target:e,object:i});return n.isCancelled!==!0?($(this.box).find("#node_"+w2utils.escapeId(e)+"_sub").slideUp(200),$(this.box).find("#node_"+w2utils.escapeId(e)+" .w2ui-node-dots:first-child").html('<div class="w2ui-expand">+</div>'),i.expanded=!1,this.trigger($.extend(n,{phase:"after"})),setTimeout(function(){t.refresh(e)},200),!0):void 0},collapseAll:function(e){if("undefined"==typeof e&&(e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return!1;for(var t=0;t<e.nodes.length;t++)e.nodes[t].expanded===!0&&(e.nodes[t].expanded=!1),e.nodes[t].nodes&&e.nodes[t].nodes.length>0&&this.collapseAll(e.nodes[t]);return this.refresh(e.id),!0},expand:function(e){var t=this,i=this.get(e),n=this.trigger({phase:"before",type:"expand",target:e,object:i});return n.isCancelled!==!0?($(this.box).find("#node_"+w2utils.escapeId(e)+"_sub").slideDown(200),$(this.box).find("#node_"+w2utils.escapeId(e)+" .w2ui-node-dots:first-child").html('<div class="w2ui-expand">-</div>'),i.expanded=!0,this.trigger($.extend(n,{phase:"after"})),setTimeout(function(){t.refresh(e)},200),!0):void 0},expandAll:function(e){if("undefined"==typeof e&&(e=this),"string"==typeof e&&(e=this.get(e)),null==e.nodes)return!1;for(var t=0;t<e.nodes.length;t++)e.nodes[t].expanded===!1&&(e.nodes[t].expanded=!0),e.nodes[t].nodes&&e.nodes[t].nodes.length>0&&this.collapseAll(e.nodes[t]);this.refresh(e.id)},expandParents:function(e){var t=this.get(e);return null===t?!1:(t.parent&&(t.parent.expanded=!0,this.expandParents(t.parent.id)),this.refresh(e),!0)},click:function(e,t){var i=this,n=this.get(e);if(null!==n&&!n.disabled&&!n.group){$(i.box).find(".w2ui-node.w2ui-selected").each(function(e,t){var n=$(t).attr("id").replace("node_",""),r=i.get(n);null!=r&&(r.selected=!1),$(t).removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected")});var r=$(i.box).find("#node_"+w2utils.escapeId(e)),s=$(i.box).find("#node_"+w2utils.escapeId(i.selected));r.addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected"),setTimeout(function(){var o=i.trigger({phase:"before",type:"click",target:e,originalEvent:t,node:n,object:n});if(o.isCancelled===!0)return r.removeClass("w2ui-selected").find(".w2ui-icon").removeClass("w2ui-icon-selected"),void s.addClass("w2ui-selected").find(".w2ui-icon").addClass("w2ui-icon-selected");if(null!==s&&(s.selected=!1),i.get(e).selected=!0,i.selected=e,n.route){var a=String("/"+n.route).replace(/\/{2,}/g,"/"),l=w2utils.parseRoute(a);if(l.keys.length>0)for(var d=0;d<l.keys.length;d++)null!=i.routeData[l.keys[d].name]&&(a=a.replace(new RegExp(":"+l.keys[d].name,"g"),i.routeData[l.keys[d].name]));setTimeout(function(){window.location.hash=a},1)}i.trigger($.extend(o,{phase:"after"}))},1)}},keydown:function(e){function t(e,t){null===e||e.hidden||e.disabled||e.group||(o.click(e.id,t),setTimeout(function(){o.scrollIntoView()},50))}function i(e,t){for(e=t(e);null!==e&&(e.hidden||e.disabled)&&!e.group;)e=t(e);return e}function n(e,t){if(null===e)return null;var i=e.parent,r=o.get(e.id,!0),s=null;if(e.expanded&&e.nodes.length>0&&t!==!0){var a=e.nodes[0];s=a.hidden||a.disabled||a.group?n(a):a}else s=i&&r+1<i.nodes.length?i.nodes[r+1]:n(i,!0);return null!==s&&(s.hidden||s.disabled||s.group)&&(s=n(s)),s}function r(e){if(null===e)return null;var t=e.parent,i=o.get(e.id,!0),n=i>0?s(t.nodes[i-1]):t;return null!==n&&(n.hidden||n.disabled||n.group)&&(n=r(n)),n}function s(e){if(e.expanded&&e.nodes.length>0){var t=e.nodes[e.nodes.length-1];return t.hidden||t.disabled||t.group?r(t):s(t)}return e}var o=this,a=o.get(o.selected);if(a&&o.keyboard===!0){var l=o.trigger({phase:"before",type:"keydown",target:o.name,originalEvent:e});l.isCancelled!==!0&&((13==e.keyCode||32==e.keyCode)&&a.nodes.length>0&&o.toggle(o.selected),37==e.keyCode&&(a.nodes.length>0&&a.expanded?o.collapse(o.selected):(t(a.parent),a.parent.group||o.collapse(a.parent.id))),39==e.keyCode&&(a.nodes.length>0||a.plus)&&!a.expanded&&o.expand(o.selected),38==e.keyCode&&t(i(a,r)),40==e.keyCode&&t(i(a,n)),-1!=$.inArray(e.keyCode,[13,32,37,38,39,40])&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),o.trigger($.extend(l,{phase:"after"})))}},scrollIntoView:function(e){"undefined"==typeof e&&(e=this.selected);var t=this.get(e);if(null!==t){var i=$(this.box).find(".w2ui-sidebar-div"),n=$(this.box).find("#node_"+w2utils.escapeId(e)),r=n.offset().top-i.offset().top;r+n.height()>i.height()&&i.animate({scrollTop:i.scrollTop()+i.height()/1.3},250,"linear"),0>=r&&i.animate({scrollTop:i.scrollTop()-i.height()/1.3},250,"linear")}},dblClick:function(e,t){var i=this.get(e),n=this.trigger({phase:"before",type:"dblClick",target:e,originalEvent:t,object:i});n.isCancelled!==!0&&(this.toggle(e),this.trigger($.extend(n,{phase:"after"})))},contextMenu:function(e,t){var i=this,n=i.get(e);e!=i.selected&&i.click(e),setTimeout(function(){var r=i.trigger({phase:"before",type:"contextMenu",target:e,originalEvent:t,object:n});r.isCancelled!==!0&&(n.group||n.disabled||(i.menu.length>0&&$(i.box).find("#node_"+w2utils.escapeId(e)).w2menu(i.menu,{left:(t?t.offsetX||t.pageX:50)-25,onSelect:function(t){i.menuClick(e,parseInt(t.index),t.originalEvent)}}),i.trigger($.extend(r,{phase:"after"}))))},150)},menuClick:function(e,t,i){var n=this,r=n.trigger({phase:"before",type:"menuClick",target:e,originalEvent:i,menuIndex:t,menuItem:n.menu[t]});r.isCancelled!==!0&&n.trigger($.extend(r,{phase:"after"}))},render:function(e){var t=(new Date).getTime(),i=this.trigger({phase:"before",type:"render",target:this.name,box:e});return i.isCancelled!==!0&&("undefined"!=typeof e&&null!==e&&($(this.box).find("> div > div.w2ui-sidebar-div").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-sidebar").html(""),this.box=e),this.box)?($(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-sidebar").html('<div><div class="w2ui-sidebar-top"></div><div class="w2ui-sidebar-div"></div><div class="w2ui-sidebar-bottom"></div></div>'),$(this.box).find("> div").css({width:$(this.box).width()+"px",height:$(this.box).height()+"px"}),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),""!==this.topHTML&&($(this.box).find(".w2ui-sidebar-top").html(this.topHTML),$(this.box).find(".w2ui-sidebar-div").css("top",$(this.box).find(".w2ui-sidebar-top").height()+"px")),""!==this.bottomHTML&&($(this.box).find(".w2ui-sidebar-bottom").html(this.bottomHTML),$(this.box).find(".w2ui-sidebar-div").css("bottom",$(this.box).find(".w2ui-sidebar-bottom").height()+"px")),this.trigger($.extend(i,{phase:"after"})),this.refresh(),(new Date).getTime()-t):void 0},refresh:function(e){function t(e){var t="",i=e.img;null===i&&(i=this.img);var n=e.icon;null===n&&(n=this.icon);for(var r=e.parent,s=0;r&&null!==r.parent;)r.group&&s--,r=r.parent,s++;return"undefined"!=typeof e.caption&&(e.text=e.caption),e.group?t='<div class="w2ui-node-group"  id="node_'+e.id+'"        onclick="w2ui[\''+a.name+"'].toggle('"+e.id+"')\"        onmouseout=\"$(this).find('span:nth-child(1)').css('color', 'transparent')\"         onmouseover=\"$(this).find('span:nth-child(1)').css('color', 'inherit')\">"+(e.groupShowHide?"<span>"+w2utils.lang(!e.hidden&&e.expanded?"Hide":"Show")+"</span>":"<span></span>")+"    <span>"+e.text+'</span></div><div class="w2ui-node-sub" id="node_'+e.id+'_sub" style="'+e.style+";"+(!e.hidden&&e.expanded?"":"display: none;")+'"></div>':(e.selected&&!e.disabled&&(a.selected=e.id),r="",i&&(r='<div class="w2ui-node-image w2ui-icon '+i+(e.selected&&!e.disabled?" w2ui-icon-selected":"")+'"></div>'),n&&(r='<div class="w2ui-node-image"><span class="'+n+'"></span></div>'),t='<div class="w2ui-node '+(e.selected?"w2ui-selected":"")+" "+(e.disabled?"w2ui-disabled":"")+'" id="node_'+e.id+'" style="'+(e.hidden?"display: none;":"")+'"    ondblclick="w2ui[\''+a.name+"'].dblClick('"+e.id+"', event);\"    oncontextmenu=\"w2ui['"+a.name+"'].contextMenu('"+e.id+"', event);         if (event.preventDefault) event.preventDefault();\"    onClick=\"w2ui['"+a.name+"'].click('"+e.id+'\', event); "><table cellpadding="0" cellspacing="0" style="margin-left:'+18*s+"px; padding-right:"+18*s+'px"><tr><td class="w2ui-node-dots" nowrap onclick="w2ui[\''+a.name+"'].toggle('"+e.id+'\');         if (event.stopPropagation) event.stopPropagation(); else event.cancelBubble = true;">    <div class="w2ui-expand">'+(e.nodes.length>0?e.expanded?"-":"+":e.plus?"+":"")+'</div></td><td class="w2ui-node-data" nowrap>'+r+(e.count||0===e.count?'<div class="w2ui-node-count">'+e.count+"</div>":"")+'<div class="w2ui-node-caption">'+e.text+'</div></td></tr></table></div><div class="w2ui-node-sub" id="node_'+e.id+'_sub" style="'+e.style+";"+(!e.hidden&&e.expanded?"":"display: none;")+'"></div>'),t}var i=(new Date).getTime(),n=this.trigger({phase:"before",type:"refresh",target:"undefined"!=typeof e?e:this.name});if(n.isCancelled!==!0){""!==this.topHTML&&($(this.box).find(".w2ui-sidebar-top").html(this.topHTML),$(this.box).find(".w2ui-sidebar-div").css("top",$(this.box).find(".w2ui-sidebar-top").height()+"px")),""!==this.bottomHTML&&($(this.box).find(".w2ui-sidebar-bottom").html(this.bottomHTML),$(this.box).find(".w2ui-sidebar-div").css("bottom",$(this.box).find(".w2ui-sidebar-bottom").height()+"px")),$(this.box).find("> div").css({width:$(this.box).width()+"px",height:$(this.box).height()+"px"});var r,s,o,a=this;if("undefined"==typeof e)r=this,o=".w2ui-sidebar-div";else{if(r=this.get(e),null===r)return;o="#node_"+w2utils.escapeId(r.id)+"_sub"}var l;if(r!==this){var d="#node_"+w2utils.escapeId(r.id);l=t(r),$(this.box).find(d).before('<div id="sidebar_'+this.name+'_tmp"></div>'),$(this.box).find(d).remove(),$(this.box).find(o).remove(),$("#sidebar_"+this.name+"_tmp").before(l),$("#sidebar_"+this.name+"_tmp").remove()}$(this.box).find(o).html("");for(var u=0;u<r.nodes.length;u++)s=r.nodes[u],l=t(s),$(this.box).find(o).append(l),0!==s.nodes.length&&this.refresh(s.id);return this.trigger($.extend(n,{phase:"after"})),(new Date).getTime()-i}},resize:function(){var e=(new Date).getTime(),t=this.trigger({phase:"before",type:"resize",target:this.name});return t.isCancelled!==!0?($(this.box).css("overflow","hidden"),$(this.box).find("> div").css({width:$(this.box).width()+"px",height:$(this.box).height()+"px"}),this.trigger($.extend(t,{phase:"after"
})),(new Date).getTime()-e):void 0},destroy:function(){var e=this.trigger({phase:"before",type:"destroy",target:this.name});e.isCancelled!==!0&&($(this.box).find("> div > div.w2ui-sidebar-div").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-sidebar").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})))},lock:function(){var e=$(this.box).find("> div:first-child"),t=Array.prototype.slice.call(arguments,0);t.unshift(e),w2utils.lock.apply(window,t)},unlock:function(){w2utils.unlock(this.box)}},$.extend(e.prototype,w2utils.event),w2obj.sidebar=e}(),function(e){var t=function(t){this.el=null,this.helpers={},this.type=t.type||"text",this.options=e.extend(!0,{},t),this.onSearch=t.onSearch||null,this.onRequest=t.onRequest||null,this.onLoad=t.onLoad||null,this.onError=t.onError||null,this.onClick=t.onClick||null,this.onAdd=t.onAdd||null,this.onNew=t.onNew||null,this.onRemove=t.onRemove||null,this.onMouseOver=t.onMouseOver||null,this.onMouseOut=t.onMouseOut||null,this.onIconClick=t.onIconClick||null,this.tmp={},delete this.options.type,delete this.options.onSearch,delete this.options.onRequest,delete this.options.onLoad,delete this.options.onError,delete this.options.onClick,delete this.options.onMouseOver,delete this.options.onMouseOut,delete this.options.onIconClick,e.extend(!0,this,w2obj.field)};e.fn.w2field=function(i,n){if(0!=this.length)return"string"==typeof i&&"object"==typeof n&&(i=e.extend(!0,{},n,{type:i})),"string"==typeof i&&"undefined"==typeof n&&(i={type:i}),i.type=String(i.type).toLowerCase(),this.each(function(n,r){var s=e(r).data("w2field");if("undefined"==typeof s){var s=new t(i);return e.extend(s,{handlers:[]}),r&&(s.el=e(r)[0]),s.init(),e(r).data("w2field",s),s}if(s.clear(),"clear"!=i.type){var s=new t(i);return e.extend(s,{handlers:[]}),r&&(s.el=e(r)[0]),s.init(),e(r).data("w2field",s),s}});var r=t.prototype;return r[i]?r[i].apply(r,Array.prototype.slice.call(arguments,1)):void 0},t.prototype={custom:{},pallete:[["000000","444444","666666","999999","CCCCCC","EEEEEE","F3F3F3","FFFFFF"],["FF011B","FF9838","FFFD59","01FD55","00FFFE","0424F3","9B24F4","FF21F5"],["F4CCCC","FCE5CD","FFF2CC","D9EAD3","D0E0E3","CFE2F3","D9D1E9","EAD1DC"],["EA9899","F9CB9C","FEE599","B6D7A8","A2C4C9","9FC5E8","B4A7D6","D5A6BD"],["E06666","F6B26B","FED966","93C47D","76A5AF","6FA8DC","8E7CC3","C27BA0"],["CC0814","E69138","F1C232","6AA84F","45818E","3D85C6","674EA7","A54D79"],["99050C","B45F17","BF901F","37761D","124F5C","0A5394","351C75","741B47"],["660205","783F0B","7F6011","274E12","0C343D","063762","20124D","4C1030"]],addType:function(e,t){return e=String(e).toLowerCase(),this.custom[e]=t,!0},removeType:function(e){return e=String(e).toLowerCase(),this.custom[e]?(delete this.custom[e],!0):!1},init:function(){var t,i=this,n=this.options;if("function"==typeof this.custom[this.type])return void this.custom[this.type].call(this,n);if(-1==["INPUT","TEXTAREA"].indexOf(this.el.tagName))return void console.log("ERROR: w2field could only be applied to INPUT or TEXTAREA.",this.el);switch(this.type){case"text":case"int":case"float":case"money":case"currency":case"percent":case"alphanumeric":case"hex":t={min:null,max:null,step:1,placeholder:"",autoFormat:!0,currencyPrefix:w2utils.settings.currencyPrefix,currencySuffix:w2utils.settings.currencySuffix,currencyPrecision:w2utils.settings.currencyPrecision,groupSymbol:w2utils.settings.groupSymbol,arrows:!1,keyboard:!0,precision:null,silent:!0,prefix:"",suffix:""},this.options=e.extend(!0,{},t,n),n=this.options,n.numberRE=new RegExp("["+n.groupSymbol+"]","g"),n.moneyRE=new RegExp("["+n.currencyPrefix+n.currencySuffix+n.groupSymbol+"]","g"),n.percentRE=new RegExp("["+n.groupSymbol+"%]","g"),-1!=["text","alphanumeric","hex"].indexOf(this.type)&&(n.arrows=!1,n.keyboard=!1),this.addPrefix(),this.addSuffix(),e(this.el).attr("placeholder",n.placeholder);break;case"color":t={prefix:"#",suffix:'<div style="width: '+(parseInt(e(this.el).css("font-size"))||12)+'px">&nbsp;</div>',placeholder:"",arrows:!1,keyboard:!1},e.extend(n,t),this.addPrefix(),this.addSuffix(),e(this.el).attr("maxlength",6),""!=e(this.el).val()&&setTimeout(function(){e(i.el).change()},1),e(this.el).attr("placeholder",n.placeholder);break;case"date":t={format:w2utils.settings.date_format,placeholder:"",keyboard:!0,silent:!0,start:"",end:"",blocked:{},colored:{}},this.options=e.extend(!0,{},t,n),n=this.options,e(this.el).attr("placeholder",n.placeholder?n.placeholder:n.format);break;case"time":t={format:w2utils.settings.time_format,placeholder:"",keyboard:!0,silent:!0,start:"",end:""},this.options=e.extend(!0,{},t,n),n=this.options,e(this.el).attr("placeholder",n.placeholder?n.placeholder:"h12"==n.format?"hh:mi pm":"hh:mi");break;case"datetime":break;case"list":case"combo":if(t={items:[],selected:{},placeholder:"",url:null,postData:{},minLength:1,cacheMax:250,maxDropHeight:350,match:"begins",silent:!0,icon:null,iconStyle:"",onSearch:null,onRequest:null,onLoad:null,onError:null,onIconClick:null,renderDrop:null,prefix:"",suffix:"",openOnFocus:!1,markSearch:!1},n.items=this.normMenu(n.items),"list"==this.type&&(t.openOnFocus=!0,t.suffix='<div class="arrow-down" style="margin-top: '+(parseInt(e(this.el).height())-6)/2+'px;"></div>',e(this.el).addClass("w2ui-select"),!e.isPlainObject(n.selected)))for(var r in n.items){var s=n.items[r];if(s&&s.id==n.selected){n.selected=e.extend(!0,{},s);break}}n=e.extend({},t,n,{align:"both",altRows:!0}),this.options=n,e.isPlainObject(n.selected)||(n.selected={}),e(this.el).data("selected",n.selected),n.url&&this.request(0),"list"==this.type&&this.addFocus(),this.addPrefix(),this.addSuffix(),setTimeout(function(){i.refresh()},10),e(this.el).attr("placeholder",n.placeholder).attr("autocomplete","off"),"undefined"!=typeof n.selected.text&&e(this.el).val(n.selected.text);break;case"enum":t={items:[],selected:[],placeholder:"",max:0,url:null,postData:{},minLength:1,cacheMax:250,maxWidth:250,maxHeight:350,maxDropHeight:350,match:"contains",silent:!0,openOnFocus:!1,markSearch:!0,renderDrop:null,renderItem:null,style:"",onSearch:null,onRequest:null,onLoad:null,onError:null,onClick:null,onAdd:null,onNew:null,onRemove:null,onMouseOver:null,onMouseOut:null},n=e.extend({},t,n,{align:"both",suffix:"",altRows:!0}),n.items=this.normMenu(n.items),n.selected=this.normMenu(n.selected),this.options=n,e.isArray(n.selected)||(n.selected=[]),e(this.el).data("selected",n.selected),n.url&&this.request(0),this.addSuffix(),this.addMulti();break;case"file":t={selected:[],placeholder:w2utils.lang("Attach files by dragging and dropping or Click to Select"),max:0,maxSize:0,maxFileSize:0,maxWidth:250,maxHeight:350,maxDropHeight:350,silent:!0,renderItem:null,style:"",onClick:null,onAdd:null,onRemove:null,onMouseOver:null,onMouseOut:null},n=e.extend({},t,n,{align:"both",altRows:!0}),this.options=n,e.isArray(n.selected)||(n.selected=[]),e(this.el).data("selected",n.selected),this.addMulti()}this.tmp={onChange:function(e){i.change.call(i,e)},onClick:function(e){i.click.call(i,e)},onFocus:function(e){i.focus.call(i,e)},onBlur:function(e){i.blur.call(i,e)},onKeydown:function(e){i.keyDown.call(i,e)},onKeyup:function(e){i.keyUp.call(i,e)},onKeypress:function(e){i.keyPress.call(i,e)}},e(this.el).addClass("w2field").data("w2field",this).on("change",this.tmp.onChange).on("click",this.tmp.onClick).on("focus",this.tmp.onFocus).on("blur",this.tmp.onBlur).on("keydown",this.tmp.onKeydown).on("keyup",this.tmp.onKeyup).on("keypress",this.tmp.onKeypress).css({"box-sizing":"border-box","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","-ms-box-sizing":"border-box","-o-box-sizing":"border-box"}),this.change(e.Event("change"))},clear:function(){var t=this.options;-1!=["money","currency"].indexOf(this.type)&&e(this.el).val(e(this.el).val().replace(t.moneyRE,"")),"percent"==this.type&&e(this.el).val(e(this.el).val().replace(/%/g,"")),"color"==this.type&&e(this.el).removeAttr("maxlength"),"list"==this.type&&e(this.el).removeClass("w2ui-select"),-1!=["date","time"].indexOf(this.type)&&e(this.el).attr("placeholder")==t.format&&e(this.el).attr("placeholder",""),this.type="clear";var i=e(this.el).data("tmp");if(this.tmp){"undefined"!=typeof i&&(i&&i["old-padding-left"]&&e(this.el).css("padding-left",i["old-padding-left"]),i&&i["old-padding-right"]&&e(this.el).css("padding-right",i["old-padding-right"])),e(this.el).val(this.clean(e(this.el).val())).removeClass("w2field").removeData().off("change",this.tmp.onChange).off("click",this.tmp.onClick).off("focus",this.tmp.onFocus).off("blur",this.tmp.onBlur).off("keydown",this.tmp.onKeydown).off("keyup",this.tmp.onKeyup).off("keypress",this.tmp.onKeypress);for(var n in this.helpers)e(this.helpers[n]).remove();this.helpers={}}},refresh:function(){var t=this,i=this.options,n=e(this.el).data("selected"),r=(new Date).getTime();if(-1!=["list"].indexOf(this.type)&&(e(t.el).parent().css("white-space","nowrap"),t.helpers.prefix&&t.helpers.prefix.hide(),setTimeout(function(){if(t.helpers.focus){!e.isEmptyObject(n)&&i.icon?(i.prefix='<span class="w2ui-icon '+i.icon+'"style="cursor: pointer; font-size: 14px; display: inline-block; margin-top: -1px; color: #7F98AD;'+i.iconStyle+'"></span>',t.addPrefix()):(i.prefix="",t.addPrefix());var r=t.helpers.focus.find("input");""==e(r).val()?(e(r).css("opacity",0).prev().css("opacity",0),e(t.el).val(n&&null!=n.text?n.text:""),e(t.el).attr("placeholder",e(t.el).attr("_placeholder"))):(e(r).css("opacity",1).prev().css("opacity",1),e(t.el).val(""),e(t.el).attr("_placeholder",e(t.el).attr("placeholder")).removeAttr("placeholder"),setTimeout(function(){t.helpers.prefix&&t.helpers.prefix.hide();var n="position: absolute; opacity: 0; margin: 4px 0px 0px 2px; background-position: left !important;";i.icon?(e(r).css("margin-left","17px"),e(t.helpers.focus).find(".icon-search").attr("style",n+"width: 11px !important; opacity: 1")):(e(r).css("margin-left","0px"),e(t.helpers.focus).find(".icon-search").attr("style",n+"width: 0px !important; opacity: 0"))},1))}},1)),-1!=["enum","file"].indexOf(this.type)){var s="";for(var o in n){var a=n[o],l="";l="function"==typeof i.renderItem?i.renderItem(a,o,'<div class="w2ui-list-remove" title="'+w2utils.lang("Remove")+'" index="'+o+'">&nbsp;&nbsp;</div>'):'<div class="w2ui-list-remove" title="'+w2utils.lang("Remove")+'" index="'+o+'">&nbsp;&nbsp;</div>'+("enum"==t.type?a.text:a.name+'<span class="file-size"> - '+w2utils.size(a.size)+"</span>"),s+='<li index="'+o+'" style="max-width: '+parseInt(i.maxWidth)+"px; "+(a.style?a.style:"")+'">'+l+"</li>"}var d=t.helpers.multi,u=d.find("ul");if(d.attr("style",d.attr("style")+";"+i.style),e(t.el).attr("readonly")?d.addClass("w2ui-readonly"):d.removeClass("w2ui-readonly"),d.find(".w2ui-enum-placeholder").remove(),u.find("li").not("li.nomouse").remove(),""!=s)u.prepend(s);else if("undefined"!=typeof i.placeholder){var c="padding-top: "+e(this.el).css("padding-top")+";padding-left: "+e(this.el).css("padding-left")+"; box-sizing: "+e(this.el).css("box-sizing")+"; line-height: "+e(this.el).css("line-height")+"; font-size: "+e(this.el).css("font-size")+"; font-family: "+e(this.el).css("font-family")+"; ";d.prepend('<div class="w2ui-enum-placeholder" style="'+c+'">'+i.placeholder+"</div>")}d.find("li").data("mouse","out").on("click",function(i){var r=n[e(i.target).attr("index")];if(!e(i.target).hasClass("nomouse")){i.stopPropagation();var s=t.trigger({phase:"before",type:"click",target:t.el,originalEvent:i.originalEvent,item:r});if(s.isCancelled!==!0){if(e(i.target).hasClass("w2ui-list-remove")){if(e(t.el).attr("readonly"))return;var s=t.trigger({phase:"before",type:"remove",target:t.el,originalEvent:i.originalEvent,item:r});if(s.isCancelled===!0)return;e().w2overlay(),n.splice(e(i.target).attr("index"),1),e(t.el).trigger("change"),e(i.target).parent().fadeOut("fast"),setTimeout(function(){t.refresh(),t.trigger(e.extend(s,{phase:"after"}))},300)}if("file"==t.type&&!e(i.target).hasClass("w2ui-list-remove")){var o="";/image/i.test(r.type)&&(o='<div style="padding: 3px;">    <img src="'+(r.content?"data:"+r.type+";base64,"+r.content:"")+'" style="max-width: 300px;"         onload="var w = $(this).width(); var h = $(this).height();             if (w < 300 & h < 300) return;             if (w >= h && w > 300) $(this).width(300);            if (w < h && h > 300) $(this).height(300);"        onerror="this.style.display = \'none\'"    ></div>');var a='style="padding: 3px; text-align: right; color: #777;"',l='style="padding: 3px"';o+='<div style="padding: 8px;">    <table cellpadding="2">    <tr><td '+a+">Name:</td><td "+l+">"+r.name+"</td></tr>    <tr><td "+a+">Size:</td><td "+l+">"+w2utils.size(r.size)+"</td></tr>    <tr><td "+a+">Type:</td><td "+l+'>        <span style="width: 200px; display: block-inline; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;">'+r.type+"</span>    </td></tr>    <tr><td "+a+">Modified:</td><td "+l+">"+w2utils.date(r.modified)+"</td></tr>    </table></div>",e(i.target).w2overlay(o)}t.trigger(e.extend(s,{phase:"after"}))}}}).on("mouseover",function(i){var r=i.target;if("LI"!=r.tagName&&(r=r.parentNode),!e(r).hasClass("nomouse")){if("out"==e(r).data("mouse")){var s=n[e(r).attr("index")],o=t.trigger({phase:"before",type:"mouseOver",target:t.el,originalEvent:i.originalEvent,item:s});if(o.isCancelled===!0)return;t.trigger(e.extend(o,{phase:"after"}))}e(r).data("mouse","over")}}).on("mouseout",function(i){var r=i.target;"LI"!=r.tagName&&(r=r.parentNode),e(r).hasClass("nomouse")||(e(r).data("mouse","leaving"),setTimeout(function(){if("leaving"==e(r).data("mouse")){e(r).data("mouse","out");var s=n[e(r).attr("index")],o=t.trigger({phase:"before",type:"f",target:t.el,originalEvent:i.originalEvent,item:s});if(o.isCancelled===!0)return;t.trigger(e.extend(o,{phase:"after"}))}},0))}),e(this.el).height("auto");var h=e(d).find("> div").height()+2*w2utils.getSize(d,"+height");26>h&&(h=26),h>i.maxHeight&&(h=i.maxHeight),d.length>0&&(d[0].scrollTop=1e3);var p=w2utils.getSize(e(this.el),"height")-2;p>h&&(h=p),e(d).css({height:h+"px",overflow:h==i.maxHeight?"auto":"hidden"}),h<i.maxHeight&&e(d).prop("scrollTop",0),e(this.el).css({height:h+2+"px"})}return(new Date).getTime()-r},reset:function(){var e=this.type;this.clear(),this.type=e,this.init()},clean:function(t){var i=this.options;return t=String(t).trim(),-1!=["int","float","money","currency","percent"].indexOf(this.type)&&(i.autoFormat&&-1!=["money","currency"].indexOf(this.type)&&(t=String(t).replace(i.moneyRE,"")),i.autoFormat&&"percent"==this.type&&(t=String(t).replace(i.percentRE,"")),i.autoFormat&&-1!=["int","float"].indexOf(this.type)&&(t=String(t).replace(i.numberRE,"")),parseFloat(t)==t&&(null!==i.min&&t<i.min&&(t=i.min,e(this.el).val(i.min)),null!==i.max&&t>i.max&&(t=i.max,e(this.el).val(i.max))),t=""!==t&&w2utils.isFloat(t)?Number(t):""),t},format:function(e){var t=this.options;if(t.autoFormat&&""!=e)switch(this.type){case"money":case"currency":e=w2utils.formatNumber(Number(e).toFixed(t.currencyPrecision),t.groupSymbol),""!=e&&(e=t.currencyPrefix+e+t.currencySuffix);break;case"percent":e=w2utils.formatNumber(t.precision?Number(e).toFixed(t.precision):e,t.groupSymbol),""!=e&&(e+="%");break;case"float":e=w2utils.formatNumber(t.precision?Number(e).toFixed(t.precision):e,t.groupSymbol);break;case"int":e=w2utils.formatNumber(e,t.groupSymbol)}return e},change:function(t){var i=this;if(i.options,-1!=["int","float","money","currency","percent"].indexOf(this.type)){var n=e(this.el).val(),r=this.format(this.clean(e(this.el).val()));if(""!=n&&n!=r)return e(this.el).val(r).change(),t.stopPropagation(),t.preventDefault(),!1}if("color"==this.type){var s="#"+e(this.el).val();6!=e(this.el).val().length&&3!=e(this.el).val().length&&(s=""),e(this.el).next().find("div").css("background-color",s),e(i.el).is(":focus")&&this.updateOverlay()}},click:function(t){t.stopPropagation(),-1!=["list","combo","enum"].indexOf(this.type)&&(e(this.el).is(":focus")||this.focus(t)),-1!=["date","time","color"].indexOf(this.type)&&this.updateOverlay()},focus:function(){var t=this;if(this.options,-1!==["color","date","time"].indexOf(t.type)){if(e(t.el).attr("readonly"))return;e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),setTimeout(function(){t.updateOverlay()},150)}if(-1!=["list","combo","enum"].indexOf(t.type)){if(e(t.el).attr("readonly"))return;e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),setTimeout(function(){return"list"==t.type&&e(t.el).is(":focus")?void e(t.helpers.focus).find("input").focus():(t.search(),void setTimeout(function(){t.updateOverlay()},1))},1)}"file"==t.type&&e(t.helpers.multi).css({outline:"auto 5px #7DB4F3","outline-offset":"-2px"})},blur:function(){var t=this,i=t.options,n=e(t.el).val().trim();-1!=["color","date","time","list","combo","enum"].indexOf(t.type)&&e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),-1!=["int","float","money","currency","percent"].indexOf(t.type)&&(""===n||t.checkType(n)||(e(t.el).val("").change(),i.silent===!1&&(e(t.el).w2tag("Not a valid number"),setTimeout(function(){e(t.el).w2tag("")},3e3)))),-1!=["date","time"].indexOf(t.type)&&(w2utils.isInt(t.el.value)&&e(t.el).val(w2utils.formatDate(new Date(parseInt(t.el.value)),i.format)).change(),""===n||t.inRange(t.el.value)?("date"!=t.type||""===n||w2utils.isDate(t.el.value,i.format)||(e(t.el).val("").removeData("selected").change(),i.silent===!1&&(e(t.el).w2tag("Not a valid date"),setTimeout(function(){e(t.el).w2tag("")},3e3))),"time"!=t.type||""===n||w2utils.isTime(t.el.value)||(e(t.el).val("").removeData("selected").change(),i.silent===!1&&(e(t.el).w2tag("Not a valid time"),setTimeout(function(){e(t.el).w2tag("")},3e3)))):(e(t.el).val("").removeData("selected").change(),i.silent===!1&&(e(t.el).w2tag("Not in range"),setTimeout(function(){e(t.el).w2tag("")},3e3)))),"enum"==t.type&&e(t.helpers.multi).find("input").val("").width(20),"file"==t.type&&e(t.helpers.multi).css({outline:"none"})},keyPress:function(e){var t=this;if(t.options,-1!=["int","float","money","currency","percent","hex","color","alphanumeric"].indexOf(t.type)){if(e.metaKey||e.ctrlKey||e.altKey||e.charCode!=e.keyCode&&e.keyCode>0)return;var i=String.fromCharCode(e.charCode);if(!t.checkType(i,!0)&&13!=e.keyCode)return e.preventDefault(),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1}-1!=["date","time"].indexOf(t.type)&&setTimeout(function(){t.updateOverlay()},1)},keyDown:function(t,i){var n=this,r=n.options,s=t.keyCode||i&&i.keyCode;if(-1!=["int","float","money","currency","percent"].indexOf(n.type)){if(!r.keyboard||e(n.el).attr("readonly"))return;var o=!1,a=parseFloat(e(n.el).val().replace(r.moneyRE,""))||0,l=r.step;switch((t.ctrlKey||t.metaKey)&&(l=10),s){case 38:if(t.shiftKey)break;e(n.el).val(a+l<=r.max||null===r.max?Number((a+l).toFixed(12)):r.max).change(),o=!0;break;case 40:if(t.shiftKey)break;e(n.el).val(a-l>=r.min||null===r.min?Number((a-l).toFixed(12)):r.min).change(),o=!0}o&&(t.preventDefault(),setTimeout(function(){n.el.setSelectionRange(n.el.value.length,n.el.value.length)},0))}if("date"==n.type){if(!r.keyboard||e(n.el).attr("readonly"))return;var o=!1,d=864e5,l=1;(t.ctrlKey||t.metaKey)&&(l=10);var u=w2utils.isDate(e(n.el).val(),r.format,!0);switch(u||(u=new Date,d=0),s){case 38:if(t.shiftKey)break;var c=w2utils.formatDate(u.getTime()+d,r.format);10==l&&(c=w2utils.formatDate(new Date(u.getFullYear(),u.getMonth()+1,u.getDate()),r.format)),e(n.el).val(c).change(),o=!0;break;case 40:if(t.shiftKey)break;var c=w2utils.formatDate(u.getTime()-d,r.format);10==l&&(c=w2utils.formatDate(new Date(u.getFullYear(),u.getMonth()-1,u.getDate()),r.format)),e(n.el).val(c).change(),o=!0}o&&(t.preventDefault(),setTimeout(function(){n.el.setSelectionRange(n.el.value.length,n.el.value.length),n.updateOverlay()},0))}if("time"==n.type){if(!r.keyboard||e(n.el).attr("readonly"))return;var o=!1,l=1;(t.ctrlKey||t.metaKey)&&(l=60),w2utils.isInt(n.el.value)&&e(n.el).val(w2utils.formatTime(new Date(parseInt(n.el.value)),r.format)).change();var a=e(n.el).val(),h=n.toMin(a)||n.toMin((new Date).getHours()+":"+((new Date).getMinutes()-1));switch(s){case 38:if(t.shiftKey)break;h+=l,o=!0;break;case 40:if(t.shiftKey)break;h-=l,o=!0}o&&(e(n.el).val(n.fromMin(h)).change(),t.preventDefault(),setTimeout(function(){n.el.setSelectionRange(n.el.value.length,n.el.value.length)},0))}if("color"==n.type){if(e(n.el).attr("readonly"))return;if(86==t.keyCode&&(t.ctrlKey||t.metaKey)&&(e(n.el).prop("maxlength",7),setTimeout(function(){var t=e(n).val();"#"==t.substr(0,1)&&(t=t.substr(1)),w2utils.isHex(t)||(t=""),e(n).val(t).prop("maxlength",6).change()},20)),(t.ctrlKey||t.metaKey)&&!t.shiftKey){if("undefined"==typeof n.tmp.cind1)n.tmp.cind1=-1,n.tmp.cind2=-1;else{switch(s){case 38:n.tmp.cind1--;break;case 40:n.tmp.cind1++;break;case 39:n.tmp.cind2++;break;case 37:n.tmp.cind2--}n.tmp.cind1<0&&(n.tmp.cind1=0),n.tmp.cind1>this.pallete.length-1&&(n.tmp.cind1=this.pallete.length-1),n.tmp.cind2<0&&(n.tmp.cind2=0),n.tmp.cind2>this.pallete[0].length-1&&(n.tmp.cind2=this.pallete[0].length-1)}-1!=[37,38,39,40].indexOf(s)&&(e(n.el).val(this.pallete[n.tmp.cind1][n.tmp.cind2]).change(),t.preventDefault())}}if(-1!=["list","combo","enum"].indexOf(n.type)){if(e(n.el).attr("readonly"))return;var o=!1,p=e(n.el).data("selected"),f=e(n.helpers.focus).find("input");switch("list"==n.type&&-1==[37,38,39,40].indexOf(s)&&n.refresh(),s){case 27:"list"==n.type&&(""!=e(f).val()&&e(f).val(""),t.stopPropagation());break;case 37:case 39:break;case 13:if(0==e("#w2ui-overlay").length)break;var m=r.items[r.index],g=e(n.helpers.multi).find("input");if("enum"==n.type)if(null!=m){var v=n.trigger({phase:"before",type:"add",target:n.el,originalEvent:t.originalEvent,item:m});if(v.isCancelled===!0)return;m=v.item,p.length>=r.max&&r.max>0&&p.pop(),delete m.hidden,delete n.tmp.force_open,p.push(m),e(n.el).change(),g.val("").width(20),n.refresh(),n.trigger(e.extend(v,{phase:"after"}))}else{m={id:g.val(),text:g.val()};var v=n.trigger({phase:"before",type:"new",target:n.el,originalEvent:t.originalEvent,item:m});if(v.isCancelled===!0)return;m=v.item,"function"==typeof n.onNew&&(p.length>=r.max&&r.max>0&&p.pop(),delete n.tmp.force_open,p.push(m),e(n.el).change(),g.val("").width(20),n.refresh()),n.trigger(e.extend(v,{phase:"after"}))}else m&&e(n.el).data("selected",m).val(m.text).change(),""==e(n.el).val()&&e(n.el).data("selected")&&e(n.el).removeData("selected").val("").change(),"list"==n.type&&(f.val(""),n.refresh()),n.tmp.force_hide=!0;break;case 8:case 46:if("enum"==n.type&&8==s&&""==e(n.helpers.multi).find("input").val()&&p.length>0){var m=p[p.length-1],v=n.trigger({phase:"before",type:"remove",target:n.el,originalEvent:t.originalEvent,item:m});if(v.isCancelled===!0)return;p.pop(),e(n.el).trigger("change"),n.refresh(),n.trigger(e.extend(v,{phase:"after"}))}"list"==n.type&&""==e(f).val()&&(e(n.el).data("selected",{}).change(),n.refresh());break;case 38:for(r.index=w2utils.isInt(r.index)?parseInt(r.index):0,r.index--;r.index>0&&r.items[r.index].hidden;)r.index--;if(0==r.index&&r.items[r.index].hidden)for(;r.items[r.index]&&r.items[r.index].hidden;)r.index++;o=!0;break;case 40:for(r.index=w2utils.isInt(r.index)?parseInt(r.index):-1,r.index++;r.index<r.items.length-1&&r.items[r.index].hidden;)r.index++;if(r.index==r.items.length-1&&r.items[r.index].hidden)for(;r.items[r.index]&&r.items[r.index].hidden;)r.index--;var y=n.el;-1!=["enum"].indexOf(n.type)&&(y=n.helpers.multi.find("input")),""==e(y).val()&&0==e("#w2ui-overlay").length?n.tmp.force_open=!0:o=!0}if(o)return r.index<0&&(r.index=0),r.index>=r.items.length&&(r.index=r.items.length-1),n.updateOverlay(),t.preventDefault(),void setTimeout(function(){if("enum"==n.type){var e=n.helpers.multi.find("input").get(0);e.setSelectionRange(e.value.length,e.value.length)}else if("list"==n.type){var e=n.helpers.focus.find("input").get(0);e.setSelectionRange(e.value.length,e.value.length)}else n.el.setSelectionRange(n.el.value.length,n.el.value.length)},0);if("enum"==n.type){var y=n.helpers.multi.find("input"),b=y.val();y.width(8*(b.length+2)+"px")}-1==[16,17,18,20,37,39,91].indexOf(s)&&setTimeout(function(){n.tmp.force_hide||n.request(),n.search()},1)}},keyUp:function(t){"color"==this.type&&86==t.keyCode&&(t.ctrlKey||t.metaKey)&&e(this).prop("maxlength",6)},clearCache:function(){var e=this.options;e.items=[],this.tmp.xhr_loading=!1,this.tmp.xhr_search="",this.tmp.xhr_total=-1,this.search()},request:function(t){var i=this,n=this.options,r=e(i.el).val()||"";if(n.url){if("enum"==i.type){var s=e(i.helpers.multi).find("input");r=0==s.length?"":s.val()}if("list"==i.type){var s=e(i.helpers.focus).find("input");r=0==s.length?"":s.val()}if(0!=n.minLength&&r.length<n.minLength)return n.items=[],void this.updateOverlay();"undefined"==typeof t&&(t=350),"undefined"==typeof i.tmp.xhr_search&&(i.tmp.xhr_search=""),"undefined"==typeof i.tmp.xhr_total&&(i.tmp.xhr_total=-1),n.url&&1!=e(i.el).prop("readonly")&&(0===n.items.length&&0!==i.tmp.xhr_total||i.tmp.xhr_total==n.cacheMax&&r.length>i.tmp.xhr_search.length||r.length>=i.tmp.xhr_search.length&&r.substr(0,i.tmp.xhr_search.length)!=i.tmp.xhr_search||r.length<i.tmp.xhr_search.length)&&(i.tmp.xhr_loading=!0,i.search(),clearTimeout(i.tmp.timeout),i.tmp.timeout=setTimeout(function(){var t=n.url,s={search:r,max:n.cacheMax};e.extend(s,n.postData);var o=i.trigger({phase:"before",type:"request",target:i.el,url:t,postData:s});if(o.isCancelled!==!0){t=o.url,s=o.postData,i.tmp.xhr&&i.tmp.xhr.abort();var a={type:"GET",url:t,data:s,dataType:"JSON"};"JSON"==w2utils.settings.dataType&&(a.type="POST",a.data=JSON.stringify(a.data),a.contentType="application/json"),i.tmp.xhr=e.ajax(a).done(function(t,o,a){var l=i.trigger({phase:"before",type:"load",target:i.el,search:s.search,data:t,xhr:a});if(l.isCancelled!==!0){if(t=l.data,"string"==typeof t&&(t=JSON.parse(t)),"success"!=t.status)return void console.log("ERROR: server did not return proper structure. It should return",{status:"success",items:[{id:1,text:"item"}]});t.items.length>n.cacheMax&&t.items.splice(n.cacheMax,1e5),i.tmp.xhr_loading=!1,i.tmp.xhr_search=r,i.tmp.xhr_total=t.items.length,n.items=t.items,i.tmp.emptySet=""==r&&0==t.items.length?!0:!1,i.search(),i.trigger(e.extend(l,{phase:"after"}))}}).fail(function(t,n,s){var o={status:n,error:s,rawResponseText:t.responseText},a=i.trigger({phase:"before",type:"error",target:i.el,search:r,error:o,xhr:t});if(a.isCancelled!==!0){if("abort"!=n){var l;try{l=e.parseJSON(t.responseText)}catch(d){}console.log("ERROR: Server communication failed.","\n   EXPECTED:",{status:"success",items:[{id:1,text:"item"}]},"\n         OR:",{status:"error",message:"error message"},"\n   RECEIVED:","object"==typeof l?l:t.responseText)}i.clearCache(),i.trigger(e.extend(a,{phase:"after"}))}}),i.trigger(e.extend(o,{phase:"after"}))}},t))}},search:function(){var t=this,i=this.options,n=e(t.el).val(),r=t.el,s=[],o=e(t.el).data("selected");if("enum"==t.type){r=e(t.helpers.multi).find("input"),n=r.val();for(var a in o)o[a]&&s.push(o[a].id)}if("list"==t.type){r=e(t.helpers.focus).find("input"),n=r.val();for(var a in o)o[a]&&s.push(o[a].id)}var l=t.trigger({phase:"before",type:"search",target:r,search:n});if(l.isCancelled!==!0){if(t.tmp.xhr_loading!==!0){var d=0;for(var u in i.items){var c=i.items[u],h="",p="";-1!=["is","begins"].indexOf(i.match)&&(h="^"),-1!=["is","ends"].indexOf(i.match)&&(p="$");try{var f=new RegExp(h+n+p,"i");c.hidden=f.test(c.text)||"..."==c.text?!1:!0}catch(m){}"enum"==t.type&&-1!=e.inArray(c.id,s)&&(c.hidden=!0),c.hidden!==!0&&d++}if("combo"!=t.type)for(i.index=0;i.items[i.index]&&i.items[i.index].hidden;)i.index++;else i.index=-1;0>=d&&(i.index=-1),i.spinner=!1,t.updateOverlay(),setTimeout(function(){var t=e("#w2ui-overlay").html()||"";i.markSearch&&-1!=t.indexOf("$.fn.w2menuHandler")&&e("#w2ui-overlay").w2marker(n)},1)}else i.items.splice(0,i.cacheMax),i.spinner=!0,t.updateOverlay();t.trigger(e.extend(l,{phase:"after"}))}},updateOverlay:function(){var t=this,i=this.options;if("color"==this.type){if(e(t.el).attr("readonly"))return;0==e("#w2ui-overlay").length?e(t.el).w2overlay(t.getColorHTML()):e("#w2ui-overlay").html(t.getColorHTML()),e("#w2ui-overlay .color").on("mousedown",function(i){var n=e(i.originalEvent.target).attr("name"),r=e(i.originalEvent.target).attr("index").split(":");t.tmp.cind1=r[0],t.tmp.cind2=r[1],e(t.el).val(n).change(),e(this).html("&#149;")}).on("mouseup",function(){setTimeout(function(){e("#w2ui-overlay").length>0&&e("#w2ui-overlay").removeData("keepOpen")[0].hide()},10)})}if("date"==this.type){if(e(t.el).attr("readonly"))return;0==e("#w2ui-overlay").length&&e(t.el).w2overlay('<div class="w2ui-reset w2ui-calendar" onclick="event.stopPropagation();"></div>',{css:{"background-color":"#f5f5f5"}});var n,r,s=w2utils.isDate(e(t.el).val(),t.options.format,!0);s&&(n=s.getMonth()+1,r=s.getFullYear()),function u(i,n){e("#w2ui-overlay > div > div").html(t.getMonthHTML(i,n)),e("#w2ui-overlay .w2ui-calendar-title").on("mousedown",function(){if(e(this).next().hasClass("w2ui-calendar-jump"))e(this).next().remove();else{var i,n;e(this).after('<div class="w2ui-calendar-jump" style=""></div>'),e(this).next().hide().html(t.getYearHTML()).fadeIn(200),setTimeout(function(){e("#w2ui-overlay .w2ui-calendar-jump").find(".w2ui-jump-month, .w2ui-jump-year").on("click",function(){e(this).hasClass("w2ui-jump-month")&&(e(this).parent().find(".w2ui-jump-month").removeClass("selected"),e(this).addClass("selected"),n=e(this).attr("name")),e(this).hasClass("w2ui-jump-year")&&(e(this).parent().find(".w2ui-jump-year").removeClass("selected"),e(this).addClass("selected"),i=e(this).attr("name")),null!=i&&null!=n&&(e("#w2ui-overlay .w2ui-calendar-jump").fadeOut(100),setTimeout(function(){u(parseInt(n)+1,i)},100))}),e("#w2ui-overlay .w2ui-calendar-jump >:last-child").prop("scrollTop",2e3)},1)}}),e("#w2ui-overlay .w2ui-date").on("mousedown",function(){var i=e(this).attr("date");e(t.el).val(i).change(),e(this).css({"background-color":"#B6D5FB","border-color":"#aaa"})}).on("mouseup",function(){setTimeout(function(){e("#w2ui-overlay").length>0&&e("#w2ui-overlay").removeData("keepOpen")[0].hide()},10)}),e("#w2ui-overlay .previous").on("mousedown",function(){var e=t.options.current.split("/");e[0]=parseInt(e[0])-1,u(e[0],e[1])}),e("#w2ui-overlay .next").on("mousedown",function(){var e=t.options.current.split("/");e[0]=parseInt(e[0])+1,u(e[0],e[1])})}(n,r)}if("time"==this.type){if(e(t.el).attr("readonly"))return;0==e("#w2ui-overlay").length&&e(t.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time" onclick="event.stopPropagation();"></div>',{css:{"background-color":"#fff"}});var o="h24"==this.options.format?!0:!1;e("#w2ui-overlay > div").html(t.getHourHTML()),e("#w2ui-overlay .w2ui-time").on("mousedown",function(){e(this).css({"background-color":"#B6D5FB","border-color":"#aaa"});var i=e(this).attr("hour");e(t.el).val((i>12&&!o?i-12:i)+":00"+(o?"":12>i?" am":" pm")).change()}).on("mouseup",function(){var i=e(this).attr("hour");e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),e(t.el).w2overlay('<div class="w2ui-reset w2ui-calendar-time"></div>',{css:{"background-color":"#fff"}}),e("#w2ui-overlay > div").html(t.getMinHTML(i)),e("#w2ui-overlay .w2ui-time").on("mousedown",function(){e(this).css({"background-color":"#B6D5FB","border-color":"#aaa"});var n=e(this).attr("min");e(t.el).val((i>12&&!o?i-12:i)+":"+(10>n?0:"")+n+(o?"":12>i?" am":" pm")).change()}).on("mouseup",function(){setTimeout(function(){e("#w2ui-overlay").length>0&&e("#w2ui-overlay").removeData("keepOpen")[0].hide()},10)})})}if(-1!=["list","combo","enum"].indexOf(this.type)){var a=this.el,l=this.el;if("enum"==this.type&&(a=e(this.helpers.multi),l=e(a).find("input")),"list"==this.type&&(l=e(this.helpers.focus).find("input")),e(l).is(":focus")){if(i.openOnFocus===!1&&""==e(l).val()&&t.tmp.force_open!==!0)return void e().w2overlay();if(t.tmp.force_hide)return e().w2overlay(),void setTimeout(function(){delete t.tmp.force_hide},1);""!=e(l).val()&&delete t.tmp.force_open,0==e("#w2ui-overlay").length&&(i.index=0);
var d=w2utils.lang("No matches");null!=i.url&&e(l).val().length<i.minLength&&t.tmp.emptySet!==!0&&(d=i.minLength+" "+w2utils.lang("letters or more...")),null!=i.url&&""==e(l).val()&&t.tmp.emptySet!==!0&&(d=w2utils.lang("Type to search....")),e(a).w2menu("refresh",e.extend(!0,{},i,{search:!1,render:i.renderDrop,maxHeight:i.maxDropHeight,msgNoItems:d,onSelect:function(n){if("enum"==t.type){var r=e(t.el).data("selected");if(n.item){var s=t.trigger({phase:"before",type:"add",target:t.el,originalEvent:n.originalEvent,item:n.item});if(s.isCancelled===!0)return;r.length>=i.max&&i.max>0&&r.pop(),delete n.item.hidden,r.push(n.item),e(t.el).data("selected",r).change(),e(t.helpers.multi).find("input").val("").width(20),t.refresh(),e("#w2ui-overlay").length>0&&e("#w2ui-overlay")[0].hide(),t.trigger(e.extend(s,{phase:"after"}))}}else e(t.el).data("selected",n.item).val(n.item.text).change(),t.helpers.focus&&(t.helpers.focus.find("input").val(""),t.refresh())}}))}}},inRange:function(t){var i=!1;if("date"==this.type){var n=w2utils.isDate(t,this.options.format,!0);if(n){if(this.options.start||this.options.end){var r="string"==typeof this.options.start?this.options.start:e(this.options.start).val(),s="string"==typeof this.options.end?this.options.end:e(this.options.end).val(),o=w2utils.isDate(r,this.options.format,!0),a=w2utils.isDate(s,this.options.format,!0),l=new Date(n);o||(o=l),a||(a=l),l>=o&&a>=l&&(i=!0)}else i=!0;this.options.blocked&&-1!=e.inArray(t,this.options.blocked)&&(i=!1)}}if("time"==this.type)if(this.options.start||this.options.end){var d=this.toMin(t),u=this.toMin(this.options.start),c=this.toMin(this.options.end);u||(u=d),c||(c=d),d>=u&&c>=d&&(i=!0)}else i=!0;return i},checkType:function(e,t){var i=this;switch(i.type){case"int":return t&&-1!=["-"].indexOf(e)?!0:w2utils.isInt(e.replace(i.options.numberRE,""));case"percent":e=e.replace(/%/g,"");case"float":return t&&-1!=["-","."].indexOf(e)?!0:w2utils.isFloat(e.replace(i.options.numberRE,""));case"money":case"currency":return t&&-1!=["-",".",i.options.groupSymbol,i.options.currencyPrefix,i.options.currencySuffix].indexOf(e)?!0:w2utils.isFloat(e.replace(i.options.moneyRE,""));case"hex":case"color":return w2utils.isHex(e);case"alphanumeric":return w2utils.isAlphaNumeric(e)}return!0},addPrefix:function(){var t=this;setTimeout(function(){if("clear"!==t.type){var i,n=e(t.el).data("tmp")||{};n["old-padding-left"]&&e(t.el).css("padding-left",n["old-padding-left"]),n["old-padding-left"]=e(t.el).css("padding-left"),e(t.el).data("tmp",n),t.helpers.prefix&&e(t.helpers.prefix).remove(),""!==t.options.prefix&&(e(t.el).before('<div class="w2ui-field-helper">'+t.options.prefix+"</div>"),i=e(t.el).prev(),i.css({color:e(t.el).css("color"),"font-family":e(t.el).css("font-family"),"font-size":e(t.el).css("font-size"),"padding-top":e(t.el).css("padding-top"),"padding-bottom":e(t.el).css("padding-bottom"),"padding-left":e(t.el).css("padding-left"),"padding-right":0,"margin-top":parseInt(e(t.el).css("margin-top"),10)+2+"px","margin-bottom":parseInt(e(t.el).css("margin-bottom"),10)+1+"px","margin-left":e(t.el).css("margin-left"),"margin-right":0}).on("click",function(){if(t.options.icon&&"function"==typeof t.onIconClick){var i=t.trigger({phase:"before",type:"iconClick",target:t.el,el:e(this).find("span.w2ui-icon")[0]});if(i.isCancelled===!0)return;t.trigger(e.extend(i,{phase:"after"}))}else"list"==t.type?e(t.helpers.focus).find("input").focus():e(t.el).focus()}),e(t.el).css("padding-left",i.width()+parseInt(e(t.el).css("padding-left"),10)+"px"),t.helpers.prefix=i)}},1)},addSuffix:function(){var t,i,n=this;setTimeout(function(){if("clear"!==n.type){var r=e(n.el).data("tmp")||{};r["old-padding-right"]&&e(n.el).css("padding-right",r["old-padding-right"]),r["old-padding-right"]=e(n.el).css("padding-right"),e(n.el).data("tmp",r),i=parseInt(e(n.el).css("padding-right"),10),n.options.arrows&&(n.helpers.arrows&&e(n.helpers.arrows).remove(),e(n.el).after('<div class="w2ui-field-helper" style="border: 1px solid transparent">&nbsp;    <div class="w2ui-field-up" type="up">        <div class="arrow-up" type="up"></div>    </div>    <div class="w2ui-field-down" type="down">        <div class="arrow-down" type="down"></div>    </div></div>'),w2utils.getSize(n.el,"height"),t=e(n.el).next(),t.css({color:e(n.el).css("color"),"font-family":e(n.el).css("font-family"),"font-size":e(n.el).css("font-size"),height:e(n.el).height()+parseInt(e(n.el).css("padding-top"),10)+parseInt(e(n.el).css("padding-bottom"),10)+"px",padding:0,"margin-top":parseInt(e(n.el).css("margin-top"),10)+1+"px","margin-bottom":0,"border-left":"1px solid silver"}).css("margin-left","-"+(t.width()+parseInt(e(n.el).css("margin-right"),10)+12)+"px").on("mousedown",function(t){function i(){clearTimeout(e("body").data("_field_update_timer")),e("body").off("mouseup",i)}function r(i){e(n.el).focus(),n.keyDown(e.Event("keydown"),{keyCode:"up"==e(t.target).attr("type")?38:40}),i!==!1&&e("body").data("_field_update_timer",setTimeout(r,60))}e("body").on("mouseup",i),e("body").data("_field_update_timer",setTimeout(r,700)),r(!1)}),i+=t.width()+12,e(n.el).css("padding-right",i+"px"),n.helpers.arrows=t),""!==n.options.suffix&&(n.helpers.suffix&&e(n.helpers.suffix).remove(),e(n.el).after('<div class="w2ui-field-helper">'+n.options.suffix+"</div>"),t=e(n.el).next(),t.css({color:e(n.el).css("color"),"font-family":e(n.el).css("font-family"),"font-size":e(n.el).css("font-size"),"padding-top":e(n.el).css("padding-top"),"padding-bottom":e(n.el).css("padding-bottom"),"padding-left":"3px","padding-right":e(n.el).css("padding-right"),"margin-top":parseInt(e(n.el).css("margin-top"),10)+2+"px","margin-bottom":parseInt(e(n.el).css("margin-bottom"),10)+1+"px"}).on("click",function(){"list"==n.type?e(n.helpers.focus).find("input").focus():e(n.el).focus()}),t.css("margin-left","-"+(w2utils.getSize(t,"width")+parseInt(e(n.el).css("margin-right"),10)+2)+"px"),i+=t.width()+3,e(n.el).css("padding-right",i+"px"),n.helpers.suffix=t)}},1)},addFocus:function(){var t=this,i=(this.options,0);e(t.helpers.focus).remove();var n='<div class="w2ui-field-helper">    <div class="w2ui-icon icon-search"></div>    <input type="text" autocomplete="off"><div>';e(t.el).attr("tabindex",-1).before(n);var r=e(t.el).prev();t.helpers.focus=r,r.css({width:e(t.el).width(),"margin-top":e(t.el).css("margin-top"),"margin-left":parseInt(e(t.el).css("margin-left"))+parseInt(e(t.el).css("padding-left"))+"px","margin-bottom":e(t.el).css("margin-bottom"),"margin-right":e(t.el).css("margin-right")}).find("input").css({cursor:"default",width:"100%",outline:"none",opacity:1,margin:0,border:"1px solid transparent",padding:e(t.el).css("padding-top"),"padding-left":0,"margin-left":i>0?i+6:0,"background-color":"transparent"}),r.find("input").on("click",function(i){0==e("#w2ui-overlay").length&&t.focus(i),i.stopPropagation()}).on("focus",function(i){e(t.el).css({outline:"auto 5px #7DB4F3","outline-offset":"-2px"}),e(this).val(""),e(t.el).triggerHandler("focus"),i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}).on("blur",function(i){e(t.el).css("outline","none"),e(this).val(""),t.refresh(),e(t.el).triggerHandler("blur"),i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}).on("keyup",function(e){t.keyUp(e)}).on("keydown",function(e){t.keyDown(e)}).on("keypress",function(e){t.keyPress(e)}),r.on("click",function(){e(this).find("input").focus()}),t.refresh()},addMulti:function(){var t=this;this.options,e(t.helpers.multi).remove();var i="",n="margin-top     : 0px; margin-bottom  : 0px; margin-left    : "+e(t.el).css("margin-left")+"; margin-right   : "+e(t.el).css("margin-right")+"; width          : "+(w2utils.getSize(t.el,"width")-parseInt(e(t.el).css("margin-left"),10)-parseInt(e(t.el).css("margin-right"),10))+"px;";"enum"==t.type&&(i='<div class="w2ui-field-helper w2ui-list" style="'+n+'; box-sizing: border-box">    <div style="padding: 0px; margin: 0px; margin-right: 20px; display: inline-block">    <ul>        <li style="padding-left: 0px; padding-right: 0px" class="nomouse">            <input type="text" style="width: 20px" autocomplete="off" '+(e(t.el).attr("readonly")?"readonly":"")+">        </li>"),"file"==t.type&&(i='<div class="w2ui-field-helper w2ui-list" style="'+n+'; box-sizing: border-box">    <div style="padding: 0px; margin: 0px; margin-right: 20px; display: inline-block">    <ul><li style="padding-left: 0px; padding-right: 0px" class="nomouse"></li></ul>    <input class="file-input" type="file" name="attachment" multiple style="display: none" tabindex="-1">'),e(t.el).before(i).css({"background-color":"transparent","border-color":"transparent"});var r=e(t.el).prev();t.helpers.multi=r,"enum"==t.type&&(e(t.el).attr("tabindex",-1),r.find("input").on("click",function(i){0==e("#w2ui-overlay").length&&t.focus(i),e(t.el).triggerHandler("click")}).on("focus",function(i){e(r).css({outline:"auto 5px #7DB4F3","outline-offset":"-2px"}),e(t.el).triggerHandler("focus"),i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}).on("blur",function(i){e(r).css("outline","none"),e(t.el).triggerHandler("blur"),i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}).on("keyup",function(e){t.keyUp(e)}).on("keydown",function(e){t.keyDown(e)}).on("keypress",function(e){r.find(".w2ui-enum-placeholder").remove(),t.keyPress(e)}),r.on("click",function(){e(this).find("input").focus()})),"file"==t.type&&(e(t.el).css("outline","none"),r.on("click",function(i){e(t.el).focus(),e(t.el).attr("readonly")||(t.blur(i),r.find("input").click())}).on("dragenter",function(){e(t.el).attr("readonly")||e(r).addClass("w2ui-file-dragover")}).on("dragleave",function(i){if(!e(t.el).attr("readonly")){var n=e(i.target).parents(".w2ui-field-helper");0==n.length&&e(r).removeClass("w2ui-file-dragover")}}).on("drop",function(i){if(!e(t.el).attr("readonly")){e(r).removeClass("w2ui-file-dragover");for(var n=i.originalEvent.dataTransfer.files,s=0,o=n.length;o>s;s++)t.addFile.call(t,n[s]);i.preventDefault(),i.stopPropagation()}}).on("dragover",function(e){e.preventDefault(),e.stopPropagation()}),r.find("input").on("click",function(e){e.stopPropagation()}).on("change",function(){if("undefined"!=typeof this.files)for(var e=0,i=this.files.length;i>e;e++)t.addFile.call(t,this.files[e])})),t.refresh()},addFile:function(t){var i,n=this,r=this.options,s=e(n.el).data("selected"),o={name:t.name,type:t.type,modified:t.lastModifiedDate,size:t.size,content:null},a=0,l=0;for(var d in s)a+=s[d].size,l++;var u=n.trigger({phase:"before",type:"add",target:n.el,file:o,total:l,totalSize:a});if(u.isCancelled!==!0){if(0!==r.maxFileSize&&o.size>r.maxFileSize)return i="Maximum file size is "+w2utils.size(r.maxFileSize),r.silent===!1&&e(n.el).w2tag(i),void console.log("ERROR: "+i);if(0!==r.maxSize&&a+o.size>r.maxSize)return i="Maximum total size is "+w2utils.size(r.maxSize),r.silent===!1&&e(n.el).w2tag(i),void console.log("ERROR: "+i);if(0!==r.max&&l>=r.max)return i="Maximum number of files is "+r.max,r.silent===!1&&e(n.el).w2tag(i),void console.log("ERROR: "+i);if(s.push(o),"undefined"!=typeof FileReader){var c=new FileReader;c.onload=function(){return function(t){var i=t.target.result,r=i.indexOf(",");o.content=i.substr(r+1),n.refresh(),e(n.el).trigger("change"),n.trigger(e.extend(u,{phase:"after"}))}}(),c.readAsDataURL(t)}else n.refresh(),e(n.el).trigger("change")}},normMenu:function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)"string"==typeof t[i]?t[i]={id:t[i],text:t[i]}:("undefined"!=typeof t[i].text&&"undefined"==typeof t[i].id&&(t[i].id=t[i].text),"undefined"==typeof t[i].text&&"undefined"!=typeof t[i].id&&(t[i].text=t[i].id),"undefined"!=typeof t[i].caption&&(t[i].text=t[i].caption));return t}if("object"==typeof t){var n=[];for(var i in t)n.push({id:i,text:t[i]});return n}},getColorHTML:function(){for(var t='<div class="w2ui-color"><table cellspacing="5">',i=0;8>i;i++){t+="<tr>";for(var n=0;8>n;n++)t+='<td>    <div class="color" style="background-color: #'+this.pallete[i][n]+';" name="'+this.pallete[i][n]+'" index="'+i+":"+n+'">        '+(e(this.el).val()==this.pallete[i][n]?"&#149;":"&nbsp;")+"    </div></td>";t+="</tr>",2>i&&(t+='<tr><td style="height: 8px" colspan="8"></td></tr>')}return t+="</table></div>"},getMonthHTML:function(e,t){var i=new Date,n=w2utils.settings.fullmonths,r=(w2utils.settings.fulldays,["31","28","31","30","31","30","31","31","30","31","30","31"]),s=i.getFullYear()+"/"+(Number(i.getMonth())+1)+"/"+i.getDate();t=w2utils.isInt(t)?parseInt(t):i.getFullYear(),e=w2utils.isInt(e)?parseInt(e):i.getMonth()+1,e>12&&(e-=12,t++),(1>e||0===e)&&(e+=12,t--),r[1]=t/4==Math.floor(t/4)?"29":"28",this.options.current=e+"/"+t,i=new Date(t,e-1,1);for(var o=i.getDay(),a=w2utils.settings.shortdays,l="",d=0,u=a.length;u>d;d++)l+="<td>"+a[d]+"</td>";for(var c='<div class="w2ui-calendar-title title">    <div class="w2ui-calendar-previous previous"> <div></div> </div>    <div class="w2ui-calendar-next next"> <div></div> </div> '+n[e-1]+", "+t+'</div><table class="w2ui-calendar-days" cellspacing="0">    <tr class="w2ui-day-title">'+l+"</tr>    <tr>",h=1,p=1;43>p;p++){if(0===o&&1==p){for(var f=0;6>f;f++)c+='<td class="w2ui-day-empty">&nbsp;</td>';p+=6}else if(o>p||h>r[e-1]){c+='<td class="w2ui-day-empty">&nbsp;</td>',p%7===0&&(c+="</tr><tr>");continue}var m=t+"/"+e+"/"+h,g="";p%7==6&&(g=" w2ui-saturday"),p%7===0&&(g=" w2ui-sunday"),m==s&&(g+=" w2ui-today");var v=h,y="",b="",w=w2utils.formatDate(m,this.options.format);this.options.colored&&void 0!==this.options.colored[w]&&(tmp=this.options.colored[w].split(":"),b="background-color: "+tmp[0]+";",y="color: "+tmp[1]+";"),c+='<td class="'+(this.inRange(w)?"w2ui-date ":"w2ui-blocked")+g+'" style="'+y+b+'" date="'+w+'">'+v+"</td>",(p%7===0||0===o&&1==p)&&(c+="</tr><tr>"),h++}return c+="</tr></table>"},getYearHTML:function(){var e=w2utils.settings.shortmonths,t="",i="";for(var n in e)t+='<div class="w2ui-jump-month" name="'+n+'">'+e[n]+"</div>";for(var r=1950;2020>=r;r++)i+='<div class="w2ui-jump-year" name="'+r+'">'+r+"</div>";return"<div>"+t+"</div><div>"+i+"</div>"},getHourHTML:function(){for(var e=[],t="h24"==this.options.format?!0:!1,i=0;24>i;i++){var n=(i>=12&&!t?i-12:i)+":00"+(t?"":12>i?" am":" pm");12!=i||t||(n="12:00 pm"),e[Math.floor(i/8)]||(e[Math.floor(i/8)]="");var r=this.fromMin(this.toMin(n)),s=this.fromMin(this.toMin(n)+59);e[Math.floor(i/8)]+='<div class="'+(this.inRange(r)||this.inRange(s)?"w2ui-time ":"w2ui-blocked")+'" hour="'+i+'">'+n+"</div>"}var o='<div class="w2ui-calendar-time"><table><tr>    <td>'+e[0]+"</td>    <td>"+e[1]+"</td>    <td>"+e[2]+"</td></tr></table></div>";return o},getMinHTML:function(e){"undefined"==typeof e&&(e=0);for(var t="h24"==this.options.format?!0:!1,i=[],n=0;60>n;n+=5){var r=(e>12&&!t?e-12:e)+":"+(10>n?0:"")+n+" "+(t?"":12>e?"am":"pm"),s=20>n?0:40>n?1:2;i[s]||(i[s]=""),i[s]+='<div class="'+(this.inRange(r)?"w2ui-time ":"w2ui-blocked")+'" min="'+n+'">'+r+"</div>"}var o='<div class="w2ui-calendar-time"><table><tr>    <td>'+i[0]+"</td>    <td>"+i[1]+"</td>    <td>"+i[2]+"</td></tr></table></div>";return o},toMin:function(e){if("string"!=typeof e)return null;var t=e.split(":");return 2!=t.length?null:(t[0]=parseInt(t[0]),t[1]=parseInt(t[1]),-1!=e.indexOf("pm")&&12!=t[0]&&(t[0]+=12),60*t[0]+t[1])},fromMin:function(e){var t="";e>=1440&&(e%=1440),0>e&&(e=1440+e);var i=Math.floor(e/60),n=(10>e%60?"0":"")+e%60;return t=-1!=this.options.format.indexOf("h24")?i+":"+n:(12>=i?i:i-12)+":"+n+" "+(i>=12?"pm":"am")}},e.extend(t.prototype,w2utils.event),w2obj.field=t}(jQuery),function(){var w2form=function(e){this.name=null,this.header="",this.box=null,this.url="",this.routeData={},this.formURL="",this.formHTML="",this.page=0,this.recid=0,this.fields=[],this.actions={},this.record={},this.original={},this.postData={},this.toolbar={},this.tabs={},this.style="",this.focus=0,this.msgNotJSON=w2utils.lang("Return data is not in JSON format."),this.msgAJAXerror=w2utils.lang("AJAX error. See console for more details."),this.msgRefresh=w2utils.lang("Refreshing..."),this.msgSaving=w2utils.lang("Saving..."),this.onRequest=null,this.onLoad=null,this.onValidate=null,this.onSubmit=null,this.onSave=null,this.onChange=null,this.onRender=null,this.onRefresh=null,this.onResize=null,this.onDestroy=null,this.onAction=null,this.onToolbar=null,this.onError=null,this.isGenerated=!1,this.last={xhr:null},$.extend(!0,this,w2obj.form,e)};$.fn.w2form=function(e){if("object"==typeof e||!e){var t=this;if(!w2utils.checkName(e,"w2form"))return;var i=e.record,n=e.original,r=e.fields,s=e.toolbar,o=e.tabs,a=new w2form(e);if($.extend(a,{record:{},original:{},fields:[],tabs:{},toolbar:{},handlers:[]}),$.isArray(o)){$.extend(!0,a.tabs,{tabs:[]});for(var l in o){var d=o[l];a.tabs.tabs.push("object"==typeof d?d:{id:d,caption:d})}}else $.extend(!0,a.tabs,o);$.extend(!0,a.toolbar,s);for(var u in r){var c=$.extend(!0,{},r[u]);"undefined"==typeof c.name&&"undefined"!=typeof c.field&&(c.name=c.field),"undefined"==typeof c.field&&"undefined"!=typeof c.name&&(c.field=c.name),a.fields[u]=c}for(var u in i)a.record[u]=$.isPlainObject(i[u])?$.extend(!0,{},i[u]):i[u];for(var u in n)a.original[u]=$.isPlainObject(n[u])?$.extend(!0,{},n[u]):n[u];return t.length>0&&(a.box=t[0]),""!=a.formURL?$.get(a.formURL,function(e){a.formHTML=e,a.isGenerated=!0,(0!=$(a.box).length||0!=e.length)&&($(a.box).html(e),a.render(a.box))}):""!=a.formHTML||(a.formHTML=0!=$(this).length&&""!=$.trim($(this).html())?$(this).html():a.generateHTML()),w2ui[a.name]=a,""==a.formURL&&(-1==String(a.formHTML).indexOf("w2ui-page")&&(a.formHTML='<div class="w2ui-page page-0">'+a.formHTML+"</div>"),$(a.box).html(a.formHTML),a.isGenerated=!0,a.render(a.box)),a}if(w2ui[$(this).attr("name")]){var t=w2ui[$(this).attr("name")];return t[e].apply(t,Array.prototype.slice.call(arguments,1)),this}console.log("ERROR: Method "+e+" does not exist on jQuery.w2form")},w2form.prototype={get:function(e,t){if(0===arguments.length){var i=[];for(var n in this.fields)null!=this.fields[n].name&&i.push(this.fields[n].name);return i}for(var r in this.fields)if(this.fields[r].name==e)return t===!0?r:this.fields[r];return null},set:function(e,t){for(var i in this.fields)if(this.fields[i].name==e)return $.extend(this.fields[i],t),this.refresh(),!0;return!1},reload:function(e){var t="object"!=typeof this.url?this.url:this.url.get;t&&0!=this.recid?this.request(e):"function"==typeof e&&e()},clear:function(){this.recid=0,this.record={},$().w2tag(),this.refresh()},error:function(e){var t=this.trigger({target:this.name,type:"error",message:e,xhr:this.last.xhr});return t.isCancelled===!0?void("function"==typeof callBack&&callBack()):(setTimeout(function(){w2alert(e,"Error")},1),void this.trigger($.extend(t,{phase:"after"})))},validate:function(e){"undefined"==typeof e&&(e=!0),$().w2tag();var t=[];for(var i in this.fields){var n=this.fields[i];switch(null==this.record[n.name]&&(this.record[n.name]=""),n.type){case"int":this.record[n.name]&&!w2utils.isInt(this.record[n.name])&&t.push({field:n,error:w2utils.lang("Not an integer")});break;case"float":this.record[n.name]&&!w2utils.isFloat(this.record[n.name])&&t.push({field:n,error:w2utils.lang("Not a float")});break;case"money":this.record[n.name]&&!w2utils.isMoney(this.record[n.name])&&t.push({field:n,error:w2utils.lang("Not in money format")});break;case"color":case"hex":this.record[n.name]&&!w2utils.isHex(this.record[n.name])&&t.push({field:n,error:w2utils.lang("Not a hex number")});break;case"email":this.record[n.name]&&!w2utils.isEmail(this.record[n.name])&&t.push({field:n,error:w2utils.lang("Not a valid email")});break;case"checkbox":this.record[n.name]=1==this.record[n.name]?1:0;break;case"date":n.options.format||(n.options.format=w2utils.settings.date_format),this.record[n.name]&&!w2utils.isDate(this.record[n.name],n.options.format)&&t.push({field:n,error:w2utils.lang("Not a valid date")+": "+n.options.format});break;case"list":case"combo":break;case"enum":}var r=this.record[n.name];n.required&&(""===r||$.isArray(r)&&0==r.length||$.isPlainObject(r)&&$.isEmptyObject(r))&&t.push({field:n,error:w2utils.lang("Required field")}),n.equalto&&this.record[n.name]!=this.record[n.equalto]&&t.push({field:n,error:w2utils.lang("Field should be equal to ")+n.equalto})}var s=this.trigger({phase:"before",target:this.name,type:"validate",errors:t});if(s.isCancelled!==!0){if(e)for(var o in s.errors){var a=s.errors[o];"radio"==a.field.type?$($(a.field.el).parents("div")[0]).w2tag(a.error,{"class":"w2ui-error"}):-1!=["enum","file"].indexOf(a.field.type)?!function(e){setTimeout(function(){var t=$(e.field.el).data("w2field").helpers.multi;$(e.field.el).w2tag(e.error),$(t).addClass("w2ui-error")},1)}(a):$(a.field.el).w2tag(a.error,{"class":"w2ui-error"}),this["goto"](t[0].field.page)}return this.trigger($.extend(s,{phase:"after"})),t}},getChanges:function(){var e=function(t,i,n){for(var r in t)"object"==typeof t[r]?(n[r]=e(t[r],i[r]||{},{}),(!n[r]||$.isEmptyObject(n[r]))&&delete n[r]):t[r]!=i[r]&&(n[r]=t[r]);return n};return e(this.record,this.original,{})},request:function(postData,callBack){var obj=this;if("function"==typeof postData&&(callBack=postData,postData=null),("undefined"==typeof postData||null==postData)&&(postData={}),this.url&&("object"!=typeof this.url||this.url.get)){(null==this.recid||"undefined"==typeof this.recid)&&(this.recid=0);var params={};params.cmd="get-record",params.recid=this.recid,$.extend(params,this.postData),$.extend(params,postData);var eventData=this.trigger({phase:"before",type:"request",target:this.name,url:this.url,postData:params});if(eventData.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));this.record={},this.original={},this.lock(this.msgRefresh);var url=eventData.url;if("object"==typeof eventData.url&&eventData.url.get&&(url=eventData.url.get),this.last.xhr)try{this.last.xhr.abort()}catch(e){}if(!$.isEmptyObject(obj.routeData)){var info=w2utils.parseRoute(url);if(info.keys.length>0)for(var k=0;k<info.keys.length;k++)null!=obj.routeData[info.keys[k].name]&&(url=url.replace(new RegExp(":"+info.keys[k].name,"g"),obj.routeData[info.keys[k].name]))}var ajaxOptions={type:"POST",url:url,data:eventData.postData,dataType:"text"};"HTTP"==w2utils.settings.dataType&&(ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"RESTFULL"==w2utils.settings.dataType&&(ajaxOptions.type="GET",ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"JSON"==w2utils.settings.dataType&&(ajaxOptions.type="POST",ajaxOptions.data=JSON.stringify(ajaxOptions.data),ajaxOptions.contentType="application/json"),this.last.xhr=$.ajax(ajaxOptions).done(function(data,status,xhr){obj.unlock();var eventData=obj.trigger({phase:"before",target:obj.name,type:"load",xhr:xhr});if(eventData.isCancelled===!0)return void("function"==typeof callBack&&callBack({status:"error",message:"Request aborted."}));var data,responseText=obj.last.xhr.responseText;if("error"!=status){if("undefined"!=typeof responseText&&""!=responseText){if("object"==typeof responseText)data=responseText;else try{eval("data = "+responseText)}catch(e){}"undefined"==typeof data&&(data={status:"error",message:obj.msgNotJSON,responseText:responseText}),"error"==data.status?obj.error(data.message):(obj.record=$.extend({},data.record),obj.original=$.extend({},data.record))}}else obj.error("AJAX Error "+xhr.status+": "+xhr.statusText),data={status:"error",message:obj.msgAJAXerror,responseText:responseText};obj.trigger($.extend(eventData,{phase:"after"})),obj.refresh(),"function"==typeof callBack&&callBack(data)}).fail(function(e,t,i){var n={status:t,error:i,rawResponseText:e.responseText},r=obj.trigger({phase:"before",type:"error",error:n,xhr:e});if(r.isCancelled!==!0){if("abort"!=t){var s;try{s=$.parseJSON(e.responseText)}catch(o){}console.log("ERROR: Server communication failed.","\n   EXPECTED:",{status:"success",items:[{id:1,text:"item"}]},"\n         OR:",{status:"error",message:"error message"},"\n   RECEIVED:","object"==typeof s?s:e.responseText)}obj.trigger($.extend(r,{phase:"after"}))}}),this.trigger($.extend(eventData,{phase:"after"}))}},submit:function(e,t){return this.save(e,t)},save:function(postData,callBack){var obj=this;$(this.box).find(":focus").change(),"function"==typeof postData&&(callBack=postData,postData=null);var errors=obj.validate(!0);if(0===errors.length){if(("undefined"==typeof postData||null==postData)&&(postData={}),!obj.url||"object"==typeof obj.url&&!obj.url.save)return void console.log("ERROR: Form cannot be saved because no url is defined.");obj.lock(obj.msgSaving+' <span id="'+obj.name+'_progress"></span>'),setTimeout(function(){var params={};params.cmd="save-record",params.recid=obj.recid,$.extend(params,obj.postData),$.extend(params,postData),params.record=$.extend(!0,{},obj.record);var eventData=obj.trigger({phase:"before",type:"submit",target:obj.name,url:obj.url,postData:params});if(eventData.isCancelled!==!0){var url=eventData.url;if("object"==typeof eventData.url&&eventData.url.save&&(url=eventData.url.save),obj.last.xhr)try{obj.last.xhr.abort()}catch(e){}if(!$.isEmptyObject(obj.routeData)){var info=w2utils.parseRoute(url);if(info.keys.length>0)for(var k=0;k<info.keys.length;k++)null!=obj.routeData[info.keys[k].name]&&(url=url.replace(new RegExp(":"+info.keys[k].name,"g"),obj.routeData[info.keys[k].name]))}var ajaxOptions={type:"POST",url:url,data:eventData.postData,dataType:"text",xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);$("#"+obj.name+"_progress").text(""+t+"%")}},!1),e}};"HTTP"==w2utils.settings.dataType&&(ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"RESTFULL"==w2utils.settings.dataType&&(0!=obj.recid&&(ajaxOptions.type="PUT"),ajaxOptions.data=String($.param(ajaxOptions.data,!1)).replace(/%5B/g,"[").replace(/%5D/g,"]")),"JSON"==w2utils.settings.dataType&&(ajaxOptions.type="POST",ajaxOptions.data=JSON.stringify(ajaxOptions.data),ajaxOptions.contentType="application/json"),obj.last.xhr=$.ajax(ajaxOptions).done(function(data,status,xhr){obj.unlock();var eventData=obj.trigger({phase:"before",target:obj.name,type:"save",xhr:xhr,status:status});if(eventData.isCancelled!==!0){var data,responseText=xhr.responseText;if("error"!=status){if("undefined"!=typeof responseText&&""!=responseText){if("object"==typeof responseText)data=responseText;else try{eval("data = "+responseText)}catch(e){}"undefined"==typeof data&&(data={status:"error",message:obj.msgNotJSON,responseText:responseText}),"error"==data.status?obj.error(data.message):obj.original=$.extend({},obj.record)}}else obj.error("AJAX Error "+xhr.status+": "+xhr.statusText),data={status:"error",message:obj.msgAJAXerror,responseText:responseText};obj.trigger($.extend(eventData,{phase:"after"})),obj.refresh(),"success"==data.status&&"function"==typeof callBack&&callBack(data)}}).fail(function(e,t,i){var n={status:t,error:i,rawResponseText:e.responseText},r=obj.trigger({phase:"before",type:"error",error:n,xhr:e});r.isCancelled!==!0&&(console.log("ERROR: server communication failed. The server should return",{status:"success"},"OR",{status:"error",message:"error message"},", instead the AJAX request produced this: ",n),obj.trigger($.extend(r,{phase:"after"})))}),obj.trigger($.extend(eventData,{phase:"after"}))}},50)}},lock:function(){var e=$(this.box).find("> div:first-child"),t=Array.prototype.slice.call(arguments,0);t.unshift(e),w2utils.lock.apply(window,t)},unlock:function(){var e=this;setTimeout(function(){w2utils.unlock(e.box)},25)},"goto":function(e){"undefined"!=typeof e&&(this.page=e),$(this.box).data("auto-size")===!0&&$(this.box).height(0),this.refresh()},generateHTML:function(){var e,t=[],i="";for(var n in this.fields){var r="",s=this.fields[n];"undefined"==typeof s.html&&(s.html={}),s.html=$.extend(!0,{caption:"",span:6,attr:"",text:"",page:0},s.html),"undefined"==typeof e&&(e=s.html.page),""==s.html.caption&&(s.html.caption=s.name);var o='<input name="'+s.name+'" type="text" '+s.html.attr+"/>";("pass"===s.type||"password"===s.type)&&(o='<input name="'+s.name+'" type = "password" '+s.html.attr+"/>"),"checkbox"==s.type&&(o='<input name="'+s.name+'" type="checkbox" '+s.html.attr+"/>"),"textarea"==s.type&&(o='<textarea name="'+s.name+'" '+s.html.attr+"></textarea>"),"toggle"==s.type&&(o='<input name="'+s.name+'" type="checkbox" '+s.html.attr+' class="w2ui-toggle"/><div><div></div></div>'),s.html.group&&(""!=i&&(r+="\n   </div>"),r+='\n   <div class="w2ui-group-title">'+s.html.group+'</div>\n   <div class="w2ui-group">',i=s.html.group),s.html.page!=e&&""!=i&&(t[t.length-1]+="\n   </div>",i=""),r+='\n      <div class="w2ui-field '+("undefined"!=typeof s.html.span?"w2ui-span"+s.html.span:"")+'">\n         <label>'+w2utils.lang(s.html.caption)+"</label>\n         <div>"+o+w2utils.lang(s.html.text)+"</div>\n      </div>","undefined"==typeof t[s.html.page]&&(t[s.html.page]=""),t[s.html.page]+=r,e=s.html.page}if(""!=i&&(t[t.length-1]+="\n   </div>"),this.tabs.tabs)for(var a=0;a<this.tabs.tabs.length;a++)"undefined"==typeof t[a]&&(t[a]="");for(var l in t)t[l]='<div class="w2ui-page page-'+l+'">'+t[l]+"\n</div>";var d="";if(!$.isEmptyObject(this.actions)){var u="";d+='\n<div class="w2ui-buttons">';for(var c in this.actions)u=-1!=["save","update","create"].indexOf(c.toLowerCase())?"btn-green":"",d+='\n    <button name="'+c+'" class="btn '+u+'">'+w2utils.lang(c)+"</button>";d+="\n</div>"}return t.join("")+d},action:function(e,t){var i=this.trigger({phase:"before",target:e,type:"action",originalEvent:t});i.isCancelled!==!0&&("function"==typeof this.actions[e]&&this.actions[e].call(this,t),this.trigger($.extend(i,{phase:"after"})))},resize:function(){function e(){n.width($(t.box).width()).height($(t.box).height()),s.css("top",""!=t.header?w2utils.getSize(r,"height"):0),o.css("top",(""!=t.header?w2utils.getSize(r,"height"):0)+("object"==typeof t.toolbar&&$.isArray(t.toolbar.items)&&t.toolbar.items.length>0?w2utils.getSize(s,"height"):0)),a.css("top",(""!=t.header?w2utils.getSize(r,"height"):0)+("object"==typeof t.toolbar&&$.isArray(t.toolbar.items)&&t.toolbar.items.length>0?w2utils.getSize(s,"height")+5:0)+("object"==typeof t.tabs&&$.isArray(t.tabs.tabs)&&t.tabs.tabs.length>0?w2utils.getSize(o,"height")+5:0)),a.css("bottom",u.length>0?w2utils.getSize(u,"height"):0)}var t=this,i=this.trigger({phase:"before",target:this.name,type:"resize"});if(i.isCancelled!==!0){var n=$(this.box).find("> div"),r=$(this.box).find("> div .w2ui-form-header"),s=$(this.box).find("> div .w2ui-form-toolbar"),o=$(this.box).find("> div .w2ui-form-tabs"),a=$(this.box).find("> div .w2ui-page"),l=$(this.box).find("> div .w2ui-page.page-"+this.page),d=$(this.box).find("> div .w2ui-page.page-"+this.page+" > div"),u=$(this.box).find("> div .w2ui-buttons");e(),(0==parseInt($(this.box).height())||$(this.box).data("auto-size")===!0)&&($(this.box).height((r.length>0?w2utils.getSize(r,"height"):0)+("object"==typeof this.tabs&&$.isArray(this.tabs.tabs)&&this.tabs.tabs.length>0?w2utils.getSize(o,"height"):0)+("object"==typeof this.toolbar&&$.isArray(this.toolbar.items)&&this.toolbar.items.length>0?w2utils.getSize(s,"height"):0)+(a.length>0?w2utils.getSize(d,"height")+w2utils.getSize(l,"+height")+12:0)+(u.length>0?w2utils.getSize(u,"height"):0)),$(this.box).data("auto-size",!0)),e(),t.trigger($.extend(i,{phase:"after"}))}},refresh:function(){var e=(new Date).getTime(),t=this;if(this.box&&this.isGenerated&&"undefined"!=typeof $(this.box).html()){$(this.box).find("input, textarea, select").each(function(e,i){var n=$(i).attr("undefined"!=typeof $(i).attr("name")?"name":"id"),r=t.get(n);if(r){var s=$(i).parents(".w2ui-page");if(s.length>0)for(var o=0;100>o;o++)if(s.hasClass("page-"+o)){r.page=o;break}}});var i=this.trigger({phase:"before",target:this.name,type:"refresh",page:this.page});if(i.isCancelled!==!0){$(this.box).find(".w2ui-page").hide(),
$(this.box).find(".w2ui-page.page-"+this.page).show(),$(this.box).find(".w2ui-form-header").html(this.header),"object"==typeof this.tabs&&$.isArray(this.tabs.tabs)&&this.tabs.tabs.length>0?($("#form_"+this.name+"_tabs").show(),this.tabs.active=this.tabs.tabs[this.page].id,this.tabs.refresh()):$("#form_"+this.name+"_tabs").hide(),"object"==typeof this.toolbar&&$.isArray(this.toolbar.items)&&this.toolbar.items.length>0?($("#form_"+this.name+"_toolbar").show(),this.toolbar.refresh()):$("#form_"+this.name+"_toolbar").hide();for(var n in this.fields){var r=this.fields[n];"undefined"==typeof r.name&&"undefined"!=typeof r.field&&(r.name=r.field),"undefined"==typeof r.field&&"undefined"!=typeof r.name&&(r.field=r.name),r.$el=$(this.box).find('[name="'+String(r.name).replace(/\\/g,"\\\\")+'"]'),r.el=r.$el[0],"undefined"==typeof r.el&&console.log('ERROR: Cannot associate field "'+r.name+'" with html control. Make sure html control exists with the same name.'),r.el&&(r.el.id=r.name);var s=$(r).data("w2field");s&&s.clear(),$(r.$el).off("change").on("change",function(){var e=this.value,i=t.record[this.name]?t.record[this.name]:"",n=t.get(this.name);if(-1!=["list","enum","file"].indexOf(n.type)&&$(this).data("selected")){var r=$(this).data("selected"),s=t.record[this.name];if($.isArray(r)){e=[];for(var o in r)e[o]=$.extend(!0,{},r[o])}if($.isPlainObject(r)&&(e=$.extend(!0,{},r)),$.isArray(s)){i=[];for(var o in s)i[o]=$.extend(!0,{},s[o])}$.isPlainObject(s)&&(i=$.extend(!0,{},s))}if("toggle"==n.type&&(e=$(this).prop("checked")?1:0),-1!=["int","float","percent","money","currency"].indexOf(n.type)&&(e=$(this).data("w2field").clean(e)),e!==i){var a=t.trigger({phase:"before",target:this.name,type:"change",value_new:e,value_previous:i});if(a.isCancelled===!0)return void $(this).val(t.record[this.name]);var l=this.value;if("select"==this.type&&(l=this.value),"checkbox"==this.type&&(l=this.checked?!0:!1),"radio"==this.type&&n.$el.each(function(e,t){t.checked&&(l=t.value)}),-1!=["int","float","percent","money","currency","list","combo","enum","file","toggle"].indexOf(n.type)&&(l=e),-1!=["enum","file"].indexOf(n.type)&&l.length>0){var d=$(n.el).data("w2field").helpers.multi;$(d).removeClass("w2ui-error")}t.record[this.name]=l,t.trigger($.extend(a,{phase:"after"}))}}),r.required?$(r.el).parent().parent().addClass("w2ui-required"):$(r.el).parent().parent().removeClass("w2ui-required")}$(this.box).find("button, input[type=button]").each(function(e,i){$(i).off("click").on("click",function(e){var i=this.value;this.id&&(i=this.id),this.name&&(i=this.name),t.action(i,e)})});for(var n in this.fields){var r=this.fields[n],o="undefined"!=typeof this.record[r.name]?this.record[r.name]:"";if(r.el)switch(r.type=String(r.type).toLowerCase(),r.options||(r.options={}),r.type){case"text":case"textarea":case"email":case"pass":case"password":r.el.value=o;break;case"int":case"float":case"money":case"currency":case"percent":case"hex":case"alphanumeric":case"color":case"date":case"time":r.el.value=o,$(r.el).w2field($.extend({},r.options,{type:r.type}));break;case"toggle":w2utils.isFloat(o)&&(o=parseFloat(o)),$(r.el).prop("checked",o?!0:!1),this.record[r.name]=o?1:0;break;case"list":case"combo":if("list"!=r.type||$.isPlainObject(o))r.el.value="combo"!=r.type||$.isPlainObject(o)?$.isPlainObject(o)&&"undefined"!=typeof o.text?o.text:"":o;else for(var a in r.options.items){var l=r.options.items[a];if($.isPlainObject(l)&&l.id==o){o=$.extend(!0,{},l),t.record[r.name]=o;break}if(a==o){o={id:a,text:l},t.record[r.name]=o;break}}$.isPlainObject(o)||(o={}),$(r.el).w2field($.extend({},r.options,{type:r.type,selected:o}));break;case"enum":case"file":$.isArray(o)||(o=[]),$(r.el).w2field($.extend({},r.options,{type:r.type,selected:o}));break;case"select":var d=r.options.items;if("undefined"!=typeof d&&d.length>0){d=w2obj.field.prototype.normMenu(d),$(r.el).html("");for(var u in d)$(r.el).append('<option value="'+d[u].id+'">'+d[u].text+"</option")}$(r.el).val(o);break;case"radio":$(r.$el).prop("checked",!1).each(function(e,t){$(t).val()==o&&$(t).prop("checked",!0)});break;case"checkbox":$(r.el).prop("checked",o?!0:!1);break;default:$(r.el).w2field($.extend({},r.options,{type:r.type}))}}for(var s=$(this.box).find(".w2ui-page"),a=0;a<s.length;a++)$(s[a]).find("> *").length>1&&$(s[a]).wrapInner("<div></div>");return this.trigger($.extend(i,{phase:"after"})),this.resize(),(new Date).getTime()-e}}},render:function(e){function t(){var e=$(n.box).find("input, select, textarea");e.length>n.focus&&e[n.focus].focus()}var i=(new Date).getTime(),n=this;if("object"==typeof e&&($(this.box).find("#form_"+this.name+"_tabs").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-form").html(""),this.box=e),this.isGenerated&&this.box){var r=this.trigger({phase:"before",target:this.name,type:"render",box:"undefined"!=typeof e?e:this.box});if(r.isCancelled!==!0){$.isEmptyObject(this.original)&&!$.isEmptyObject(this.record)&&(this.original=$.extend(!0,{},this.record));var s="<div>"+(""!=this.header?'<div class="w2ui-form-header">'+this.header+"</div>":"")+'    <div id="form_'+this.name+'_toolbar" class="w2ui-form-toolbar"></div>    <div id="form_'+this.name+'_tabs" class="w2ui-form-tabs"></div>'+this.formHTML+"</div>";$(this.box).attr("name",this.name).addClass("w2ui-reset w2ui-form").html(s),$(this.box).length>0&&($(this.box)[0].style.cssText+=this.style),"function"!=typeof this.toolbar.render&&(this.toolbar=$().w2toolbar($.extend({},this.toolbar,{name:this.name+"_toolbar",owner:this})),this.toolbar.on("click",function(e){var t=n.trigger({phase:"before",type:"toolbar",target:e.target,originalEvent:e});t.isCancelled!==!0&&n.trigger($.extend(t,{phase:"after"}))})),"object"==typeof this.toolbar&&"function"==typeof this.toolbar.render&&this.toolbar.render($("#form_"+this.name+"_toolbar")[0]),"function"!=typeof this.tabs.render&&(this.tabs=$().w2tabs($.extend({},this.tabs,{name:this.name+"_tabs",owner:this})),this.tabs.on("click",function(e){n["goto"](this.get(e.target,!0))})),"object"==typeof this.tabs&&"function"==typeof this.tabs.render&&this.tabs.render($("#form_"+this.name+"_tabs")[0]),this.trigger($.extend(r,{phase:"after"})),this.resize();var o="object"!=typeof this.url?this.url:this.url.get;return o&&0!=this.recid?this.request():this.refresh(),0==$(".w2ui-layout").length&&(this.tmp_resize=function(){w2ui[n.name].resize()},$(window).off("resize","body").on("resize","body",this.tmp_resize)),setTimeout(function(){n.resize(),n.refresh()},150),this.focus>=0&&setTimeout(t,500),(new Date).getTime()-i}}},destroy:function(){var e=this.trigger({phase:"before",target:this.name,type:"destroy"});e.isCancelled!==!0&&("object"==typeof this.toolbar&&this.toolbar.destroy&&this.toolbar.destroy(),"object"==typeof this.tabs&&this.tabs.destroy&&this.tabs.destroy(),$(this.box).find("#form_"+this.name+"_tabs").length>0&&$(this.box).removeAttr("name").removeClass("w2ui-reset w2ui-form").html(""),delete w2ui[this.name],this.trigger($.extend(e,{phase:"after"})),$(window).off("resize","body"))}},$.extend(w2form.prototype,w2utils.event),w2obj.form=w2form}()}).call(exports,__webpack_require__(2),__webpack_require__(2))},98:function(e,t,i){t=e.exports=i(99)(),t.push([e.id,"@font-face{font-family:w2ui-font;src:url(\"data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAWIAAoAAAAACAgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAEMAAABWQLxMsmNtYXAAAAE4AAAAOgAAAUriGRC2Z2x5ZgAAAXQAAAH9AAACgLu4vTRoZWFkAAADdAAAADAAAAA2AOYXBGhoZWEAAAOkAAAAIAAAACQD8wHHaG10eAAAA8QAAAAWAAAAIA7dAABsb2NhAAAD3AAAABIAAAASAngBuG1heHAAAAPwAAAAHwAAACABFQA2bmFtZQAABBAAAAEtAAACIsTQ/zJwb3N0AAAFQAAAAEgAAABi4/7ZEHicY2BkvMM4gYGVgYPRhTGNgYHBHUp/ZZBkaGFgYGJgZWbACgLSXFMYHD4yfmRnPPD/AIMe4wEGR6AwI0gOANHZC/IAeJxjYGBgZoBgGQZGBhBwAfIYwXwWBg0gzQakGRmYGBg+sv//D1LwkRFE8zNA1QMBIxvDiAcAddwGvgAAeJxFkLFv01AQxu97LrHdRImjpnaS1gnEia3IoqAktkkiEhaEOiCsDkEo8dyBDkytKpYKVWwssKKKAYmBREKMLJSFoRJ/AGJhY0NZGFgSzrUinvR+d++7T+/ePQLRci4IJ3SFCLIjG8CH+ZPwHHdwkkSS2PMXP3DGmUxpoo123lrt5nj8fjyejsc4W0zwNtl8FfHCKV5QnaOhF3IJUrUbkGPYnSGcGH6risBvGQhdVY0iVXXVkhJN1JL6/6xOIqWk4tRlJiVFiSJFSUrsZ+tkoqpEgt/6Hb/wjtZog2gonBx24AyFJUuNwMvha+/CvLi3vq1f785GsxGuTqfWc5O1N/r2+lNrOl38ZHnWpdUMr/CaLKLGZiHl4hI1+zasGB2/Dy9GSzfRbul4qaWPtHSQ0Y7SWpxmgnSc/mblMKNpmcOVEhfj+5d/8BGfqMl9bKuWFYWKaLf8YIAq9IKc5TY7ojNgTTcC7iEjaN4yPdswbM+81t8UimRLojq66YbdWq0bus375t21bwgcw/H6nmNUyhIkR/DsTasXPgx7VtV8oDx6XIxHE8vl8rMAzqlEDZ7QseUBPP6tLOQKDH5HqooKfLvB2gABa1lgflzI60VxsLd3IJj1YRn5/Wx9Syy++LvArn/JzH4e5WE98TCLer5wnBNb9WcrB5PoH084dg8AAAB4nGNgZGBgAOKMsPib8fw2Xxm4mRhA4PzjbBcY/f////1MjIwHgFwOBrA0AFcuDPF4nGNgZGBgPPD/AIMeEwMDw/9/TEwMQBEUwAEAe34EvHicY2JgYGCCYsbJCJpxO4QNABdTAesAAAAAAAAAEgAsAGgAjgC+AP4BQAAAeJxjYGRgYOBg0GJgZgABJiDmAkIGhv9gPgMADYEBTAB4nG2PTW7CMBCFXyBQFaQKtVKl7qwuuqkIPwsWHAD2LNiH4ARQEkeOQeICPUHP0DP0BF32DD1KX8IoixZbHn/z5o1/AAzwBQ/V8HBbx2q0cMPswm3SQNgnPwl30MezcJf6ULiHV8yE+3hAyBM8vzrtHk64hTu8Cbepvwv75A/hDh7xKdyl/i3cwxo/wn28eLN9ZPJhbHK30skxDW2TN7DWttybXE2CcaMtda5t6PRWbc6qPCVT52IVW5OpBas6TY0qrDnoyAU754r5aBSLHkQmwx4RDHL+Oq53hxU0EhyR8sf2Sv2/smaHRclKlStMEGB8xbekL6+9ITONLb0bnBlLnHjnlKqjW3FZ9mSkhfRqviclKxR17UAloh5gV3cVmGPEGf/xB/Ursl9uDmByAAAAeJxtwUEOgCAMBMAu0sI3SdMEIwKh8n8PXp2hQB+mf5kIAQciGIKEzFpNr6Sj7bs76xruMq3r2eJs22XZtPKIW1laiV6rCBDA\") format(\"woff\");font-weight:400;font-style:normal}[class*=\" w2ui-icon-\"]:before,[class^=w2ui-icon-]:before{font-family:w2ui-font;display:inline-block;vertical-align:middle;line-height:1;font-weight:400;font-style:normal;speak:none;text-decoration:inherit;text-transform:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.w2ui-icon-check:before{content:\"\\F101\"}.w2ui-icon-columns:before{content:\"\\F102\"}.w2ui-icon-cross:before{content:\"\\F103\"}.w2ui-icon-pencil:before{content:\"\\F104\"}.w2ui-icon-plus:before{content:\"\\F105\"}.w2ui-icon-reload:before{content:\"\\F106\"}.w2ui-icon-search:before{content:\"\\F107\"}.w2ui-reset{font-family:Verdana,Arial,sans-serif;font-size:11px}.w2ui-reset,.w2ui-reset *{-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-reset *{color:default;line-height:100%;margin:0;padding:0}.w2ui-reset table{font-family:Verdana,Arial,sans-serif;font-size:11px;max-width:none;background-color:transparent;border-collapse:separate;border-spacing:0}.w2ui-reset input,.w2ui-reset textarea{width:auto;height:auto;vertical-align:baseline;padding:4px}.w2ui-reset select{padding:1px;height:23px}.w2ui-centered{position:absolute;left:0;right:0;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);max-height:100%;margin:0;padding:0 10px;text-align:center}.w2ui-disabled,.w2ui-readonly{background-color:#f1f1f1!important;color:#777!important}input:not([type=button]),select,textarea{padding:4px;border:1px solid #bbb;border-radius:3px;color:#000;background-color:#fff;line-height:normal}input:not([type=button]):focus,select:focus,textarea:focus{outline-color:#72b2ff}input:not([type=button]):disabled,input:not([type=button])[readonly],select:disabled,select[readonly],textarea:disabled,textarea[readonly]{background-color:#f1f1f1;color:#777}input::-ms-clear{display:none}input:-ms-input-placeholder{color:#aaa!important}select{padding:2px}input[type=checkbox].w2ui-toggle{position:absolute;opacity:0;width:46px;height:22px;padding:0;margin:0;margin-left:2px}input[type=checkbox].w2ui-toggle+div{display:inline-block;width:46px;height:22px;border:1px solid #bbb;border-radius:30px;background-color:#eee;-webkit-transition-duration:.3s;-webkit-transition-property:background-color,box-shadow;-moz-transition-duration:.3s;-moz-transition-property:background-color,box-shadow;box-shadow:inset 0 0 0 0 rgba(0,0,0,.4);margin-left:2px}input[type=checkbox].w2ui-toggle:disabled+div{opacity:.3}input[type=checkbox].w2ui-toggle+div>div{float:left;width:22px;height:22px;border-radius:inherit;background:#f5f5f5;-webkit-transition-duration:.3s;-webkit-transition-property:transform,background-color,box-shadow;-moz-transition-duration:.3s;-moz-transition-property:transform,background-color;box-shadow:0 0 1px #323232,0 0 0 1px hsla(0,0%,78%,.6);pointer-events:none;margin-top:-1px;margin-left:-1px}input[type=checkbox].w2ui-toggle:checked+div{border:1px solid #00a23f;box-shadow:inset 0 0 0 9pt #54b350}input[type=checkbox].w2ui-toggle:checked+div>div{-webkit-transform:translate3d(24px,0,0);-moz-transform:translate3d(24px,0,0);background-color:#fff;box-shadow:0 2px 5px rgba(0,0,0,.3),0 0 0 1px #00a23f}input[type=checkbox].w2ui-toggle.blue:checked+div{border:1px solid #206fad;box-shadow:inset 0 0 0 9pt #35a6eb}input[type=checkbox].w2ui-toggle.blue:checked+div>div{box-shadow:0 2px 5px rgba(0,0,0,.3),0 0 0 1px #206fad}input[type=checkbox].w2ui-toggle:focus{outline:0}.w2ui-overlay{position:absolute;margin-top:6px;margin-left:-17px;display:none;z-index:1300;color:inherit;background-color:#fbfbfb;border:3px solid #777;box-shadow:0 2px 10px #999;border-radius:4px;text-align:left}.w2ui-overlay table td{color:inherit}.w2ui-overlay:before{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);margin:-9px 0 0 30px}.w2ui-overlay:after,.w2ui-overlay:before{content:\"\";position:absolute;width:9pt;height:9pt;border:3px solid #777;border-color:inherit;background-color:inherit;border-left:1px solid transparent;border-bottom:1px solid transparent;border-bottom-left-radius:50px}.w2ui-overlay:after{display:none;-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);margin:-7px 0 0 30px}.w2ui-overlay.w2ui-overlay-popup{z-index:1700}.w2ui-tag{position:absolute;z-index:1300;opacity:0;-webkit-transition:opacity .3s;transition:opacity .3s}.w2ui-tag .w2ui-tag-body{background-color:rgba(60,60,60,.82);display:inline-block;position:absolute;border-radius:4px;padding:4px 10px;margin-left:10px;margin-top:0;color:#fff!important;box-shadow:1px 1px 3px #000;line-height:100%;font-size:11px;font-family:Verdana,Arial,sans-serif}.w2ui-tag .w2ui-tag-body:before{content:\"\";position:absolute;width:0;height:0;border-top:5px solid transparent;border-right:5px solid rgba(60,60,60,.82);border-bottom:5px solid transparent;margin:2px 0 0 -15px}.w2ui-tag.w2ui-tag-popup{z-index:1700}.w2ui-overlay table.w2ui-drop-menu{width:100%;color:#000;background-color:#fff;padding:5px 0;cursor:default}.w2ui-overlay table.w2ui-drop-menu td{white-space:nowrap}.w2ui-overlay table.w2ui-drop-menu .w2ui-item-even{color:inherit;background-color:#fff}.w2ui-overlay table.w2ui-drop-menu .w2ui-item-odd{color:inherit;background-color:#f3f6fa}.w2ui-overlay table.w2ui-drop-menu .w2ui-item-group{color:#444;font-weight:700;background-color:#ecedf0;border-bottom:1px solid #d3d2d4}.w2ui-overlay table.w2ui-drop-menu td.menu-icon{padding:3px 0 4px 6px;width:20px}.w2ui-overlay table.w2ui-drop-menu td.menu-text{padding:8px 10px 8px 5px;width:auto}.w2ui-overlay table.w2ui-drop-menu td.menu-count{text-align:right}.w2ui-overlay table.w2ui-drop-menu td.menu-count>span{border:1px solid #9da4af;border-radius:20px;width:auto;height:18px;padding:2px 7px;margin:3px 5px 0;background-color:#e7f0fc;color:#667274;box-shadow:0 0 2px #fff;text-shadow:1px 1px 1px #e6e6e6}.w2ui-overlay table.w2ui-drop-menu tr:hover{color:inherit;background-color:#e6f0ff}.w2ui-overlay table.w2ui-drop-menu tr.w2ui-selected{background-color:#b6d5fb}.w2ui-overlay table.w2ui-drop-menu tr.w2ui-selected td{color:inherit}.w2ui-overlay table.w2ui-drop-menu tr.w2ui-disabled{opacity:.4;background-color:#fff!important}.w2ui-overlay table.w2ui-drop-menu .w2ui-icon{font-size:14px;color:#8d99a7;display:inline-block;padding-top:4px}.w2ui-marker{color:#444;background-color:hsla(55,94%,81%,.48)}.w2ui-spinner{background-size:100%;background-image:url(data:image/gif;base64,R0lGODlhgACAAKIAAP///93d3bu7u5mZmQAA/wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBQAEACwCAAIAfAB8AAAD/0i63P4wygYqmDjrzbtflvWNZGliYXiubKuloivPLlzReD7al+7/Eh5wSFQIi8hHYBkwHUmD6CD5YTJLz49USuVYraRsZ7vtar7XnQ1Kjpoz6LRHvGlz35O4nEPP2O94EnpNc2sef1OBGIOFMId/inB6jSmPdpGScR19EoiYmZobnBCIiZ95k6KGGp6ni4wvqxilrqBfqo6skLW2YBmjDa28r6Eosp27w8Rov8ekycqoqUHODrTRvXsQwArC2NLF29UM19/LtxO5yJd4Au4CK7DUNxPebG4e7+8n8iv2WmQ66BtoYpo/dvfacBjIkITBE9DGlMvAsOIIZjIUAixliv9ixYZVtLUos5GjwI8gzc3iCGghypQqrbFsme8lwZgLZtIcYfNmTJ34WPTUZw5oRxdD9w0z6iOpO15MgTh1BTTJUKos39jE+o/KS64IFVmsFfYT0aU7capdy7at27dw48qdS7eu3bt480I02vUbX2F/JxYNDImw4GiGE/P9qbhxVpWOI/eFKtlNZbWXuzlmG1mv58+gQ4seTbq06dOoU6vGQZJy0FNlMcV+czhQ7SQmYd8eMhPs5BxVdfcGEtV3buDBXQ+fURxx8oM6MT9P+Fh6dOrH2zavc13u9JXVJb520Vp8dvC76wXMuN5Sepm/1WtkEZHDefnzR9Qvsd9+/wi8+en3X0ntYVcSdAE+UN4zs7ln24CaLagghIxBaGF8kFGoIYV+Ybghh841GIyI5ICIFoklJsigihmimJOLEbLYIYwxSgigiZ+8l2KB+Ml4oo/w8dijjcrouCORKwIpnJIjMnkkksalNeR4fuBIm5UEYImhIlsGCeWNNJphpJdSTlkml1jWeOY6TnaRpppUctcmFW9mGSaZceYopH9zkjnjUe59iR5pdapWaGqHopboaYua1qije67GJ6CuJAAAIfkEBQUABAAsCgACAFcAMAAAA/9Iutz+ML5Ag7w46z0r5WAoSp43nihXVmnrdusrv+s332dt4Tyo9yOBUJD6oQBIQGs4RBlHySSKyczVTtHoidocPUNZaZAr9F5FYbGI3PWdQWn1mi36buLKFJvojsHjLnshdhl4L4IqbxqGh4gahBJ4eY1kiX6LgDN7fBmQEJI4jhieD4yhdJ2KkZk8oiSqEaatqBekDLKztBG2CqBACq4wJRi4PZu1sA2+v8C6EJexrBAD1AOBzsLE0g/V1UvYR9sN3eR6lTLi4+TlY1wz6Qzr8u1t6FkY8vNzZTxaGfn6mAkEGFDgL4LrDDJDyE4hEIbdHB6ESE1iD4oVLfLAqPETIsOODwmCDJlv5MSGJklaS6khAQAh+QQFBQAEACwfAAIAVwAwAAAD/0i63P5LSAGrvTjrNuf+YKh1nWieIumhbFupkivPBEzR+GnnfLj3ooFwwPqdAshAazhEGUXJJIrJ1MGOUamJ2jQ9QVltkCv0XqFh5IncBX01afGYnDqD40u2z76JK/N0bnxweC5sRB9vF34zh4gjg4uMjXobihWTlJUZlw9+fzSHlpGYhTminKSepqebF50NmTyor6qxrLO0L7YLn0ALuhCwCrJAjrUqkrjGrsIkGMW/BMEPJcphLgDaABjUKNEh29vdgTLLIOLpF80s5xrp8ORVONgi8PcZ8zlRJvf40tL8/QPYQ+BAgjgMxkPIQ6E6hgkdjoNIQ+JEijMsasNY0RQix4gKP+YIKXKkwJIFF6JMudFEAgAh+QQFBQAEACw8AAIAQgBCAAAD/kg0PPowykmrna3dzXvNmSeOFqiRaGoyaTuujitv8Gx/661HtSv8gt2jlwIChYtc0XjcEUnMpu4pikpv1I71astytkGh9wJGJk3QrXlcKa+VWjeSPZHP4Rtw+I2OW81DeBZ2fCB+UYCBfWRqiQp0CnqOj4J1jZOQkpOUIYx/m4oxg5cuAaYBO4Qop6c6pKusrDevIrG2rkwptrupXB67vKAbwMHCFcTFxhLIt8oUzLHOE9Cy0hHUrdbX2KjaENzey9Dh08jkz8Tnx83q66bt8PHy8/T19vf4+fr6AP3+/wADAjQmsKDBf6AOKjS4aaHDgZMeSgTQcKLDhBYPEswoA1BBAgAh+QQFBQAEACxOAAoAMABXAAAD7Ei6vPOjyUkrhdDqfXHm4OZ9YSmNpKmiqVqykbuysgvX5o2HcLxzup8oKLQQix0UcqhcVo5ORi+aHFEn02sDeuWqBGCBkbYLh5/NmnldxajX7LbPBK+PH7K6narfO/t+SIBwfINmUYaHf4lghYyOhlqJWgqDlAuAlwyBmpVnnaChoqOkpaanqKmqKgGtrq+wsbA1srW2ry63urasu764Jr/CAb3Du7nGt7TJsqvOz9DR0tPU1TIA2ACl2dyi3N/aneDf4uPklObj6OngWuzt7u/d8fLY9PXr9eFX+vv8+PnYlUsXiqC3c6PmUUgAACH5BAUFAAQALE4AHwAwAFcAAAPpSLrc/m7IAau9bU7MO9GgJ0ZgOI5leoqpumKt+1axPJO1dtO5vuM9yi8TlAyBvSMxqES2mo8cFFKb8kzWqzDL7Xq/4LB4TC6bz1yBes1uu9uzt3zOXtHv8xN+Dx/x/wJ6gHt2g3Rxhm9oi4yNjo+QkZKTCgGWAWaXmmOanZhgnp2goaJdpKGmp55cqqusrZuvsJays6mzn1m4uRAAvgAvuBW/v8GwvcTFxqfIycA3zA/OytCl0tPPO7HD2GLYvt7dYd/ZX99j5+Pi6tPh6+bvXuTuzujxXens9fr7YPn+7egRI9PPHrgpCQAAIfkEBQUABAAsPAA8AEIAQgAAA/lIutz+UI1Jq7026h2x/xUncmD5jehjrlnqSmz8vrE8u7V5z/m5/8CgcEgsGo/IpHLJbDqf0Kh0ShBYBdTXdZsdbb/Yrgb8FUfIYLMDTVYz2G13FV6Wz+lX+x0fdvPzdn9WeoJGAYcBN39EiIiKeEONjTt0kZKHQGyWl4mZdREAoQAcnJhBXBqioqSlT6qqG6WmTK+rsa1NtaGsuEu6o7yXubojsrTEIsa+yMm9SL8osp3PzM2cStDRykfZ2tfUtS/bRd3ewtzV5pLo4eLjQuUp70Hx8t9E9eqO5Oku5/ztdkxi90qPg3x2EMpR6IahGocPCxp8AGtigwQAIfkEBQUABAAsHwBOAFcAMAAAA/9Iutz+MMo36pg4682J/V0ojs1nXmSqSqe5vrDXunEdzq2ta3i+/5DeCUh0CGnF5BGULC4tTeUTFQVONYAs4CfoCkZPjFar83rBx8l4XDObSUL1Ott2d1U4yZwcs5/xSBB7dBMBhgEYfncrTBGDW4WHhomKUY+QEZKSE4qLRY8YmoeUfkmXoaKInJ2fgxmpqqulQKCvqRqsP7WooriVO7u8mhu5NacasMTFMMHCm8qzzM2RvdDRK9PUwxzLKdnaz9y/Kt8SyR3dIuXmtyHpHMcd5+jvWK4i8/TXHff47SLjQvQLkU+fG29rUhQ06IkEG4X/Rryp4mwUxSgLL/7IqFETB8eONT6ChCFy5ItqJomES6kgAQAh+QQFBQAEACwKAE4AVwAwAAAD/0i63A4QuEmrvTi3yLX/4MeNUmieITmibEuppCu3sDrfYG3jPKbHveDktxIaF8TOcZmMLI9NyBPanFKJp4A2IBx4B5lkdqvtfb8+HYpMxp3Pl1qLvXW/vWkli16/3dFxTi58ZRcChwIYf3hWBIRchoiHiotWj5AVkpIXi4xLjxiaiJR/T5ehoomcnZ+EGamqq6VGoK+pGqxCtaiiuJVBu7yaHrk4pxqwxMUzwcKbyrPMzZG90NGDrh/JH8t72dq3IN1jfCHb3L/e5ebh4ukmxyDn6O8g08jt7tf26ybz+m/W9GNXzUQ9fm1Q/APoSWAhhfkMAmpEbRhFKwsvCsmosRIHx444PoKcIXKkjIImjTzjkQAAIfkEBQUABAAsAgA8AEIAQgAAA/VIBNz+8KlJq72Yxs1d/uDVjVxogmQqnaylvkArT7A63/V47/m2/8CgcEgsGo/IpHLJbDqf0Kh0Sj0FroGqDMvVmrjgrDcTBo8v5fCZki6vCW33Oq4+0832O/at3+f7fICBdzsChgJGeoWHhkV0P4yMRG1BkYeOeECWl5hXQ5uNIAOjA1KgiKKko1CnqBmqqk+nIbCkTq20taVNs7m1vKAnurtLvb6wTMbHsUq4wrrFwSzDzcrLtknW16tI2tvERt6pv0fi48jh5h/U6Zs77EXSN/BE8jP09ZFA+PmhP/xvJgAMSGBgQINvEK5ReIZhQ3QEMTBLAAAh+QQFBQAEACwCAB8AMABXAAAD50i6DA4syklre87qTbHn4OaNYSmNqKmiqVqyrcvBsazRpH3jmC7yD98OCBF2iEXjBKmsAJsWHDQKmw571l8my+16v+CweEwum8+hgHrNbrvbtrd8znbR73MVfg838f8BeoB7doN0cYZvaIuMjY6PkJGSk2gClgJml5pjmp2YYJ6dX6GeXaShWaeoVqqlU62ir7CXqbOWrLafsrNctjIDwAMWvC7BwRWtNsbGFKc+y8fNsTrQ0dK3QtXAYtrCYd3eYN3c49/a5NVj5eLn5u3s6e7x8NDo9fbL+Mzy9/T5+tvUzdN3Zp+GBAAh+QQJBQAEACwCAAIAfAB8AAAD/0i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdArcQK2TOL7/nl4PSMwIfcUk5YhUOh3M5nNKiOaoWCuWqt1Ou16l9RpOgsvEMdocXbOZ7nQ7DjzTaeq7zq6P5fszfIASAYUBIYKDDoaGIImKC4ySH3OQEJKYHZWWi5iZG0ecEZ6eHEOio6SfqCaqpaytrpOwJLKztCO2jLi1uoW8Ir6/wCHCxMG2x7muysukzb230M6H09bX2Nna29zd3t/g4cAC5OXm5+jn3Ons7eba7vHt2fL16tj2+QL0+vXw/e7WAUwnrqDBgwgTKlzIsKHDh2gGSBwAccHEixAvaqTYcFCjRoYeNyoM6REhyZIHT4o0qPIjy5YTTcKUmHImx5cwE85cmJPnSYckK66sSAAj0aNIkypdyrSp06dQo0qdSrWq1atYs2rdyrWr169gwxZJAAA7)}.w2ui-icon,.w2ui-spinner{display:inline-block;background-repeat:no-repeat}.w2ui-icon{height:1pc;width:1pc;overflow:hidden;margin:2px}.w2ui-icon.icon-search,.w2ui-icon.icon-search-down{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAgCAYAAAB+ZAqzAAACuElEQVRYw9WXSWhTQRjHR0UKLqhFaV0OUih68GAOWjyJKypCpAoV8aIiioIICiKiB1GMtE3MYmry2moXDz1UDx7sUXHBhQpSaRVxrYpWcMO9avx/8AJh/CbznHkxdeB3Cd/8589kvuUJkWcdjCTHghUgAi6DJ+AVeAqugSQIggniXywcNBJsB70g44EHYBcYXUhTM8EFj4ZkboKqQpiqAv2GprK8o7/f75t6pjn0M3gNPmri3vtycxAZA64qDvkJ2kENqAQTQQWoBg74qth3B4y3NbZDIX4fzNfsnQtuK/YfsjFVCh4pMq3Co0Y5uMVoUGkpy8aFT5xaeSzVEo45bXdBt4LeaLq1k0RXMYJfdDfFmAuAD4zWlty4UNyZEkm19MUb2zMw8Sfp1u+IWSrcIimLnTG8/SijdU6OO5poDESdtgHZVBzUHm/amhW7zoitMTS2mNHqASPk2FDCCcLMYK6p+obmulyxfiYLA4bGKFvfSnrUvkq5+Lpk8z4yRH8r3l/X4WiqJFfspSQ0CGYZGpsMnkt6L+h31Z76hpMdeOwPQ7H0NFnssST0C8wxNDaDKb6kP06150gsHahNNlVzYheZd7HJ0BiX4VRGhpmIhRixKyZilM2M1mnTArtIUbU3/qVO0H0GvmQ4CY4C3YopYYlHjXlggNG4R33Ypi2tVtwaPeTdNMkq9pVQZQdvFPs32zbx4aAjzxhDRfIAWAeWg7VgrzsY5ht/zoNJtubKwA3LITGjSKRyW3NTwaUCmKOSMd3WHH0ZJRQZZkOP1zFKZ3CB++4+aQ6kEeksWAb2a2L7qDv49S1Q6T72MOgEXa6RGFhP3wpS/B6NOWpRs0UxFg7eqTFHjX1hscxtAz/ymEuIYi0cvgF8Y0w5Ro3dZ3M1boJkTaXEUFlug6fsdsRQWzTj0cey+N/Xb2sj5lTh2M6OAAAAAElFTkSuQmCC) no-repeat center!important;background-size:14px 9pt!important;opacity:.9}.w2ui-icon.icon-folder{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAGrSURBVDjLxZO7ihRBFIa/6u0ZW7GHBUV0UQQTZzd3QdhMQxOfwMRXEANBMNQX0MzAzFAwEzHwARbNFDdwEd31Mj3X7a6uOr9BtzNjYjKBJ6nicP7v3KqcJFaxhBVtZUAK8OHlld2st7Xl3DJPVONP+zEUV4HqL5UDYHr5xvuQAjgl/Qs7TzvOOVAjxjlC+ePSwe6DfbVegLVuT4r14eTr6zvA8xSAoBLzx6pvj4l+DZIezuVkG9fY2H7YRQIMZIBwycmzH1/s3F8AapfIPNF3kQk7+kw9PWBy+IZOdg5Ug3mkAATy/t0usovzGeCUWTjCz0B+Sj0ekfdvkZ3abBv+U4GaCtJ1iEm6ANQJ6fEzrG/engcKw/wXQvEKxSEKQxRGKE7Izt+DSiwBJMUSm71rguMYhQKrBygOIRStf4TiFFRBvbRGKiQLWP29yRSHKBTtfdBmHs0BUpgvtgF4yRFR+NUKi0XZcYjCeCG2smkzLAHkbRBmP0/Uk26O5YnUActBp1GsAI+S5nRJJJal5K1aAMrq0d6Tm9uI6zjyf75dAe6tx/SsWeD//o2/Ab6IH3/h25pOAAAAAElFTkSuQmCC) no-repeat center!important}.w2ui-icon.icon-page{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAINSURBVBgZBcG/r55zGAfg6/4+z3va01NHlYgzEfE7MdCIGISFgS4Gk8ViYyM2Mdlsko4GSf8Do0FLRCIkghhYJA3aVBtEz3nP89wf11VJvPDepdd390+8Nso5nESBQoq0pfvXm9fzWf19453LF85vASqJlz748vInb517dIw6EyYBIIG49u+xi9/c9MdvR//99MPPZ7+4cP4IZhhTPbwzT2d+vGoaVRRp1rRliVvHq+cfvM3TD82+7mun0o/ceO7NT+/4/KOXjwZU1ekk0840bAZzMQ2mooqh0A72d5x/6sB9D5zYnff3PoYBoWBgFKPKqDKqjCpjKr//dcu9p489dra88cydps30KswACfNEKanSaxhlntjJ8Mv12Paie+vZ+0+oeSwwQ0Iw1xAR1CiFNJkGO4wu3ZMY1AAzBI0qSgmCNJsJUEOtJSMaCTBDLyQ0CknAGOgyTyFFiLI2awMzdEcSQgSAAKVUmAeNkxvWJWCGtVlDmgYQ0GFtgg4pNtOwbBcwQy/Rife/2yrRRVI0qYCEBly8Z+P4qMEMy7JaVw72N568e+iwhrXoECQkfH91kY7jwwXMsBx1L93ZruqrK6uuiAIdSnTIKKPLPFcvay8ww/Hh+ufeznTXu49v95IMoQG3784gYXdTqvRmqn/Wpa/ADFX58MW3L71SVU9ETgEIQQQIOOzub+fhIvwPRDgeVjWDahIAAAAASUVORK5CYII=) no-repeat center!important}.w2ui-lock{top:0;left:0;width:100%;height:100%;opacity:.15;filter:alpha(opacity=15);background-color:#333}.w2ui-lock,.w2ui-lock-msg{display:none;position:absolute;z-index:1400}.w2ui-lock-msg{top:45%;left:50%;-webkit-transform:translateX(-50%) translateY(-50%);-ms-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);width:200px;height:5pc;padding:30px 8px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;font-size:13px;font-family:Verdana,Arial,sans-serif;opacity:.8;filter:alpha(opacity=80);background-color:#555;color:#fff;text-align:center;border-radius:5px;border:2px solid #444}.w2ui-lock-msg .w2ui-spinner{display:inline-block;width:24px;height:24px;margin:-3px 8px -7px -10px}button.btn{display:inline-block;border-radius:4px;margin:0 5px;padding:7px 9pt 6px!important;color:#666;font-size:9pt!important;border:1px solid #b6b6b6;background-image:-webkit-linear-gradient(#fff 0,#e7e7e7 100%);background-image:linear-gradient(#fff 0,#e7e7e7 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffe7e7e7',endColorstr='#ffffffff',GradientType=0);outline:0;box-shadow:0 1px 0 #fff;cursor:default;min-width:75px;line-height:100%!important;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}button.btn:hover{text-decoration:none;border:1px solid #bbb;background-image:-webkit-linear-gradient(#f7f7f7 0,#ddd 100%);background-image:linear-gradient(#f7f7f7 0,#ddd 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdddddd',endColorstr='#fff7f7f7',GradientType=0);color:#333}button.btn.clicked,button.btn:active{border:1px solid #999;background-image:-webkit-linear-gradient(#ccc 0,#ccc 100%);background-image:linear-gradient(#ccc 0,#ccc 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffcccccc',endColorstr='#ffcccccc',GradientType=0);text-shadow:1px 1px 1px #eee}button.btn:disabled{border:1px solid #bbb!important;background:#f7f7f7!important;color:#bdbcbc!important;text-shadow:none!important}button.btn-blue{background-image:-webkit-linear-gradient(#80c0f7 0,#269df0 100%);background-image:linear-gradient(#80c0f7 0,#269df0 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff269df0',endColorstr='#ff80c0f7',GradientType=0);border:1px solid #538ab7}button.btn-blue,button.btn-blue:hover{color:#fff;text-shadow:1px 1px 1px #777}button.btn-blue:hover{background-image:-webkit-linear-gradient(#73b6f0 0,#2391dd 100%);background-image:linear-gradient(#73b6f0 0,#2391dd 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff2391dd',endColorstr='#ff73b6f0',GradientType=0);border:1px solid #497ba3}button.btn-blue.clicked,button.btn-blue:active{color:#fff;background-image:-webkit-linear-gradient(#1e83c9 0,#1e83c9 100%);background-image:linear-gradient(#1e83c9 0,#1e83c9 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff1e83c9',endColorstr='#ff1e83c9',GradientType=0);border:1px solid #1268a6;text-shadow:1px 1px 1px #777}button.btn-green{background-image:-webkit-linear-gradient(#81cf81 0,#52a452 100%);background-image:linear-gradient(#81cf81 0,#52a452 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff52a452',endColorstr='#ff81cf81',GradientType=0)}button.btn-green,button.btn-green:hover{color:#fff;border:1px solid #479247;text-shadow:1px 1px 1px #777}button.btn-green:hover{background-image:-webkit-linear-gradient(#6abe68 0,#3f8f3d 100%);background-image:linear-gradient(#6abe68 0,#3f8f3d 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff3f8f3d',endColorstr='#ff6abe68',GradientType=0)}button.btn-green.clicked,button.btn-green:active{color:#fff;background-image:-webkit-linear-gradient(#377d36 0,#377d36 100%);background-image:linear-gradient(#377d36 0,#377d36 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff377d36',endColorstr='#ff377d36',GradientType=0);border:1px solid #555!important;text-shadow:1px 1px 1px #777}button.btn-orange{background-image:-webkit-linear-gradient(#fcc272 0,#fb8822 100%);background-image:linear-gradient(#fcc272 0,#fb8822 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fffb8822',endColorstr='#fffcc272',GradientType=0)}button.btn-orange,button.btn-orange:hover{color:#fff;border:1px solid #b68b4c;text-shadow:1px 1px 1px #777}button.btn-orange:hover{background-image:-webkit-linear-gradient(#f4ad59 0,#f1731f 100%);background-image:linear-gradient(#f4ad59 0,#f1731f 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fff1731f',endColorstr='#fff4ad59',GradientType=0)}button.btn-orange.clicked,button.btn-orange:active{color:#fff;border:1px solid #666;background-image:-webkit-linear-gradient(#b98747 0,#b98747 100%);background-image:linear-gradient(#b98747 0,#b98747 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffb98747',endColorstr='#ffb98747',GradientType=0);text-shadow:1px 1px 1px #777}button.btn-red{background-image:-webkit-linear-gradient(#ff6e70 0,#c72d2d 100%);background-image:linear-gradient(#ff6e70 0,#c72d2d 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffc72d2d',endColorstr='#ffff6e70',GradientType=0)}button.btn-red,button.btn-red:hover{color:#fff;border:1px solid #bb3c3e;text-shadow:1px 1px 1px #777}button.btn-red:hover{background-image:-webkit-linear-gradient(#ee696c 0,#ae2527 100%);background-image:linear-gradient(#ee696c 0,#ae2527 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffae2527',endColorstr='#ffee696c',GradientType=0)}button.btn-red.clicked,button.btn-red:active{color:#fff;border:1px solid #861c1e;background-image:-webkit-linear-gradient(#9c2123 0,#9c2123 100%);background-image:linear-gradient(#9c2123 0,#9c2123 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff9c2123',endColorstr='#ff9c2123',GradientType=0);text-shadow:1px 1px 1px #777}.w2ui-form{position:relative;color:#000;background-color:#f5f6f7;border:1px solid silver;border-radius:3px;padding:0;overflow:hidden!important}.w2ui-form>div{position:absolute;overflow:hidden}.w2ui-form .w2ui-form-header{position:absolute;left:0;right:0;border-bottom:1px solid #99bbe8!important;overflow:hidden;color:#444;font-size:13px;text-align:center;padding:8px;background-image:-webkit-linear-gradient(#dae6f3,#c2d5ed);background-image:linear-gradient(#dae6f3,#c2d5ed);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3',endColorstr='#ffc2d5ed',GradientType=0);border-top-left-radius:3px;border-top-right-radius:3px}.w2ui-form .w2ui-form-toolbar{position:absolute;left:0;right:0;margin:0;padding:6px 3px;border-bottom:1px solid #d5d8d8}.w2ui-form .w2ui-form-tabs{margin:0;padding:0}.w2ui-form .w2ui-tabs{position:absolute;left:0;right:0;border-top-left-radius:3px;border-top-right-radius:3px;padding-top:5px!important;background-color:#fafafa}.w2ui-form .w2ui-tabs .w2ui-tab.active{background-color:#f5f6f7}.w2ui-form .w2ui-page{position:absolute;left:0;right:0;overflow:auto;padding:10px;border-left:1px solid inherit;border-right:1px solid inherit;background-color:inherit;border-radius:3px}.w2ui-form .w2ui-buttons{position:absolute;left:0;right:0;bottom:0;text-align:center;border-top:1px solid #d5d8d8;border-bottom:0 solid #d5d8d8;background-color:#fafafa;padding:15px 0!important;border-bottom-left-radius:3px;border-bottom-right-radius:3px}.w2ui-form .w2ui-buttons button,.w2ui-form .w2ui-buttons input[type=button]{min-width:5pc;margin-right:5px}.w2ui-form input[type=checkbox],.w2ui-form input[type=radio]{margin-top:4px;margin-bottom:4px}.w2ui-form input[type=checkbox].w2ui-toggle{margin:0}.w2ui-group-title{padding:5px 2px;color:#8d96a2;text-shadow:1px 1px 2px #fdfdfd;font-size:120%}.w2ui-group{background-color:#ebecef;margin:5px 0 10px;padding:10px 5px;border-top:1px solid #cedcea;border-bottom:1px solid #cedcea}.w2ui-field>label{display:block;float:left;margin-top:7px;margin-bottom:3px;width:90pt;padding:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:right;min-height:20px;color:#666}.w2ui-field>div{margin-bottom:3px;margin-left:8pc;padding:3px;min-height:28px;float:none}.w2ui-field.w2ui-required>div{position:relative}.w2ui-field.w2ui-required>div:before{content:'*';position:absolute;margin-top:5px;margin-left:-9px;color:red}.w2ui-field.w2ui-span1>label{width:20px}.w2ui-field.w2ui-span1>div{margin-left:28px}.w2ui-field.w2ui-span2>label{width:40px}.w2ui-field.w2ui-span2>div{margin-left:3pc}.w2ui-field.w2ui-span3>label{width:60px}.w2ui-field.w2ui-span3>div{margin-left:68px}.w2ui-field.w2ui-span4>label{width:5pc}.w2ui-field.w2ui-span4>div{margin-left:88px}.w2ui-field.w2ui-span5>label{width:75pt}.w2ui-field.w2ui-span5>div{margin-left:81pt}.w2ui-field.w2ui-span6>label{width:90pt}.w2ui-field.w2ui-span6>div{margin-left:8pc}.w2ui-field.w2ui-span7>label{width:140px}.w2ui-field.w2ui-span7>div{margin-left:148px}.w2ui-field.w2ui-span8>label{width:10pc}.w2ui-field.w2ui-span8>div{margin-left:168px}.w2ui-field.w2ui-span9>label{width:180px}.w2ui-field.w2ui-span9>div{margin-left:188px}.w2ui-field.w2ui-span10>label{width:200px}.w2ui-field.w2ui-span10>div{margin-left:13pc}.w2ui-error{border:1px solid #ffa8a8!important;background-color:#fff4eb!important}.w2field{padding:3px;border-radius:3px;border:1px solid silver}.w2ui-field-helper{position:absolute;display:inline-block;line-height:100%;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none}.w2ui-field-helper .w2ui-field-up{position:absolute;top:0;padding:2px 3px}.w2ui-field-helper .w2ui-field-down{position:absolute;bottom:0;padding:2px 3px}.w2ui-field-helper .arrow-up:hover{border-bottom-color:#81c6ff}.w2ui-field-helper .arrow-down:hover{border-top-color:#81c6ff}.arrow-up{border-bottom:5px solid #777}.arrow-down,.arrow-up{background:0 0;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;font-size:0;line-height:0}.arrow-down{border-top:5px solid #777}.arrow-left{border-right:5px solid #777}.arrow-left,.arrow-right{background:0 0;width:0;height:0;border-bottom:4px solid transparent;border-top:4px solid transparent;font-size:0;line-height:0}.arrow-right{border-left:5px solid #777}.w2ui-color{padding:5px;padding-top:8px;background-color:#fff;border-radius:3px}.w2ui-color>table{table-layout:fixed;width:10pc}.w2ui-color>table td{width:20px;height:20px;text-align:center}.w2ui-color>table td div{cursor:pointer;display:inline-block;width:1pc;height:17px;padding:1px 4px;border:1px solid transparent;color:#fff;text-shadow:0 0 2px #000}.w2ui-color>table td div:hover{outline:1px solid #666;border:1px solid #fff}.w2ui-calendar{margin:0;padding:1px;line-height:108%}.w2ui-calendar .w2ui-calendar-title{margin:0 -1px;padding:7px 2px;background-image:-webkit-linear-gradient(#f6f6f6,#d9d9d9);background-image:linear-gradient(#f6f6f6,#d9d9d9);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fff6f6f6',endColorstr='#ffd9d9d9',GradientType=0);border-bottom:1px solid #bbb;color:#555;text-align:center;text-shadow:1px 1px 1px #eee;cursor:pointer}.w2ui-calendar .w2ui-calendar-jump{position:absolute;top:27px;left:0;right:0;bottom:0;background-color:#fafafa}.w2ui-calendar .w2ui-calendar-jump>:first-child{position:absolute;top:0;left:0;bottom:0;width:110px;overflow:hidden;padding-top:5px;border-right:1px solid silver}.w2ui-calendar .w2ui-calendar-jump>:last-child{position:absolute;top:0;right:0;bottom:0;width:88px;overflow-x:hidden;overflow-y:auto;padding-top:5px;text-align:center}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month,.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year{display:inline-block;padding:5px 0;text-align:center;float:left;margin:2px;width:50px;cursor:default;border:1px solid transparent;border-radius:2px}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year{float:none;width:95%}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month:hover,.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year:hover{border:1px solid #ccc;color:#000;background-color:#efefef}.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-month.selected,.w2ui-calendar .w2ui-calendar-jump .w2ui-jump-year.selected{border:1px solid #ccc;color:#000;background-color:#dadada}.w2ui-calendar .w2ui-calendar-next,.w2ui-calendar .w2ui-calendar-previous{width:24px;height:20px;color:#666;border:1px solid transparent;border-radius:3px;padding:2px 3px 1px 2px;margin:-4px 0 0;cursor:default}.w2ui-calendar .w2ui-calendar-next:hover,.w2ui-calendar .w2ui-calendar-previous:hover{border:1px solid silver;background-color:#efefef}.w2ui-calendar .w2ui-calendar-next>div,.w2ui-calendar .w2ui-calendar-previous>div{position:absolute;border-left:4px solid #888;border-top:4px solid #888;border-right:4px solid transparent;border-bottom:4px solid transparent;width:0;height:0;padding:0;margin:3px 0 0}.w2ui-calendar .w2ui-calendar-previous{float:left}.w2ui-calendar .w2ui-calendar-previous>div{-webkit-transform:rotate(-45deg);-ms-transform:rotate(-45deg);transform:rotate(-45deg);margin-left:6px}.w2ui-calendar .w2ui-calendar-next{float:right}.w2ui-calendar .w2ui-calendar-next>div{-webkit-transform:rotate(135deg);-ms-transform:rotate(135deg);transform:rotate(135deg);margin-left:2px;margin-right:2px}.w2ui-calendar table.w2ui-calendar-days{padding:0}.w2ui-calendar table.w2ui-calendar-days td{border:1px solid #fff;color:#000;background-color:#f9f9f9;padding:6px;cursor:default;text-align:right}.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday,.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday{border:1px solid #fff;color:#c8493b;background-color:#f9f9f9}.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday:hover,.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday:hover{border:1px solid #ccc;color:#000;background-color:#e9e9e9}.w2ui-calendar table.w2ui-calendar-days td.w2ui-saturday.w2ui-blocked,.w2ui-calendar table.w2ui-calendar-days td.w2ui-sunday.w2ui-blocked{text-decoration:line-through;border:1px solid #fff;color:#ccc;background-color:#fff}.w2ui-calendar table.w2ui-calendar-days td.w2ui-today{border:1px solid #8cb067;color:#000;background-color:#e2f7cd}.w2ui-calendar table.w2ui-calendar-days td:hover{border:1px solid #ccc;color:#000;background-color:#e9e9e9}.w2ui-calendar table.w2ui-calendar-days td.w2ui-blocked{text-decoration:line-through;border:1px solid #fff;color:#ccc;background-color:#fff}.w2ui-calendar table.w2ui-calendar-days td.w2ui-day-empty{border:1px solid #fff;background-color:#fdfdfd}.w2ui-calendar table.w2ui-calendar-days tr.w2ui-day-title td{border:1px solid #fff;color:gray;background-color:#fff;text-align:center;padding:6px}.w2ui-calendar-time{padding:5px;cursor:default}.w2ui-calendar-time td div{padding:7px 10px;text-align:center;border:1px solid transparent;white-space:nowrap}.w2ui-calendar-time td:nth-child(even){background-color:#f6f6f6}.w2ui-calendar-time td div:hover{border:1px solid #ccc;color:#000;background-color:#e9e9e9}.w2ui-calendar-time td div.w2ui-blocked{text-decoration:line-through;border:1px solid #fff;color:#ccc;background-color:#fff}.w2ui-select{cursor:default;color:#000!important;background-image:-webkit-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%)}.w2ui-list{color:inherit;position:absolute;padding:0;margin:0;min-height:25px;overflow:auto;border:1px solid silver;border-radius:3px;font-size:6px;line-height:100%;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;background-color:#fff}.w2ui-list input[type=text]{-ms-box-shadow:none;-o-box-shadow:none;box-shadow:none}.w2ui-list ul{list-style-type:none;background-color:#000;margin:0;padding:0}.w2ui-list ul li{float:left;margin:2px 1px 0 2px;border-radius:3px;width:auto;padding:3px 10px 1px 7px;border:1px solid #88b0d6;background-color:#eff3f5;white-space:nowrap;cursor:default;font-family:verdana;font-size:11px;line-height:100%;height:20px;overflow:hidden;text-overflow:ellipsis;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-list ul li:hover{background-color:#d0dbe1}.w2ui-list ul li:last-child{border-radius:0;border:1px solid transparent;background-color:transparent}.w2ui-list ul li:last-child input{padding:1px;padding-top:0;margin:0;border:0;outline:0;height:auto;line-height:100%;font-size:inherit;font-family:inherit;background-color:transparent}.w2ui-list ul li .w2ui-list-remove{float:right;width:15px;height:14px;margin:-1px -9px 0 3px;border-radius:15px}.w2ui-list ul li .w2ui-list-remove:hover{background-color:#d77f7f;color:#fff}.w2ui-list ul li .w2ui-list-remove:before{position:relative;top:0;padding:0;margin:0;left:5px;color:inherit;opacity:.7;text-shadow:inherit;font-size:inherit;font-variant:small-caps;content:'x';line-height:100%}.w2ui-list ul li>span.file-size{pointer-events:none;color:#777}.w2ui-list .w2ui-enum-placeholder{display:inline;position:absolute;pointer-events:none;color:#999;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-list.w2ui-file-dragover{background-color:#e4ffda;border:1px solid #93e07d}.w2ui-layout{overflow:hidden!important}.w2ui-layout,.w2ui-layout *,.w2ui-layout>div{-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-layout>div{position:absolute;overflow:hidden;border:0;margin:0;padding:0;outline:0}.w2ui-layout>div .w2ui-panel{display:none;position:absolute;z-index:120}.w2ui-layout>div .w2ui-panel .w2ui-panel-title{padding:5px;background-image:-webkit-linear-gradient(#dae6f3,#c2d5ed);background-image:linear-gradient(#dae6f3,#c2d5ed);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3',endColorstr='#ffc2d5ed',GradientType=0);border:1px solid #b9cee9;border-bottom:1px solid #99bbe8}.w2ui-layout>div .w2ui-panel .w2ui-panel-tabs{position:absolute;left:0;top:0;right:0;z-index:2;display:none;overflow:hidden;background-color:#fafafa;padding:4px 0}.w2ui-layout>div .w2ui-panel .w2ui-panel-tabs>.w2ui-tab.active{background-color:#f5f6f7}.w2ui-layout>div .w2ui-panel .w2ui-panel-toolbar{position:absolute;left:0;top:0;right:0;z-index:2;display:none;overflow:hidden;background-color:#fafafa;border-bottom:1px solid silver;padding:4px}.w2ui-layout>div .w2ui-panel .w2ui-panel-content{position:absolute;left:0;top:0;right:0;bottom:0;z-index:1;color:inherit;background-color:#f5f6f7}.w2ui-layout>div .w2ui-resizer{display:none;position:absolute;z-index:121;background-color:transparent}.w2ui-layout>div .w2ui-resizer.active,.w2ui-layout>div .w2ui-resizer:hover{background-color:#d7e4f2}.w2ui-grid{position:relative;border:1px solid silver;border-radius:2px;overflow:hidden!important}.w2ui-grid .w2ui-grid-header,.w2ui-grid>div{position:absolute;overflow:hidden}.w2ui-grid .w2ui-grid-header{border-bottom:1px solid #99bbe8!important;height:28px;color:#444;font-size:13px;text-align:center;padding:7px;background-image:-webkit-linear-gradient(#dae6f3,#c2d5ed);background-image:linear-gradient(#dae6f3,#c2d5ed);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffdae6f3',endColorstr='#ffc2d5ed',GradientType=0);border-top-left-radius:2px;border-top-right-radius:2px}.w2ui-grid .w2ui-grid-toolbar{position:absolute;border-bottom:1px solid silver;background-color:#eaeaea;height:38px;padding:7px 3px 4px;margin:0;box-shadow:0 1px 2px #ddd}.w2ui-grid .w2ui-toolbar-search{width:10pc;margin-right:3px}.w2ui-grid .w2ui-toolbar-search .w2ui-search-all{outline:0!important;width:10pc;border-radius:10px;line-height:normal;height:22px;border:1px solid #b9b9b9;color:#000;background-color:#fff;padding:3px 18px 3px 23px;margin:0}.w2ui-grid .w2ui-toolbar-search .w2ui-search-down{position:absolute;margin-top:-7px;margin-left:6px}.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear{position:absolute;width:1pc;height:1pc;margin-top:-8px;margin-left:-20px;border-radius:15px;cursor:default}.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear:hover{background-color:#d77f7f;color:#fff}.w2ui-grid .w2ui-toolbar-search .w2ui-search-clear:before{position:relative;top:1px;left:5px;opacity:.6;color:inherit;text-shadow:inherit;content:'x';cursor:default}.w2ui-grid .w2ui-grid-body{position:absolute;overflow:hidden;padding:0;background-color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.w2ui-grid .w2ui-grid-body input,.w2ui-grid .w2ui-grid-body select,.w2ui-grid .w2ui-grid-body textarea{user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text}.w2ui-grid .w2ui-grid-body .w2ui-grid-columns{overflow:hidden;position:absolute;left:0;top:0;right:0;box-shadow:0 1px 4px #ddd;height:auto}.w2ui-grid .w2ui-grid-body .w2ui-grid-columns table{height:auto}.w2ui-grid .w2ui-grid-body .w2ui-grid-columns .w2ui-resizer{position:absolute;z-index:1000;display:block;background-image:none;background-color:transparent;padding:0;margin:0;width:6px;height:9pt;cursor:col-resize}.w2ui-grid .w2ui-grid-body .w2ui-grid-records{position:absolute;left:0;right:0;top:0;bottom:0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd{color:inherit;background-color:#fff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd:hover{color:inherit;background-color:#e6f0ff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd.w2ui-empty-record:hover{background-color:#fff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even{color:inherit;background-color:#f3f6fa}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even:hover{color:inherit;background-color:#e6f0ff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even.w2ui-empty-record:hover{background-color:#f3f6fa}.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr td.w2ui-selected,.w2ui-grid .w2ui-grid-body .w2ui-grid-records table tr.w2ui-selected{color:#000!important;background-color:#b6d5ff!important}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded{background-color:#ccdcf0!important}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded1{height:0;border-bottom:1px solid #b2bac0;background-color:#ccdcf0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded1>div{height:100%;margin:0;padding:0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded2{height:0;border-radius:0;border-bottom:1px solid #b2bac0}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-expanded2>div{height:0;border:0;transition:height .3s,opacity .3s}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more{border-top:1px solid #d6d5d7;cursor:pointer}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more>div{text-align:center;color:#777;background-color:rgba(233,237,243,.5);padding:10px 0 15px;border-top:1px solid #fff}.w2ui-grid .w2ui-grid-body .w2ui-grid-records .w2ui-load-more>div:hover{color:inherit;background-color:#e6f0ff}.w2ui-grid .w2ui-grid-body table{border-spacing:0;border-collapse:collapse;table-layout:fixed;width:1px}.w2ui-grid .w2ui-grid-body table .w2ui-head{margin:0;padding:0;border-right:1px solid #c5c5c5;border-bottom:1px solid #c5c5c5;color:#000;background-image:-webkit-linear-gradient(#f9f9f9,#e4e4e4);background-image:linear-gradient(#f9f9f9,#e4e4e4);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#fff9f9f9',endColorstr='#ffe4e4e4',GradientType=0)}.w2ui-grid .w2ui-grid-body table .w2ui-head>div{padding:7px 3px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;position:relative}.w2ui-grid .w2ui-grid-body table .w2ui-head.w2ui-col-intersection{border-right-color:#72b2ff}.w2ui-grid .w2ui-grid-body table .w2ui-head.w2ui-reorder-cols-head:hover{cursor:move}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker{padding:0;position:absolute;height:100%;top:0}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker.left{left:0;margin-left:-5px}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker.right{right:0;margin-right:-5px}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker .top-marker{position:absolute;top:0;height:0;width:0;border-top:5px solid #72b2ff;border-left:5px solid transparent;border-right:5px solid transparent}.w2ui-grid .w2ui-grid-body table .w2ui-head .col-intersection-marker .bottom-marker{position:absolute;bottom:0;height:0;width:0;border-bottom:5px solid #72b2ff;border-left:5px solid transparent;border-right:5px solid transparent}.w2ui-grid .w2ui-grid-body table td{border-right:1px solid #d6d5d7;border-bottom:0 solid #d6d5d7;cursor:default;overflow:hidden}.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data{margin:0;padding:0}.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data>div{padding:3px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.w2ui-grid .w2ui-grid-body table td.w2ui-grid-data>div.flexible-record{height:auto;overflow:visible;white-space:normal}.w2ui-grid .w2ui-grid-body table td:last-child{border-right:0}.w2ui-grid .w2ui-grid-body table .w2ui-col-number{width:34px;color:#777;background-color:rgba(233,237,243,.5)}.w2ui-grid .w2ui-grid-body table .w2ui-col-number div{padding:0 7px 0 3px;text-align:right}.w2ui-grid .w2ui-grid-body table .w2ui-col-select{width:26px}.w2ui-grid .w2ui-grid-body table .w2ui-col-select div{padding:0;text-align:center;overflow:hidden}.w2ui-grid .w2ui-grid-body table .w2ui-col-select div input[type=checkbox]{margin-top:2px;position:relative}.w2ui-grid .w2ui-grid-body table .w2ui-col-expand{width:26px}.w2ui-grid .w2ui-grid-body table .w2ui-col-expand div{padding:0;text-align:center;font-weight:700}.w2ui-grid .w2ui-grid-body div.w2ui-col-header{height:auto!important;width:100%;overflow:hidden;padding-right:10px!important}.w2ui-grid .w2ui-grid-body div.w2ui-col-header>div.w2ui-sort-up{border:4px solid transparent;border-bottom:5px solid #8d99a7;margin-top:-2px;margin-right:-7px;float:right}.w2ui-grid .w2ui-grid-body div.w2ui-col-header>div.w2ui-sort-down{border:4px solid transparent;border-top:5px solid #8d99a7;margin-top:2px;margin-right:-7px;float:right}.w2ui-grid .w2ui-grid-body .w2ui-col-group{text-align:center}.w2ui-grid .w2ui-changed{background:url(data:image/gif;base64,R0lGODlhCgAKAJEAALAABf///wAAAAAAACH5BAEAAAIALAAAAAAKAAoAAAIPlI8Hy8mbxIsSUnup3rQAADs=) no-repeat top right}.w2ui-grid .w2ui-editable{overflow:hidden;height:100%!important;margin:0!important;padding:0!important}.w2ui-grid .w2ui-editable input{border:0;border-radius:0;margin:0;padding:4px 3px;width:100%;height:100%}.w2ui-grid .w2ui-editable input.w2ui-select{outline:0!important;background:#fff}.w2ui-grid .w2ui-grid-summary{position:absolute;box-shadow:0 -1px 4px #aaa}.w2ui-grid .w2ui-grid-summary table{color:inherit}.w2ui-grid .w2ui-grid-summary table .w2ui-odd{background-color:#eef5eb}.w2ui-grid .w2ui-grid-summary table .w2ui-even{background-color:#f8fff5}.w2ui-grid .w2ui-grid-footer{position:absolute;margin:0;padding:0;text-align:center;height:24px;overflow:hidden;user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;-o-user-select:text;box-shadow:0 -1px 4px #eee;color:#444;background-color:#f8f8f8;border-top:1px solid #ddd;border-bottom-left-radius:2px;border-bottom-right-radius:2px}.w2ui-grid .w2ui-grid-footer .w2ui-footer-left{float:left;padding-top:5px;padding-left:5px}.w2ui-grid .w2ui-grid-footer .w2ui-footer-right{float:right;padding-top:5px;padding-right:5px}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center{padding:2px;text-align:center}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav{width:110px;margin:0 auto;padding:0;text-align:center}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav input[type=text]{padding:1px 2px 2px;border-radius:3px;width:40px;text-align:center}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav a.w2ui-footer-btn{display:inline-block;border-radius:3px;cursor:pointer;font-size:11px;line-height:1pc;padding:1px 5px;width:30px;height:18px;margin-top:-1px;color:#000;background-color:transparent}.w2ui-grid .w2ui-grid-footer .w2ui-footer-center .w2ui-footer-nav a.w2ui-footer-btn:hover{color:#000;background-color:#aec8ff}.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-even:hover,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-odd:hover{background-color:inherit}.w2ui-ss .w2ui-grid-records table td{border-right-width:1px;border-bottom:1px solid #efefef}.w2ui-ss .w2ui-grid-records table tr:first-child td{border-bottom:0}.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr td.w2ui-selected,.w2ui-ss .w2ui-grid-body .w2ui-grid-records table tr.w2ui-selected{background-color:#eef4fe!important}.w2ui-ss .w2ui-changed{background:inherit}.w2ui-ss .w2ui-grid-body .w2ui-selection{position:absolute;border:2px solid #6299da;pointer-events:none}.w2ui-ss .w2ui-grid-body .w2ui-selection .w2ui-selection-resizer{cursor:crosshair;position:absolute;bottom:0;right:0;width:6px;height:6px;margin-right:-3px;margin-bottom:-3px;background-color:#457fc2;border:.5px solid #fff;outline:1px solid #fff;pointer-events:auto}.w2ui-overlay .w2ui-select-field{padding:8px 5px;cursor:default}.w2ui-overlay .w2ui-select-field table{font-size:11px;font-family:Verdana,Arial,sans-serif;border-spacing:0;border-collapse:border-collapse}.w2ui-overlay .w2ui-select-field table tr:hover{background-color:#b6d5ff}.w2ui-overlay .w2ui-select-field table td:nth-child(1){padding:3px 3px 3px 6px}.w2ui-overlay .w2ui-select-field table td:nth-child(1) input{margin:3px 2px 2px}.w2ui-overlay .w2ui-select-field table td:nth-child(2){padding:3px 15px 3px 3px}.w2ui-overlay .w2ui-col-on-off{padding:4px 0}.w2ui-overlay .w2ui-col-on-off table{border-spacing:0;border-collapse:border-collapse}.w2ui-overlay .w2ui-col-on-off table tr:hover{background-color:#b6d5ff}.w2ui-overlay .w2ui-col-on-off table td input[type=checkbox]{margin:3px 2px 2px}.w2ui-overlay .w2ui-col-on-off table td label{display:block;padding:3px 0;padding-right:10px}.w2ui-overlay .w2ui-col-on-off table td:first-child{padding:4px 0 4px 6px}.w2ui-overlay .w2ui-col-on-off table td:last-child{padding:4px 6px 4px 0}.w2ui-overlay .w2ui-grid-searches{text-align:left;padding:0;border-top:0;background-color:#f7f6f0}.w2ui-overlay .w2ui-grid-searches table{padding:4px;padding-top:9pt;border-collapse:border-collapse}.w2ui-overlay .w2ui-grid-searches table td{padding:4px}.w2ui-overlay .w2ui-grid-searches table td.close-btn{width:20px;padding-right:20px}.w2ui-overlay .w2ui-grid-searches table td.close-btn button{min-width:24px;height:24px;padding-top:6px!important}.w2ui-overlay .w2ui-grid-searches table td.caption{text-align:right;padding-right:5px;border-right:1px solid #e8e8e3}.w2ui-overlay .w2ui-grid-searches table td.operator{text-align:left;padding:0 10px;padding-right:5px;border-right:1px solid #e8e8e3}.w2ui-overlay .w2ui-grid-searches table td.operator select{width:100%;color:#000;padding:0 15px 0 5px;-webkit-appearance:none;-moz-appearance:none;-ms-appearance:none;-o-appearance:none;background-image:-webkit-linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%);background-image:linear-gradient(top,#fff 20%,#f6f6f6 50%,#eee 52%,#f4f4f4 100%)}.w2ui-overlay .w2ui-grid-searches table td.operator select::-ms-expand{display:none}.w2ui-overlay .w2ui-grid-searches table td.value{padding-right:5px;padding-left:5px}.w2ui-overlay .w2ui-grid-searches table td.value input[type=text]{border-radius:3px;padding:3px;margin-right:3px;height:23px}.w2ui-overlay .w2ui-grid-searches table td.value select{padding:3px;margin-right:3px;height:23px}.w2ui-overlay .w2ui-grid-searches table td.actions{border-right:0}.w2ui-overlay .w2ui-grid-searches table td.actions>div{margin:-7px;margin-top:15px;padding:13px 0;text-align:center;background-color:#efefe9;border-top:1px solid #e8e8e3}.w2ui-popup{position:fixed;z-index:1600;overflow:hidden;font-family:Verdana,Arial,sans-serif;border-radius:6px;padding:0;margin:0;border:1px solid #777;background-color:#eee;box-shadow:0 0 25px #555}.w2ui-popup,.w2ui-popup *{-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-popup .w2ui-msg-title{padding:6px;border-radius:6px 6px 0 0;background-image:-webkit-linear-gradient(#ececec,#dfdfdf);background-image:linear-gradient(#ececec,#dfdfdf);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ffececec',endColorstr='#ffdfdfdf',GradientType=0);border-bottom:2px solid #bfbfbf;position:absolute;overflow:hidden;height:2pc;left:0;right:0;top:0;text-overflow:ellipsis;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;cursor:move;font-size:15px;color:#555;z-index:300}.w2ui-popup .w2ui-msg-button{float:right;width:18px;height:18px;cursor:pointer;overflow:hidden;padding:0;margin:0 3px 0 0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAQCAYAAABQrvyxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAj1JREFUeNrslr9rFFEQxz/zZi/qxSgW2lsqkiYoBku5Ro1o4UFKEYkgSaxSCLYqdv5IEVPYCMJJwERWrK0CKhoQ8hdobQTjXW7njcXlYnLunQQu0YDTLOy+Nzvfme98Z8Td2ckW2OGWdMvRvYfT/RGfBPoBBVpLK0AEPgVkdGL06vt/CoB5nBaRE8AXYKXNsQIwaB4fAwOtH+88mn4m7ifN4vUYebWBKkFKqjIV3N9NjI2Uuw5ARI45fBanH+F77iFnN8JHETmS68P9NHBQNTwHL8foaSN4SqoyA/SZyL4tqQAQBVYCLOFYlNxmq0WorVLpN9Oe5LKt1CsgRVWpAOfB66phBuhTkepSdfnKVjaxNJMSWn/iawmTtpeDp6pWBpaBoqrMqoYU6AOqIbFhxGa3R4V8nfNNKLUESzXJhoCvQC+wF/gW1C5IiC+2XUbD5jA3rd4C26NR3945IA2iRzqRJgdElJJlSQocAKrAD2A/6Ev3cLajjN59MDWHyKl2voOI1zKbv3Xj2lCHJFoz+LXuBoIAjnUklEvJrDDT5LwmdhG8blkyBxRjXSu4loE0X4VEznXKV3SnoOFMB7YUolBcbcKNdxuPXUBPu8pbLXsK0ghebVjEXgNoYmXLtGLuxd6ePU+AQ20AaIrb4DpFycmSv81/7YsiMgAstB1kQgE47O4LuQmCNwGOB7VxCb/URsRSTbhkmU4ifGiZHd1Z5m7fnxoIQSaBo39YJRZj9LGb4yPzXWm1/9voX7afAwAC5tacDTA2XgAAAABJRU5ErkJggg==) no-repeat center left;background-position:0 0;color:transparent!important;border-radius:3px;border:1px solid transparent}.w2ui-popup .w2ui-msg-close{margin-top:0;background-position:-2pc 0}.w2ui-popup .w2ui-msg-close:hover{background-color:#ccc;border:1px solid #aaa}.w2ui-popup .w2ui-msg-max{background-position:-1pc 0}.w2ui-popup .w2ui-msg-max:hover{background-color:#ccc;border:1px solid #aaa}.w2ui-popup .w2ui-box1,.w2ui-popup .w2ui-box2{position:absolute;left:0;right:0;top:2pc;bottom:55px;z-index:100}.w2ui-popup .w2ui-msg-body{font-size:13px;line-height:130%;padding:0 7px 7px;color:#000;background-color:#eee;position:absolute;overflow:auto;width:100%;height:100%}.w2ui-popup .w2ui-popup-message{position:absolute;z-index:250;background-color:#f9f9f9;border:1px solid #999;box-shadow:0 0 15px #aaa;-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box;border-top:0;border-radius:0 0 6px 6px;overflow:auto}.w2ui-popup .w2ui-msg-buttons{padding:9pt;border-radius:0 0 6px 6px;border-top:1px solid #d5d8d8;background-color:#f1f1f1;text-align:center;position:absolute;overflow:hidden;height:52px;left:0;right:0;bottom:0;z-index:200}.w2ui-popup .w2ui-msg-no-title{border-top-left-radius:6px;border-top-right-radius:6px;top:0!important}.w2ui-popup .w2ui-msg-no-buttons{border-bottom-left-radius:6px;border-bottom-right-radius:6px;bottom:0!important}.w2ui-sidebar{cursor:default;overflow:hidden!important;background-color:#edf1f6!important}.w2ui-sidebar,.w2ui-sidebar *{-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-sidebar>div{position:relative;overflow:hidden}.w2ui-sidebar .w2ui-sidebar-top{position:absolute;z-index:2;top:0;left:0;right:0}.w2ui-sidebar .w2ui-sidebar-bottom{position:absolute;z-index:2;bottom:0;left:0;right:0}.w2ui-sidebar .w2ui-sidebar-div{position:absolute;z-index:1;overflow:auto;top:0;bottom:0;left:0;right:0;padding:2px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.w2ui-sidebar .w2ui-sidebar-div table{width:100%}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node{background-color:#edf1f6;border-top:1px solid transparent;border-bottom:1px solid transparent;margin:0;padding:1px 0}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node table{pointer-events:none}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node td.w2ui-node-dots{color:#000;text-shadow:0 0 0 #fff;pointer-events:none}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-caption:hover,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image:hover,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image>span:hover,.w2ui-sidebar .w2ui-sidebar-div .w2ui-node td.w2ui-node-dots:hover{color:inherit}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node:hover{border-top:1px solid #f9f9f9;border-bottom:1px solid #f9f9f9;background-color:#d7e1ef}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image{width:22px;text-align:center;pointer-events:none}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node .w2ui-node-image>span{color:#516173!important}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node input{pointer-events:auto}.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover{background-image:-webkit-linear-gradient(#69b1e0,#4a96d3);background-image:linear-gradient(#69b1e0,#4a96d3);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0',endColorstr='#ff4a96d3',GradientType=0);border-top:1px solid #5295cd;border-bottom:1px solid #2661a6}.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected td.w2ui-node-dots,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-selected:hover td.w2ui-node-dots{color:#fff!important;text-shadow:1px 1px 2px #666!important}.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover{background:transparent!important;border-top:1px solid transparent;border-bottom:1px solid transparent}.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled td.w2ui-node-dots,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-caption,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-image,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover .w2ui-node-image>span,.w2ui-sidebar .w2ui-sidebar-div .w2ui-disabled:hover td.w2ui-node-dots{opacity:.4;filter:alpha(opacity=40);color:#000!important;text-shadow:0 0 0 #fff!important}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-caption{white-space:nowrap;padding:5px 0 5px 3px;margin:1px 0 1px 22px;position:relative;z-index:1;font-size:9pt}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group{white-space:nowrap;overflow:hidden;padding:10px 0 10px 10px;margin:0;cursor:default;color:#868b92;background-color:transparent}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group :nth-child(1){margin-right:10px;float:right;color:transparent}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-group :nth-child(2){font-weight:400;text-transform:uppercase}.w2ui-sidebar .w2ui-sidebar-div .w2ui-node-sub{overflow:hidden}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-dots{width:18px;padding:0 0 1px 7px;text-align:center}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-dots .w2ui-expand{width:1pc;margin-top:-3px;pointer-events:auto}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data{padding:1px 1px 3px}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image{padding:3px 0 0;float:left}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image>span{font-size:1pc;color:#000;text-shadow:0 0 0 #fff}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-image.w2ui-icon{margin-top:3px}.w2ui-sidebar .w2ui-sidebar-div td.w2ui-node-data .w2ui-node-count{float:right;border:1px solid #9da4af;border-radius:20px;width:auto;height:18px;padding:2px 7px;margin:3px 4px -2px 0;background-color:#e7f0fc;color:#667274;box-shadow:0 0 2px #fff;text-shadow:1px 1px 1px #e6e6e6;position:relative;z-index:2}.w2ui-tabs{cursor:default;overflow:hidden!important;background-color:#fafafa;padding:3px 0;padding-bottom:0!important}.w2ui-tabs table{border-bottom:1px solid silver;padding:0 7px}.w2ui-tabs .w2ui-tab{padding:6px 20px;text-align:center;color:#000;background-color:transparent;border:1px solid silver;border-bottom:1px solid silver;white-space:nowrap;margin:1px 1px -1px 0;border-top-left-radius:4px;border-top-right-radius:4px;cursor:default}.w2ui-tabs .w2ui-tab.active{color:#000;background-color:#fff;border:1px solid silver;border-bottom:1px solid transparent}.w2ui-tabs .w2ui-tab.closable{padding:6px 28px 6px 20px}.w2ui-tabs .w2ui-tab-close{color:#555;text-shadow:1px 1px 1px #bbb;float:right;margin:6px 4px 0 0;padding:0 0 0 5px;width:1pc;height:1pc;opacity:.9;border:0;border-top:3px solid transparent;border-radius:9px}.w2ui-tabs .w2ui-tab-close:hover{background-color:#d77f7f;color:#fff}.w2ui-tabs .w2ui-tab-close:before{position:relative;top:-2px;left:0;opacity:.6;color:inherit;text-shadow:inherit;content:'x'}.w2ui-toolbar{margin:0;padding:2px;outline:0;background-color:#efefef;overflow:hidden!important;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.w2ui-toolbar .disabled{opacity:.3;filter:alpha(opacity=30)}.w2ui-toolbar table{table-layout:auto!important}.w2ui-toolbar table td{border:0!important}.w2ui-toolbar table.w2ui-button{margin:0 1px;border-radius:4px;height:24px;border:1px solid transparent;background-color:transparent}.w2ui-toolbar table.w2ui-button .w2ui-tb-image{width:1pc;height:1pc;padding:0;margin:2px 4px 3px 3px!important;border:0!important;text-align:center}.w2ui-toolbar table.w2ui-button .w2ui-tb-image>span{font-size:15px;margin-top:3px;display:block;color:#8d99a7}.w2ui-toolbar table.w2ui-button .w2ui-tb-caption{color:#000;padding:0 4px 0 2px}.w2ui-toolbar table.w2ui-button .w2ui-tb-count{padding:0 4px 0 0}.w2ui-toolbar table.w2ui-button .w2ui-tb-count>span{border:1px solid #9da4af;border-radius:20px;width:auto;height:18px;padding:2px 7px;background-color:#e7f0fc;color:#667274;box-shadow:0 0 2px #fff;text-shadow:1px 1px 1px #e6e6e6}.w2ui-toolbar table.w2ui-button .w2ui-tb-down{padding:3px}.w2ui-toolbar table.w2ui-button .w2ui-tb-down>div{border:4px solid transparent;border-top:5px solid #8d99a7;margin-top:5px}.w2ui-toolbar table.w2ui-button.over{border:1px solid #ccc;background-color:#eee}.w2ui-toolbar table.w2ui-button.over .w2ui-tb-caption{color:#000}.w2ui-toolbar table.w2ui-button.down{border:1px solid #aaa;background-color:#ddd}.w2ui-toolbar table.w2ui-button.down .w2ui-tb-caption{color:#666}.w2ui-toolbar table.w2ui-button.checked{border:1px solid #aaa;background-color:#fff}.w2ui-toolbar table.w2ui-button.checked .w2ui-tb-caption{color:#000}.w2ui-toolbar table.w2ui-button table{height:17px;border-radius:4px;cursor:default}.w2ui-toolbar .w2ui-break{background-image:-webkit-linear-gradient(top,hsla(0,0%,60%,.1) 0,#999 40%,#999 60%,hsla(0,0%,60%,.1) 100%);background-image:linear-gradient(top,hsla(0,0%,60%,.1) 0,#999 40%,#999 60%,hsla(0,0%,60%,.1) 100%);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff999999',endColorstr='#ff999999',GradientType=0);width:1px!important;height:22px;padding:0;margin:0 6px}.w2ui-listview{overflow:auto!important;background-color:#fff!important}.w2ui-listview,.w2ui-listview *{-ms-box-sizing:border-box;-o-box-sizing:border-box;box-sizing:border-box}.w2ui-listview>ul{list-style-type:none;margin:0;cursor:default}.w2ui-listview>ul>li{display:inline-block;vertical-align:top;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;border:1px solid transparent;border-radius:4px}.w2ui-listview>ul>li.w2ui-focused,.w2ui-listview>ul>li.w2ui-selected{border:1px solid #2661a6}.w2ui-listview>ul>li.w2ui-selected,.w2ui-listview>ul>li.w2ui-selected.hover{background-image:-webkit-linear-gradient(#69b1e0,#4a96d3);background-image:linear-gradient(#69b1e0,#4a96d3);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0',endColorstr='#ff4a96d3',GradientType=0)}.w2ui-listview>ul>li.w2ui-selected.hover>div>div.caption,.w2ui-listview>ul>li.w2ui-selected>div>div.caption{color:#fff}.w2ui-listview>ul>li.w2ui-selected.hover>div>div.description,.w2ui-listview>ul>li.w2ui-selected.hover>div>div.extra>div>div,.w2ui-listview>ul>li.w2ui-selected>div>div.description,.w2ui-listview>ul>li.w2ui-selected>div>div.extra>div>div{color:#ddd}.w2ui-listview>ul>li.hover{background-color:#d7e1ef;border:1px solid #2661a6}.w2ui-listview>ul>li div{vertical-align:middle}.w2ui-listview>ul>li>div>div.caption{display:block;text-align:center;word-wrap:break-word;max-height:50px;color:#000;font-size:9pt}.w2ui-listview>ul>li>div>div.description{display:none;text-align:left;color:#777;font-size:9pt}.w2ui-listview>ul>li>div>div.extra{display:none}.w2ui-listview>ul>li>div>div.extra>div>div{color:#777}.w2ui-icon-small>ul{padding:1px 0 0 1px}.w2ui-icon-small>ul>li{margin:0 1px 1px 0;padding:2px;width:250px;white-space:nowrap}.w2ui-icon-small>ul>li>div>div.w2ui-listview-img{display:inline-block;width:26px;height:22px;font-size:21px;margin-right:2px}.w2ui-icon-small>ul>li>div>div.caption{display:inline-block}.w2ui-icon-medium>ul{padding:4px 0 0 4px}.w2ui-icon-medium>ul>li{margin:0 4px 4px 0;padding:4px;width:75pt}.w2ui-icon-medium>ul>li>div>div.w2ui-listview-img{display:block;width:92px;height:60px;font-size:57px;margin-left:auto;margin-right:auto;background-position:center}.w2ui-icon-large>ul{padding:4px 0 0 4px}.w2ui-icon-large>ul>li{margin:0 4px 4px 0;padding:4px;width:10pc}.w2ui-icon-large>ul>li>div>div.w2ui-listview-img{display:block;width:152px;height:90pt;font-size:114px;margin-left:auto;margin-right:auto;background-position:center}.w2ui-icon-tile>ul{padding:1px 0 0 1px}.w2ui-icon-tile>ul>li{margin:0 1px 1px 0;padding:4px;width:250px;white-space:nowrap}.w2ui-icon-tile>ul>li>div>div.w2ui-listview-img{display:inline-block;width:72px;height:60px;font-size:57px;float:left;margin-right:4px}.w2ui-icon-tile>ul>li>div>div.caption{text-align:left}.w2ui-icon-tile>ul>li>div>div.description{display:block}.w2ui-table>ul{padding:0}.w2ui-table>ul>li{width:100%;padding:2px;border-radius:0;border-bottom:1px dotted #d3d3d3}.w2ui-table>ul>li>div{display:inline-block;position:relative;width:100%;white-space:nowrap;overflow:hidden}.w2ui-table>ul>li>div>div.w2ui-listview-img{display:inline-block;width:38px;height:2pc;font-size:31px;margin-right:2px}.w2ui-table>ul>li>div>div.caption{display:inline-block}.w2ui-table>ul>li>div>div.extra{display:inline-block;position:absolute;right:0;height:100%;background-color:#fff}.w2ui-table>ul>li>div>div.extra>div:before{display:inline-block;height:100%;width:0;content:'';vertical-align:middle}.w2ui-table>ul>li>div>div.extra>div{display:inline}.w2ui-table>ul>li>div>div.extra>div>div{display:inline-block;font-size:9pt}.w2ui-table>ul>li.w2ui-selected div.extra,.w2ui-table>ul>li.w2ui-selected.hover div.extra{background-image:-webkit-linear-gradient(#69b1e0,#4a96d3);background-image:linear-gradient(#69b1e0,#4a96d3);filter:progid:dximagetransform.microsoft.gradient(startColorstr='#ff69b1e0',endColorstr='#ff4a96d3',GradientType=0)}.w2ui-table>ul>li.hover div.extra{background-color:#d7e1ef}.w2ui-listview>ul>li div.icon-none{border:1px solid hsla(0,0%,40%,.35)}",""]);
},99:function(e,t,i){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var i=this[t];i[2]?e.push("@media "+i[2]+"{"+i[1]+"}"):e.push(i[1])}return e.join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(n[s]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},106:function(e,t,i){function n(e,t){for(var i=0;i<e.length;i++){var n=e[i],r=c[n.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](n.parts[s]);for(;s<n.parts.length;s++)r.parts.push(a(n.parts[s],t))}else{for(var o=[],s=0;s<n.parts.length;s++)o.push(a(n.parts[s],t));c[n.id]={id:n.id,refs:1,parts:o}}}}function r(e){for(var t=[],i={},n=0;n<e.length;n++){var r=e[n],s=r[0],o=r[1],a=r[2],l=r[3],d={css:o,media:a,sourceMap:l};i[s]?i[s].parts.push(d):t.push(i[s]={id:s,parts:[d]})}return t}function s(){var e=document.createElement("style"),t=f();return e.type="text/css",t.appendChild(e),e}function o(){var e=document.createElement("link"),t=f();return e.rel="stylesheet",t.appendChild(e),e}function a(e,t){var i,n,r;if(t.singleton){var a=g++;i=m||(m=s()),n=l.bind(null,i,a,!1),r=l.bind(null,i,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=o(),n=u.bind(null,i),r=function(){i.parentNode.removeChild(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(),n=d.bind(null,i),r=function(){i.parentNode.removeChild(i)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function l(e,t,i,n){var r=i?"":n.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var s=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function d(e,t){var i=t.css,n=t.media;t.sourceMap;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}function u(e,t){var i=t.css,n=(t.media,t.sourceMap);n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}var c={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=h(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var i=r(e);return n(i,t),function(e){for(var s=[],o=0;o<i.length;o++){var a=i[o],l=c[a.id];l.refs--,s.push(l)}if(e){var d=r(e);n(d,t)}for(var o=0;o<s.length;o++){var l=s[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete c[l.id]}}}};var v=function(){var e=[];return function(t,i){return e[t]=i,e.filter(Boolean).join("\n")}}()},107:function(e,t,i){var n=i(98);"string"==typeof n&&(n=[[e.id,n,""]]);i(106)(n,{});n.locals&&(e.exports=n.locals)},119:function(e,t,i){(function(t,n){function r(){for(var e,i=t("#select-chartBusiness option"),n={},r=1,s=i.length;s>r;r++)e=0|i.eq(r).val(),n[e]=i.eq(r).text(),o+=e+",";return o=o.replace(/,$/,""),n}function s(e){console.log(e),setTimeout(function(){window.$("#grid").w2grid(e)},10)}i(97),i(107);var o="",a=r(),l={init:function(){n={},this.bindEvent()},bindEvent:function(){var e=this;t("#showCharts").bind("click",function(i){var n=t("#select-chartBusiness").val();n=-1==n?o:n;var r={id:n,timeScope:t("#select-timeScope").val()};t.getJSON("/errorCount/queryProjectTotal",r,function(t){var i=e.processData(t.data||t);s(i)})}).click()},processData:function(e){var t=1,i={name:"grid"+Date.now(),columnGroups:[{span:1,caption:""}],columns:[{field:"projectName",caption:"",size:"100px",sortable:!1,attr:"align=center",resizable:!0}],records:[]};return Object.keys(e||{}).forEach(function(n){var r=e[n]||{},s={};s.projectName=a[n],s.recid=n,Object.keys(r).forEach(function(e){var n=r[e],o="total"+e,a="pv"+e,l="cent"+e;t&&(i.columnGroups.push({span:3,caption:e}),i.columns.push({field:o,caption:"total",sortable:!0,attr:"align=center",resizable:!0,size:"13%"}),i.columns.push({field:a,caption:"pv",sortable:!0,attr:"align=center",resizable:!0,size:"13%"}),i.columns.push({field:l,caption:"total/pv",sortable:!0,attr:"align=center",resizable:!0,size:"13%"})),s[o]=n.total,s[a]=n.pv,s[l]=n.cent}),t=0,i.records.push(s)}),i.onColumnClick=function(){},i}};e.exports=l}).call(t,i(2),i(97))}});